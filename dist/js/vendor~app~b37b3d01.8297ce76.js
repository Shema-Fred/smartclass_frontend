(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor~app~b37b3d01"],{"01e2":function(t,e,a){"use strict";var s=a("1718"),n=a.n(s);n.a},1718:function(t,e,a){},"193e":function(t,e,a){},"1b83":function(t,e,a){"use strict";var s=a("c300"),n=a.n(s);n.a},3972:function(t,e,a){},"3d40":function(t,e,a){},"3ec9":function(t,e,a){"use strict";var s=a("ad49"),n=a.n(s);n.a},"41e1":function(t,e,a){"use strict";var s=a("b71f"),n=a.n(s);n.a},4627:function(t,e,a){"use strict";var s=a("193e"),n=a.n(s);n.a},"4bda":function(t,e,a){"use strict";var s=a("3972"),n=a.n(s);n.a},5403:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"teacher-container"}},[a("teacher-nav-bar"),a("main",{staticClass:"p-3",attrs:{id:"teacher-main-content"}},[a("transition",{attrs:{name:"component-fade",id:"teacher-screen"}},[a("router-view")],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-navbar",{staticClass:"student-navbar w-100",attrs:{type:"dark",variant:"light",sticky:""}},[s("b-button",{staticClass:"close-btn p-0 text-reset",class:{active:t.sidebarShown},attrs:{variant:"link"},on:{click:function(e){return t.$emit("toggle-sidebar")}}},[s("span",{staticClass:"toggle-bar"})]),s("b-navbar-brand",{staticClass:"ml-md-4 ml-3",attrs:{tag:"div"}},[s("img",{staticClass:"logo",attrs:{src:a("ed29"),alt:"Smartclass Logo"}})]),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",{staticClass:"ml-auto align-items-lg-center",attrs:{align:"center",fill:""}},[s("b-nav-item",{staticClass:"px-2",attrs:{"exact-active-class":"text-primary"}},[s("b-button",{staticClass:"py-2 text-dark",attrs:{variant:"link"}},[s("b-icon-bell",{attrs:{scale:"1.23"}})],1)],1),s("b-nav-item-dropdown",{attrs:{"no-caret":"",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-button",{staticClass:"py-2 account-btn text-dark text-decoration-none",attrs:{variant:"link"}},[s("b-icon-person-circle",{attrs:{scale:"1.5"}}),s("span",{staticClass:"ml-2 d-none d-sm-inline"},[t._v("My Account")])],1)]},proxy:!0}])},[t.user?s("b-dropdown-text",{attrs:{"text-class":"font-weight-light"}},[t._v(t._s(t.user.userame))]):t._e(),s("b-dd-divider"),s("b-dropdown-item",{attrs:{"link-class":"py-2","active-class":"bg-primary text-light",to:{name:"teacher-classes"}}},[t._v(" Classes ")]),s("b-dropdown-item",{attrs:{"link-class":"py-2","active-class":"bg-primary text-light",to:{name:"teacher-profile"}}},[t._v(" Profile ")]),s("b-dropdown-item",{attrs:{"link-class":"py-2","active-class":"bg-primary text-light",to:{name:"teacher-chatrooms"}}},[t._v(" Chatroom ")]),s("b-dd-divider"),s("b-dropdown-item",{attrs:{to:"/logout","link-class":"text-danger"}},[t._v(" Logout ")])],1)],1)],1)],1)},i=[],r={name:"student-navbar-component",props:{sidebarShown:{type:Boolean,default:!0}},computed:{user:function(){return this.$store.state.teacher.data}},data:function(){return{}}},l=r,c=(a("3ec9"),a("2877")),u=Object(c["a"])(l,o,i,!1,null,"5c082e95",null),d=u.exports,m={name:"teacher-page",components:{teacherNavBar:d},data:function(){return{}},mounted:function(){this.$title("Teacher")},methods:{}},h=m,g=(a("4bda"),Object(c["a"])(h,s,n,!1,null,"caa56944",null)),p=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{attrs:{"no-gutters":""}},[a("header",{staticClass:"text-center w-100"},[a("h1",{staticClass:"display-4 mb-2"},[t._v("My Classes")]),a("h6",{staticClass:"mb-0"},[t._v("Give help on any class.")])])]),t.state.loading?a("b-row",{staticClass:"flex-column pt-5",attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("div",[a("AppLoading",{attrs:{type:"dark"}})],1),a("p",{staticClass:"mt-3"},[t._v("Loading classes")])]):t.classes?a("div",{staticClass:"px-3",attrs:{"no-gutters":"","align-h":"center"}},[a("b-row",t._l(6,(function(e){return a("b-col",{key:e,staticClass:"pb-4",attrs:{cols:"auto"},on:{click:function(a){return t.toClassDetails(e)}}},[a("b-row",{staticClass:"class flex-column",attrs:{"no-gutters":""}},[a("b-col",{staticClass:"icon",attrs:{cols:"12"}},[a("legend",[t._v("S"+t._s(e))])]),a("b-col",{staticClass:"content px-3 pt-3 pb-2",attrs:{cols:"12"}},[a("div",{staticClass:"name h5 mt-1 mb-4 text-center"},[t._v(" "+t._s(t.user.subjectName||"")+" S"+t._s(e)+" ")]),a("b-row",{staticClass:"buttons",attrs:{"no-gutters":"","align-h":"center"}},[a("b-button",{staticClass:"px-4",attrs:{variant:"dark",size:"sm",pill:""}},[t._v(" Open ")])],1)],1)],1)],1)})),1)],1):a("b-row",{staticClass:"flex-column pt-5",attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("h6",{staticClass:"mt-3"},[t._v("You have no classes at the moment!")])])],1)},f=[],v=(a("4de4"),a("b0c0"),{name:"teacher-class-page",data:function(){return{state:{loading:!1},classes:[]}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){this.$title("Classes"),this.fetchClasses()},methods:{fetchClasses:function(){var t=this;this.state.loading=!0,this.axios.post("/getcourse",{action:"getclass"}).then((function(e){t.classes=e.data,t.$store.dispatch("teacher/setClassesData",e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))},toClassDetails:function(t){var e=this.classes.filter((function(e){return e.name=="S".concat(t)}));e.length<1||this.$router.push("/teacher/class/".concat(e[0].id))}}}),x=v,C=(a("817d"),Object(c["a"])(x,b,f,!1,null,"6a0d82ff",null)),k=C.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"teacher-chatroom",attrs:{fluid:""}},[a("b-row",{staticClass:"header p-3",attrs:{"no-gutters":"","align-h":"between"}},[a("b-col",[a("header",{staticClass:"py-4"},[a("h3",{},[t._v("Chatroom")])])]),a("b-col",{staticClass:"d-flex align-items-center",attrs:{cols:"auto"}},[a("b-form",{attrs:{inline:""}},[a("b-form-group",{staticClass:"mx-2"},[a("b-form-select",{attrs:{disabled:t.disableLevels},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Level ")])]},proxy:!0}]),model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},t._l(t.levels,(function(e,s){return a("b-form-select-option",{key:s,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])})),1)],1),a("b-form-group",{staticClass:"ml-2"},[a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingMessages},on:{click:t.fetchMessages}},[t.state.loadingMessages?a("b-spinner",{attrs:{small:"",variant:"light"}}):a("div",[t._v("Refresh")])],1)],1)],1)],1)],1),a("b-row",{staticClass:"my-3 messages-holder",attrs:{"no-gutters":""}},[a("chat-box",{attrs:{messages:t.messages},on:{"send-message":t.sendMessage}})],1)],1)},w=[],_=(a("d81d"),a("96cf"),a("1da1")),D=a("9b24"),$={name:"teacher-chatroom",components:{chatBox:D["a"]},data:function(){return{state:{loadingMessages:!1,loadingLevels:!1},levels:[],level:"10",messages:[]}},computed:{disableLevels:function(){return!!this.state.loadingLevels||this.levels.length<1},user:function(){return this.$store.state.teacher.data}},beforeMount:function(){this.$title("chatroom"),this.fetchMessages(),this.fetchLevels()},methods:{fetchMessages:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingMessages=!0,a={action:"getMessage",level:t.level,page:"1"},e.next=4,t.axios.post("chat",a);case 4:s=e.sent,n=s.data,o=function(e){return e.sentBy==t.user.userame?e.mine=!0:e.mine=!1,e},t.state.loadingMessages=!1,console.log(n,t.user),t.messages=n.data.map(o);case 10:case"end":return e.stop()}}),e)})))()},sendMessage:function(t){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function a(){var s,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.messages.push({UserType:"student",id:"10131",massage:t,mine:!0,sentBy:e.user.userame,time:"2021-03-25 12:01:28"}),s={action:"InsertMessage",message:t,userId:e.user.user_id,level:e.level,type:e.user.user_type},a.prev=2,a.next=5,e.axios.post("chat",s);case 5:n=a.sent,o=n.data,console.log(o),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()},fetchLevels:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingLevels=!0,a={action:"getLevels"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.levels=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingLevels=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()}}},S=$,I=(a("f137"),Object(c["a"])(S,y,w,!1,null,"5b137182",null)),R=I.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100",attrs:{id:"profile"}},[a("b-navbar",{attrs:{variant:"faded",type:"light"}},[a("b-navbar-brand",{staticClass:"pl-3 py-2 logo",attrs:{to:"/"}},[a("img",{attrs:{src:t.Logo,alt:"logo"}})])],1),a("b-row",{staticClass:"pt-2 pb-",attrs:{"no-gutters":"","align-h":"center"}},[a("header",[a("h2",{staticClass:"font-weight-normal"},[t._v("USER PROFILE")])])]),a("b-row",{attrs:{"no-gutters":"","align-h":"center"}},[a("b-col",{staticClass:"pb-4",attrs:{cols:"11",sm:"9",md:"7",lg:"6",xl:"5"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateProfile(e)}}},[a("b-row",{staticClass:"flex-column pt-4",attrs:{"no-gutters":""}},[a("b-form-group",{attrs:{label:"Program"}},[a("b-input-group",[a("b-form-select",{attrs:{required:""},model:{value:t.studentData.program,callback:function(e){t.$set(t.studentData,"program",e)},expression:"studentData.program"}},t._l(t.selectData.programs,(function(e,s){return a("b-form-select-option",{key:s,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),a("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadPrograms}},[a("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.programs?"spin":null,scale:"1.05"}})],1)],1)],1),a("b-form-group",{attrs:{label:"School"}},[a("b-input-group",[a("b-form-select",{attrs:{required:"",disabled:!t.validSchool},model:{value:t.studentData.school,callback:function(e){t.$set(t.studentData,"school",e)},expression:"studentData.school"}},t._l(t.selectData.schools,(function(e,s){return a("b-form-select-option",{key:s,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),a("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadSchools}},[a("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.schools?"spin":null,scale:"1.05"}})],1)],1)],1),a("b-form-group",{attrs:{label:"Level"}},[a("b-input-group",[a("b-form-select",{attrs:{required:"",disabled:!t.validLevel},model:{value:t.studentData.level,callback:function(e){t.$set(t.studentData,"level",e)},expression:"studentData.level"}},t._l(t.selectData.levels,(function(e,s){return a("b-form-select-option",{key:s,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),a("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadLevels}},[a("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.levels?"spin":null,scale:"1.05"}})],1)],1)],1),a("transition",{attrs:{name:"component-fade"}},[t.showCombinations?a("b-form-group",{attrs:{label:"Combination"}},[a("b-input-group",[a("b-form-select",{attrs:{required:"",disabled:!t.validCombination},model:{value:t.studentData.combination,callback:function(e){t.$set(t.studentData,"combination",e)},expression:"studentData.combination"}},t._l(t.selectData.combinations,(function(e,s){return a("b-form-select-option",{key:s,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),a("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadCombinations}},[a("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.combinations?"spin":null,scale:"1.05"}})],1)],1)],1):t._e()],1),a("b-form-group",{attrs:{label:"Class"}},[a("b-input-group",[a("b-form-select",{attrs:{required:"",disabled:!t.validClass},model:{value:t.studentData.class,callback:function(e){t.$set(t.studentData,"class",e)},expression:"studentData.class"}},t._l(t.selectData.classes,(function(e,s){return a("b-form-select-option",{key:s,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),a("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadClasses}},[a("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.classes?"spin":null,scale:"1.05"}})],1)],1)],1)],1),a("b-row",{staticClass:"pt-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"mr-3",staticStyle:{"min-width":"120px"},attrs:{variant:"outline-dark"},on:{click:function(e){return t.$router.back()}}},[t._v(" back ")]),a("b-button",{staticStyle:{"min-width":"120px"},attrs:{variant:"dark",type:"submit",disabled:t.state.loading.global}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.loading.global?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Save")])])],1)],1)],1)],1)],1)],1)},z=[],O=(a("ac1f"),a("5319"),a("ed29")),j=a.n(O),N={name:"edit-profile-page",props:["studentID"],data:function(){return{Logo:j.a,profilePic:null,imgsrc:null,state:{loading:{global:!1,programs:!1,schools:!1,levels:!1,combinations:!1,classes:!1}},studentData:{program:null,school:null,level:null,combination:null,class:null},selectData:{programs:null,schools:null,levels:null,combinations:null,classes:null}}},computed:{validProgram:function(){return!this.state.loading.programs},validSchool:function(){return!this.state.loading.schools&&!!this.studentData.program},validLevel:function(){return!this.state.loading.levels&&!!this.studentData.school},validCombination:function(){return!this.state.loading.combinations&&!!this.studentData.level},validClass:function(){return!this.state.loading.classes&&(!!this.isOLevel||!!this.studentData.combination)},isOLevel:function(){var t=this;if(!this.selectData.levels)return!1;if(!this.studentData.level)return!1;var e=this.selectData.levels.filter((function(e){return e.id==t.studentData.level}))[0];return"O' Level"==e.name},showCombinations:function(){var t=this;if(!this.selectData.levels)return!1;if(!this.studentData.level)return!1;var e=this.selectData.levels.filter((function(e){return e.id==t.studentData.level}))[0];return"O' Level"!=e.name}},watch:{profilePic:function(){var t=this;if(this.profilePic){var e=new FileReader;e.onload=function(e){t.$set(t,"imgsrc",e.target.result)},e.readAsDataURL(this.profilePic)}},"studentData.program":function(){this.studentData.school=null,this.studentData.level=null,this.studentData.combination=null,this.studentData.class=null,this.loadSchools()},"studentData.school":function(){this.studentData.level=null,this.studentData.combination=null,this.studentData.class=null,this.loadLevels()},"studentData.level":function(){this.studentData.combination=null,this.studentData.class=null,this.isOLevel?this.loadClasses():this.loadCombinations()},"studentData.combination":function(){this.studentData.class=null,this.loadClasses()}},mounted:function(){this.loadPrograms(),this.$title("create profile")},methods:{updateProfile:function(){var t=this;this.state.loading.global=!0;var e={action:"Complete_acc",studentId:this.studentID,school:this.studentData.school,grade:this.studentData.class,stage:this.studentData.level,program:this.studentData.program,major:this.studentData.combination||"32"};this.axios.post("complete",e).then((function(e){console.log(e.data),t.$router.replace("/student"),e.data.userID&&t.$store.dispatch("student/setStudentID",e.data.userID),t.state.loading.global=!1})).catch((function(e){console.log(e),t.state.loading.global=!1,t.$notify({title:"ERROR!",message:e.errorMessage||"Something went wrong!",status:"danger"})}))},loadPrograms:function(){var t=this;this.state.loading.programs=!0,this.selectData.programs=null,this.axios.post("complete",{action:"getprogram"}).then((function(e){console.log(e.data),t.selectData.programs=e.data,t.state.loading.programs=!1})).catch((function(e){console.log(e),t.state.loading.programs=!1}))},loadSchools:function(){var t=this;this.validSchool&&(this.state.loading.schools=!0,this.selectData.schools=null,this.axios.post("complete",{action:"getschool",program:this.studentData.program}).then((function(e){console.log(e.data),t.selectData.schools=e.data,t.state.loading.schools=!1})).catch((function(e){t.state.loading.schools=!1,console.log(e)})))},loadLevels:function(){var t=this;this.validLevel&&(this.state.loading.levels=!0,this.selectData.levels=null,this.axios.post("complete",{action:"getLevel",program:this.studentData.program,school:this.studentData.school}).then((function(e){console.log(e.data),t.selectData.levels=e.data,t.state.loading.levels=!1})).catch((function(e){t.state.loading.levels=!1,console.log(e)})))},loadCombinations:function(){var t=this;this.validCombination&&(this.state.loading.combinations=!0,this.selectData.combinations=null,this.axios.post("complete",{action:"getcombination",program:this.studentData.program,schoolId:this.studentData.school,level:this.studentData.level}).then((function(e){console.log(e,t.studentData.level),t.selectData.combinations=e.data,t.state.loading.combinations=!1})).catch((function(e){console.log(e),t.state.loading.combinations=!1})))},loadClasses:function(){var t=this;this.validClass&&(this.state.loading.classes=!0,this.selectData.classes=null,this.axios.post("complete",{action:"getClass",program:this.studentData.program,level:this.studentData.level}).then((function(e){console.log(e.data),t.selectData.classes=e.data,t.state.loading.classes=!1})).catch((function(e){console.log(e),t.state.loading.classes=!1})))}}},E=N,q=(a("e8b9"),Object(c["a"])(E,A,z,!1,null,"00dc08b6",null)),T=q.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"emp-profile"},[a("b-form",[a("b-row",{staticClass:"row",attrs:{"no-gutters":"","align-h":"between"}},[a("b-col",[a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"5"}},[a("div",{staticClass:"profile-img"},[a("b-img",{attrs:{fluid:"",src:t.profilePicture,alt:""}}),a("div",{staticClass:"file btn btn-lg btn-primary"},[t._v(" Change Photo "),a("b-file",{attrs:{accept:"image/*",name:"profile",plain:""},model:{value:t.photo,callback:function(e){t.photo=e},expression:"photo"}})],1)],1)]),a("b-col",[a("div",{staticClass:"profile-head"},[a("h5",{staticClass:"text-md-left text-center"},[t._v(t._s(t.user.userame))]),a("h6",{staticClass:"text-md-left text-center"},[t._v(" "+t._s(t.user.user_type)+" ")])])])],1)],1),a("b-col",{staticClass:"d-flex justify-content-center d-md-block mt-2 mt-md-0",attrs:{md:"auto"}},[a("b-button",{staticClass:"profile-edit-btn px-4",attrs:{variant:"light"},on:{click:t.fetchProfile}},[t._v(" Refresh Profile ")])],1)],1),a("b-row",{staticClass:"pt-4",attrs:{"no-gutters":"","align-h":"center"}},[a("b-col",{attrs:{md:"11"}},[a("b-tabs",{staticClass:"profile-tab",attrs:{"content-class":"p-3 pt-4",id:"myTabContent"}},[t.user?a("b-tab",{attrs:{title:"About",active:"","title-link-class":"custom-title",id:"home"}},[t.user.userame?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Name")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.userame))])])],1):t._e(),t.user.phone?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Phone Number")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.phone))])])],1):t._e(),t.profile.email?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Email")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.profile.email))])])],1):t._e(),t.user.school?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("School")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.school))])])],1):t._e(),t.user.subjectName?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Subject")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.subjectName))])])],1):t._e(),t.profile.combination?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Combination")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.profile.combination))])])],1):t._e(),t.profile.challenges?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Challenges")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.profile.challenges))])])],1):t._e(),t.profile["challenge answered"]?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Challenges answered")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.profile["challenge answered"]))])])],1):t._e(),t.state.loading?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("b-skeleton",{staticClass:"w-50"})],1),a("b-col",{attrs:{md:"6"}},[a("b-skeleton",{staticClass:"w-75"})],1)],1):t._e()],1):t._e()],1)],1)],1)],1)],1)},Q=[],B=(a("466d"),{name:"teacher-profile",data:function(){return{state:{loading:!1},profile:{},photo:null}},computed:{user:function(){return this.$store.state.teacher.data},profilePicture:function(){var t=this.profile.profile;return t&&this.isImage(t)?t:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}},mounted:function(){console.log(this.user)},beforeMount:function(){this.$title("Profile"),this.fetchProfile()},watch:{photo:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.photo){e.next=16;break}return a=new FormData,a.append("userId",t.user.userId),a.append("file",t.photo),e.prev=4,e.next=7,t.axios.post("updateprofile",a);case 7:s=e.sent,s.data,t.fetchProfile(),t.$notify({title:"SUCCESS!",message:"Your Profile picture is updated successfully.",status:"success"}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))()}},methods:{fetchProfile:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loading=!0,t.profile={},a={action:"GetTeacherProfiles",userId:t.user.user_id},e.prev=3,e.next=6,t.axios.post("profiles",a);case 6:s=e.sent,n=s.data,t.state.loading=!1,t.profile=n[0],e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](3),t.state.loading=!1,console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))()},isImage:function(t){return null!=t.match(/\.(jpg|gif|JPG|png)$/)}}}),L=B,F=(a("41e1"),a("a582"),Object(c["a"])(L,M,Q,!1,null,"1c491eab",null)),U=F.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"course-details"}},[a("b-row",{staticClass:"pt-2 pb-3"},[a("b-col",[a("h4",{staticClass:"d-flex"},[a("b-icon-arrow-left",{staticClass:"mr-3 cursor-pointer",on:{"~click":function(e){return t.$router.back()}}}),a("div",{staticClass:"d-flex text-left flex-column"},[a("span",{staticClass:"text-uppercase"},[t._v(t._s(t.user.subjectName)+" course")]),t.selectedUnit?a("span",{staticClass:"text-muted text-uppercase small mt-1 unit"},[t._v(" "+t._s(t.selectedUnit.title)+" ")]):t._e()])],1)])],1),a("b-row",{attrs:{"no-gutters":""}},[a("div",{staticClass:"course-tabs"},t._l(t.shownTabs,(function(e,s){return a("div",{key:s,staticClass:"tab",class:{active:t.selectedTabIndex==s},on:{click:function(e){return t.setTab(s)}}},[t._v(" "+t._s(e)+" ")])})),0)]),a("b-row",{staticClass:"py-3 px-2",attrs:{"no-gutters":""}},[a("transition",{attrs:{name:"tabs-fade"}},[a("keep-alive",{attrs:{max:3}},[a(t.shownTabs[t.selectedTabIndex],{tag:"Component",attrs:{courseName:t.classID,unitsAvailable:t.state.unitsAvailable}})],1)],1)],1)],1)},V=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("teacher-add-challenges-modal")}}},[t._v(" Add challenge ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchChallenges}},[t._v(" Refresh ")])],1),a("b-row",{attrs:{"no-gutters":"","align-h":"center"}},[t.state.loading?a("b-row",{staticClass:"loading flex-column py-5",attrs:{"no-gutters":""}},[a("app-loading",{attrs:{type:"dark"}}),a("p",{staticClass:"mt-3"},[t._v("Loading Challenges")])],1):t.challenges.length>0?a("div",{staticClass:"w-100"},[a("b-row",{directives:[{name:"show",rawName:"v-show",value:t.state.challengesReady,expression:"state.challengesReady"}],staticClass:"loading flex-column py-5",attrs:{"no-gutters":""}},[a("app-loading",{attrs:{type:"dark"}}),a("p",{staticClass:"mt-3 text-center"},[t._v("Loading Challenges")])],1),t._l(t.challenges,(function(e,s){return a("class-challenge",{directives:[{name:"show",rawName:"v-show",value:!t.state.challengesReady,expression:"!state.challengesReady"}],key:s,attrs:{challenge:e},on:{"editor-ready":function(e){return t.checkReadiness(s)}}})}))],2):a("div",{staticClass:"py-5 px-2 flex-center"},[t._v(" No challenges available at the moment. ")])],1),a("add-challenge",{attrs:{classID:t.classID},on:{"challenge-added":t.fetchChallenges}})],1)},H=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"teacher-add-challenges-modal",title:"Add challenge","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingChallenge},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingChallenge?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Challenge")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addChallengeForm",on:{submit:function(e){return e.preventDefault(),t.addChallenge(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{staticClass:"mb-4",attrs:{label:"Challenge","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.challenge,callback:function(e){t.challenge=e},expression:"challenge"}})],1),a("b-form-group",{attrs:{label:"Challenge File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addChallengeBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},J=[],K={name:"teacher-add-challenges-modal",props:["classID"],data:function(){return{state:{addingChallenge:!1},title:"",challenge:"",file:null}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){},methods:{addChallenge:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingChallenge=!0,a=new FormData,a.append("title",t.title),a.append("challenge",t.challenge),a.append("subjectId",t.user.subject),a.append("level",t.classID),a.append("userId",t.user.user_id),a.append("type",t.user.user_type),a.append("file",t.file),e.prev=9,e.next=12,t.axios.post("AddChallanges",a);case 12:s=e.sent,n=s.data,console.log(n),t.state.addingChallenge=!1,n?(t.clearModal(),t.$emit("challenge-added"),t.$notify({title:"SUCCESS!",message:n.message||"Challenge added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding challenge.",status:"danger"}),e.next=24;break;case 19:e.prev=19,e.t0=e["catch"](9),t.state.addingChallenge=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add challenge! try agin later.",status:"danger"});case 24:case"end":return e.stop()}}),e,null,[[9,19]])})))()},submitForm:function(){this.$refs["addChallengeBtn"].click()},clearModal:function(){this.$bvModal.hide("teacher-add-challenges-modal"),this.state.addingChallenge=!1,this.title="",this.challenge="",this.file=null}}},W=K,X=Object(c["a"])(W,G,J,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-col",{attrs:{cols:"12",id:"challenge"}},[a("b-row",{attrs:{"no-gutters":"","align-v":"center"}},[a("b-col",[a("h6",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"mb-0"},[t._v(" "+t._s(t.challenge.title)+" ")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"text-reset text-decoration-none no-outline",attrs:{variant:"link"}},[a("b-icon-caret-down-square-fill")],1)],1)],1),a("b-collapse",{attrs:{id:t.collapseID}},[a("div",{staticClass:"border-top mb-4 mt-3"}),a("b-row",{staticClass:"flex-column mb-3 pt-2",attrs:{"no-gutters":""}},[a("h5",[t._v("Question:")]),a("p",{domProps:{innerHTML:t._s(t.challenge.content)}})]),a("b-form",{staticClass:"mb-4"},[a("h5",{staticClass:"font-weight-normal"},[t._v("Answer:")]),t.state.ready?a("custom-editor",{on:{ready:function(e){return t.$emit("editor-ready")}},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}):t._e(),a("b-row",{staticClass:"mt-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"px-3",attrs:{variant:"primary",disabled:t.disableSubmit},on:{"~click":function(e){return t.submitAnswer(e)}}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.submiting?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"sm"}})],1):a("span",{key:"text"},[t._v("Submit")])])],1)],1)],1),a("b-row",{staticClass:"mt-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"px-3",attrs:{variant:"dark"}},[t._v("close")])],1)],1)],1)},et=[],at=a("ec26"),st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"custom-editor"}},[a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},on:{input:function(e){return t.$emit("input",t.editorData)},ready:function(e){return t.$emit("ready")}},model:{value:t.editorData,callback:function(e){t.editorData=e},expression:"editorData"}})],1)},nt=[],ot=a("0469"),it=a("290f"),rt=a("2d79"),lt=a("d4c1"),ct=a("8068"),ut=a("f61b"),dt=a("eebf"),mt=a("e25f"),ht=a("8a91"),gt=a("85a9"),pt=a("41ae"),bt=a("fb67"),ft=a("8b25"),vt=a("39a0"),xt=a("233a"),Ct=a("0bf6"),kt=a("56b3"),yt=a("7212"),wt=a("6fa7"),_t=a("4801"),Dt=(a("0e170"),a("2b10")),$t=a("643c"),St=a("f4e9"),It=a("9799"),Rt={name:"custom-editor",data:function(){return{editor:ot["a"],editorData:"",editorConfig:{plugins:[it["a"],rt["a"],lt["a"],ct["a"],ut["a"],dt["a"],mt["a"],ht["a"],gt["a"],pt["a"],bt["a"],ft["a"],vt["a"],xt["a"],Ct["a"],kt["a"],yt["a"],wt["a"],_t["a"],Dt["a"],$t["a"],St["a"],It["a"]],toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","undo","redo","MathType","ChemType"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}}}},At=Rt,zt=(a("c938"),Object(c["a"])(At,st,nt,!1,null,"59a0dcaa",null)),Ot=zt.exports,jt={name:"individual-course-challenge-component",components:{CustomEditor:Ot},props:{challenge:{type:Object,required:!0}},data:function(){return{collapseID:Object(at["a"])(),state:{ready:!1,submiting:!1,loadingAnswers:!1},answer:"",allAnswers:null}},beforeMount:function(){var t=this,e=setTimeout((function(){t.$set(t.state,"ready",!0),clearTimeout(e)}),1)},computed:{teacherCollapseID:function(){return"teacher-answer"+this.collapseID},studentCollapseID:function(){return"students-answer"+this.collapseID},studentAnswers:function(){if(this.allAnswers)return this.allAnswers.filter((function(t){return Boolean(t.studentAnswer)}))},teacherAnswers:function(){if(this.allAnswers)return this.allAnswers.filter((function(t){return Boolean(t.teacherAnswer)}))},disableSubmit:function(){return!Boolean(this.answer)},user:function(){return this.$store.state.teacher.data}},methods:{submitAnswer:function(){var t=this;this.state.submiting=!0;var e={action:"addAnswer",userId:this.user.user_id,challengeId:this.challenge.id,comment:this.answer};this.axios.post("getcourse",e).then((function(e){console.log(e.data),t.$notify({title:"SUCCESS!",message:e.data.message,status:"success"}),t.state.submiting=!1})).catch((function(e){console.log(e),t.state.submiting=!1}))},loadAnswers:function(){var t=this;this.state.loadingAnswers=!0;var e={action:"getAnswers",challengeId:this.challenge.id};this.axios.post("getcourse",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.allAnswers=e.data),t.state.loadingAnswers=!1})).catch((function(e){console.log(e),t.state.loadingAnswers=!1}))}}},Nt=jt,Et=(a("c626"),Object(c["a"])(Nt,tt,et,!1,null,"72a888b0",null)),qt=Et.exports,Tt={name:"class-challenge-tab",components:{ClassChallenge:qt,AddChallenge:Z},props:["courseName","unitsAvailable"],data:function(){return{challenges:[],state:{loading:!0,fetching:!1,challengesReady:!0}}},computed:{userID:function(){return"190"},classID:function(){return this.$route.params.classID},user:function(){return this.$store.state.teacher.data},selectedUnit:function(){return this.$parent.selectedUnit}},mounted:function(){this.fetchChallenges()},methods:{fetchChallenges:function(){var t=this;if(!this.state.fetching){this.state.loading=!0,this.state.fetching=!0;var e={action:"getChallenges",userId:this.user.user_id,userType:"teacher",subjectName:this.user.subjectName,level:this.classID};console.log(e),this.axios.post("getcourse",e).then((function(e){console.log(e.data),t.challenges=e.data,t.$set(t.state,"loading",!1),t.$set(t.state,"fetching",!1),console.log(t.state.loading)})).catch((function(e){console.log(e),t.$set(t.state,"loading",!1),t.$set(t.state,"fetching",!1)}))}},fetchChallengesByUnits:function(){var t=this;if(!this.state.fetching){this.state.fetching=!0,this.state.loading=!0;var e={action:"getChallengesByUnit",userId:this.userID,userType:"student",subjectName:this.courseName,unit:this.selectedUnit.UnitId};this.axios.post("getcourse",e).then((function(e){console.log(e.data),t.challenges=e.data,t.state.loading=!1,t.state.fetching=!1})).catch((function(e){console.log(e),t.state.loading=!1,t.state.fetching=!1}))}},checkReadiness:function(t){t&&(!this.challenges&&this.challenges.length||t+1==this.challenges.length&&(this.state.challengesReady=!1))}}},Mt=Tt,Qt=Object(c["a"])(Mt,Y,H,!1,null,"3614737a",null),Bt=Qt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[t.hasNoSchool?a("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("teacher-add-summary-modal")}}},[t._v(" Add Summary ")]):t._e(),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchSummaries}},[t._v(" Refresh ")])],1),t.state.loading?a("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[a("AppLoading",{attrs:{type:"dark"}}),a("p",{staticClass:"text-center mt-3"},[t._v("Loading summaries")])],1):t.summaries.length>0?a("b-list-group",t._l(t.summaries,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex align-items-center"},[a("b-col",{staticClass:"summary"},[t._v(" "+t._s(e.title)+" ")]),a("b-col",{staticClass:"d-flex flex-nowrap align-items-end",attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"summary-"+s,expression:"'summary-' + i"}],staticClass:"px-3 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")]),t.hasNoSchool?a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e)}}},[a("b-icon-trash-fill")],1):t._e()],1),a("b-modal",{attrs:{id:"summary-"+s,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):a("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No summaries available at the moment, try again later! ")]),a("add-summary",{attrs:{classID:t.classID},on:{"summary-added":t.fetchSummaries}})],1)},Ft=[],Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"teacher-add-summary-modal",title:"Add Summary","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingSummary},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingSummary?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Summary")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addSummaryForm",on:{submit:function(e){return e.preventDefault(),t.addSummary(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Summary Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{attrs:{label:"Summary File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addSummaryBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},Pt=[],Vt={name:"teacher-add-summary-modal",props:["classID"],data:function(){return{state:{addingSummary:!1},title:"",file:null}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){},methods:{addSummary:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingSummary=!0,a=new FormData,a.append("title",t.title),a.append("subject",t.user.subject),a.append("level",t.classID),a.append("userId",t.user.user_id),a.append("file",t.file),e.prev=7,e.next=10,t.axios.post("insertSummaries",a);case 10:s=e.sent,n=s.data,console.log(n),t.state.addingSummary=!1,n?(t.clearModal(),t.$emit("summary-added"),t.$notify({title:"SUCCESS!",message:n.message||"Summary added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding summary.",status:"danger"}),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](7),t.state.addingSummary=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add summary! try agin later.",status:"danger"});case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))()},submitForm:function(){this.$refs["addSummaryBtn"].click()},clearModal:function(){this.$bvModal.hide("teacher-add-summary-modal"),this.state.addingSummary=!1,this.title="",this.file=null}}},Yt=Vt,Ht=Object(c["a"])(Yt,Ut,Pt,!1,null,null,null),Gt=Ht.exports,Jt={components:{addSummary:Gt},name:"course-summary-tab",data:function(){return{summaries:[],state:{loading:!1}}},computed:{user:function(){return this.$store.state.teacher.data},classID:function(){return this.$route.params.classID},hasNoSchool:function(){return!this.user.school}},beforeMount:function(){this.fetchSummaries()},methods:{fetchSummaries:function(){var t=this;this.state.loading=!0;var e={action:"getSummaries",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"teacher",level:this.classID};this.axios.post("getcourse",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.summaries=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))},deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(_["a"])(regeneratorRuntime.mark((function a(s){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-summary-toast"),n={action:"deleteSummaries",summaryId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:o=a.sent,i=o.data,e.$bvToast.hide("delete-summary-toast"),e.fetchSummaries(),console.log(i),e.$notify({title:"SUCCESS",message:i.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-summary-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},Kt=Jt,Wt=Object(c["a"])(Kt,Lt,Ft,!1,null,"47aa0f18",null),Xt=Wt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("teacher-add-books-modal")}}},[t._v(" Add Book ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchBooks}},[t._v(" Refresh ")])],1),t.state.loading?a("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[a("AppLoading",{attrs:{type:"dark"}}),a("p",{staticClass:"text-center mt-3"},[t._v("Loading Books")])],1):t.books.length>0?a("b-list-group",t._l(t.books,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex align-items-center"},[a("b-col",{staticClass:"book"},[t._v(" "+t._s(e.title)+" ")]),a("b-col",{staticClass:"d-flex flex-nowrap align-items-end",attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"book-"+s,expression:"'book-' + i"}],staticClass:"px-3 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")]),t.hasNoSchool?a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e)}}},[a("b-icon-trash-fill")],1):t._e()],1),a("b-modal",{attrs:{id:"book-"+s,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):a("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Books available at the moment, try again later! ")]),a("add-book",{attrs:{classID:t.classID},on:{"book-added":t.fetchBooks}})],1)},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"techer-add-books-modal",title:"Add Book","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingBook},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingBook?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Book")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addBookForm",on:{submit:function(e){return e.preventDefault(),t.addBook(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Book Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{attrs:{label:"Book File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addBookBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},ae=[],se={name:"teacher-add-books-modal",props:["classID"],data:function(){return{state:{addingBook:!1},title:"",file:null}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){},methods:{addBook:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingBook=!0,a=new FormData,a.append("title",t.title),a.append("subject",t.user.subject),a.append("level",t.classID),a.append("userId",t.user.user_id),a.append("file",t.file),e.prev=7,e.next=10,t.axios.post("InserBooks",a);case 10:s=e.sent,n=s.data,console.log(n),t.state.addingBook=!1,n.image?(t.clearModal(),t.$emit("book-added"),t.$notify({title:"SUCCESS!",message:n.message||"Book added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding book.",status:"danger"}),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](7),t.state.addingBook=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add book! try agin later.",status:"danger"});case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))()},submitForm:function(){this.$refs["addBookBtn"].click()},clearModal:function(){this.$bvModal.hide("teacher-add-books-modal"),this.state.addingBook=!1,this.title="",this.file=null}}},ne=se,oe=Object(c["a"])(ne,ee,ae,!1,null,null,null),ie=oe.exports,re={components:{addBook:ie},name:"course-books-tab",data:function(){return{books:[],state:{loading:!0}}},computed:{user:function(){return this.$store.state.teacher.data},classID:function(){return this.$route.params.classID},hasNoSchool:function(){return!this.user.school}},beforeMount:function(){this.fetchBooks()},methods:{fetchBooks:function(){var t=this;this.state.loading=!0;var e={action:"getBooks",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"teacher",level:this.classID};this.axios.post("getcourse",e).then((function(e){console.log(e),e.data&&e.data.length&&e.data.length>0&&(t.books=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))},deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(_["a"])(regeneratorRuntime.mark((function a(s){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-book-toast"),n={action:"deleteBooks",bookId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:o=a.sent,i=o.data,e.$bvToast.hide("delete-book-toast"),e.fetchBooks(),console.log(i),e.$notify({title:"SUCCESS",message:i.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-book-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},le=re,ce=Object(c["a"])(le,Zt,te,!1,null,"4952988d",null),ue=ce.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-sidebar",{attrs:{id:"units-sidebar","header-class":"px-3 py-4",backdrop:"",right:"",shadow:""},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"font-weight-bold mb-0"},[t._v("Course units")])]},proxy:!0}])},[t.units?a("ul",{staticClass:"p-0 pb-4 units"},t._l(t.units,(function(e,s){return a("li",{directives:[{name:"b-toggle",rawName:"v-b-toggle.units-sidebar",modifiers:{"units-sidebar":!0}}],key:s,on:{click:function(a){return t.setUnit(e)}}},[t._v(" "+t._s(e.title)+" ")])})),0):t._e()])},me=[],he={name:"units-sidebar",props:["units"],data:function(){return{selectedUnit:null,state:{loading:!0}}},methods:{setUnit:function(t){this.selectedUnit=t,this.$emit("unit-selected",t)}}},ge=he,pe=(a("4627"),Object(c["a"])(ge,de,me,!1,null,"2b8ecb4b",null)),be=pe.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("teacher-add-quiz-modal")}}},[t._v(" Add Quiz ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchQuizes}},[t._v(" Refresh ")])],1),t.state.loading?a("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[a("AppLoading",{attrs:{type:"dark"}}),a("p",{staticClass:"text-center mt-3"},[t._v("Loading Quizes")])],1):t.quizes.length>0?a("b-row",{attrs:{"no-gutters":""}},t._l(t.quizes,(function(t,e){return a("one-quiz",{key:e,attrs:{quiz:t}})})),1):a("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Quizes available at the moment, try again later! ")]),a("add-quiz",{attrs:{classID:t.classID},on:{"quiz-added":t.fetchQuizes}})],1)},ve=[],xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"teacher-add-quiz-modal",title:"Add Quiz","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingQuiz},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingQuiz?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Quiz")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addQuizForm",on:{submit:function(e){return e.preventDefault(),t.addQuiz(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Quiz Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addQuizBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},Ce=[],ke={name:"teacher-add-quiz-modal",props:["classID"],data:function(){return{state:{addingQuiz:!1},title:"",subject:"",subjects:[]}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){},methods:{addQuiz:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingQuiz=!0,a={action:"addQuiz",title:t.title,level:t.classID,subject:t.user.subject,userId:t.user.user_id},t.user.school&&(a.school=t.user.school),e.prev=3,s=function(){return console.log(a,t.user),t.user.school?t.axios.post("insertSquiz",a):t.axios.post("insertQuiz",a)},e.next=7,s();case 7:n=e.sent,o=n.data,t.state.addingQuiz=!1,o?(t.clearModal(),t.$emit("quiz-added"),t.$notify({title:"SUCCESS!",message:o.message||"Quiz added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:o.message||"Something went wrong while adding Quiz.",status:"danger"}),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](3),t.state.addingQuiz=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add Quiz! try agin later.",status:"danger"});case 18:case"end":return e.stop()}}),e,null,[[3,13]])})))()},submitForm:function(){this.$refs["addQuizBtn"].click()},clearModal:function(){this.$bvModal.hide("teacher-add-quiz-modal"),this.state.addingQuiz=!1,this.title=""}}},ye=ke,we=Object(c["a"])(ye,xe,Ce,!1,null,null,null),_e=we.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-col",{attrs:{cols:"12",id:"quiz"}},[a("b-row",{attrs:{"no-gutters":"","align-v":"center"}},[a("b-col",[a("h6",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"mb-0"},[t._v(" "+t._s(t.quiz.title)+" ")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"text-reset text-decoration-none no-outline",attrs:{variant:"link"}},[a("b-icon-caret-down-square-fill")],1)],1)],1),a("b-collapse",{attrs:{id:t.collapseID}},[a("div",{staticClass:"border-top mb-4 mt-3"}),a("b-container",{staticClass:"px-3 py-4"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[a("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"between"}},[a("b-col",{attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],attrs:{variant:"dark"}},[t._v(" close ")])],1),a("b-col",[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"teacher-add-question-modal",expression:"'teacher-add-question-modal'"}],staticClass:"mr-1",attrs:{variant:"dark"}},[t._v("Add Question")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingQuestions},on:{click:t.refresh}},[t._v("Refresh")])],1)],1)],1)],1)],1),a("b-row",{staticClass:"bg-light",attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingQuestions?a("div",{staticClass:"py-5 w-100 flex-center flex-column"},[a("div",{staticClass:"position-relative"},[a("app-loading",{attrs:{type:"dark"}})],1),a("h6",{staticClass:"mt-3"},[t._v("Loading Questions")])]):t.hasNoQuestion?a("div",{staticClass:"px-4 py-5"},[a("h6",[t._v(" This quiz has no questions, click "),a("b-badge",{staticClass:"pt-2 pb-2 mx-2"},[t._v("Add question")]),t._v(" to add them. ")],1)]):a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"questions"},t._l(t.questions,(function(e){return a("p",{key:e.id,staticClass:"question"},[t._v(" "+t._s(e.title)+" ")])})),0)])],1)],1),a("add-question-quiz",{attrs:{quizId:t.quiz.QuizId},on:{"question-added":t.fetchQuestions}}),a("b-row",{staticClass:"mt-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"px-3",attrs:{variant:"dark"}},[t._v(" close ")])],1)],1)],1)],1)},$e=[],Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"teacher-add-question-modal",title:"Add a Question","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:function(t){return s()}}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingQuestion},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingQuestion?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add question")])])],1)],1)]}}])},[a("b-form",{ref:"addQuestionForm",on:{submit:function(e){return e.preventDefault(),t.addQuestion(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Question Title","label-class":"h6"}},[a("b-textarea",{attrs:{required:""},model:{value:t.questionTitle,callback:function(e){t.questionTitle=e},expression:"questionTitle"}})],1),a("b-form-group",{staticClass:"mb-0 px-1",scopedSlots:t._u([{key:"label",fn:function(){return[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"between","align-v":"end"}},[a("b-col",[a("legend",{staticClass:"h6 mb-0"},[t._v("Options")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-icon-plus-square",{staticClass:"cursor-pointer",attrs:{scale:"1.5"},on:{click:t.addOption}})],1)],1)]},proxy:!0}])},[a("b-form-radio-group",{attrs:{required:""},model:{value:t.correctOption,callback:function(e){t.correctOption=e},expression:"correctOption"}},t._l(t.options,(function(e,s){return a("b-form-radio",{key:s,staticClass:"w-100 custom-option my-1",attrs:{value:e.value},on:{change:function(e){return t.optionsChanged(s)}}},[a("b-input-group",[a("b-input",{staticClass:"border-0 no-shadow custom-option-input",attrs:{placeholder:"Enter option"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"option.text"}}),a("b-input-group-prepend",[a("b-icon-x-circle",{staticClass:"ml-3 cursor-pointer",attrs:{scale:"1.25"},on:{click:function(e){return t.removeOption(s)}}})],1)],1)],1)})),1),a("b-button",{ref:"addQuestionBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},Ie=[],Re={name:"teacher-add-question-modal",props:["quizId"],data:function(){return{state:{addingQuestion:!1},options:[{text:"",value:"on"}],correctOption:"on",questionTitle:""}},methods:{addQuestion:function(){var t=this;this.state.addingQuestion=!0;var e=function(t,e){return{optionTitle:t.text,isCorrect:t.value}},a={action:"addQuestion",quizId:this.quizId,question:{file:"xxx",questionTitle:this.questionTitle,questionOptions:this.options.map(e)}};this.axios.post("insertQuestion",a).then((function(e){t.state.addingQuestion=!1,e.data&&e.data.message?(t.$notify({title:"SUCCESS!",message:e.data.message,status:"success"}),t.$bvModal.hide("teacher-add-question-modal"),t.$emit("question-added")):t.$notify({title:"ERROR!",message:"Something went wrong!",status:"danger"}),console.log(e)})).catch((function(e){t.state.addingQuestion=!1,e&&e.errorMessage&&t.$notify({title:"ERROR!",message:e.errorMessage,status:"danger"}),console.log(e)}))},addOption:function(){this.options.push({text:"",value:"incorrect"})},removeOption:function(t){this.options.length<=1||this.$delete(this.options,t)},optionsChanged:function(t){var e=this,a=function(e,a){return e.value=t==a?"on":"incorrect",e};this.$set(this,"options",this.options.map(a)),this.$nextTick((function(){e.correctOption="on",console.log(e.options)}))},submitForm:function(){this.$refs["addQuestionBtn"].click()}}},Ae=Re,ze=Object(c["a"])(Ae,Se,Ie,!1,null,null,null),Oe=ze.exports,je={name:"individual-quiz-component",props:["quiz"],components:{AddQuestionQuiz:Oe},data:function(){return{collapseID:Object(at["a"])(),state:{loadingQuestions:!0},questions:[]}},computed:{userID:function(){return this.$store.state.student.teacher.user_id},user:function(){return this.$store.state.student.teacher},hasNoQuestion:function(){return this.questions.length<1}},beforeMount:function(){Array.isArray(this.questions)?this.state.loadingQuestions=!1:this.fetchQuestions()},methods:{fetchQuestions:function(){var t=this;this.state.loadingQuestions=!0;var e={action:"getQuestions",QuizId:this.quiz.QuizId};this.axios.post("quiz",e).then((function(e){console.log(e),Array.isArray(e.data)&&(t.questions=e.data),t.state.loadingQuestions=!1})).catch((function(e){console.log(e),t.state.loadingQuestions=!1}))},refresh:function(){0==this.state.loadingQuestions&&this.fetchQuestions()}}},Ne=je,Ee=(a("1b83"),Object(c["a"])(Ne,De,$e,!1,null,"30d0729b",null)),qe=Ee.exports,Te={name:"course-quiz-tab",components:{OneQuiz:qe,AddQuiz:_e},data:function(){return{quizes:[],state:{loading:!0}}},computed:{user:function(){return this.$store.state.teacher.data},classID:function(){return this.$route.params.classID}},beforeMount:function(){this.fetchQuizes()},methods:{fetchQuizes:function(){var t=this;this.state.loading=!0;var e={action:"getQuiz",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"teacher",level:this.classID};this.axios.post("quiz",e).then((function(e){console.log(e),e.data&&e.data.length&&e.data.length>0&&(t.quizes=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},Me=Te,Qe=Object(c["a"])(Me,fe,ve,!1,null,"e37c54d6",null),Be=Qe.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("teacher-add-videos-modal")}}},[t._v(" Add Video ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchVideos}},[t._v(" Refresh ")])],1),t.state.loading?a("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[a("AppLoading",{attrs:{type:"dark"}}),a("p",{staticClass:"text-center mt-3"},[t._v("Loading videos")])],1):t.videos.length>0?a("b-list-group",t._l(t.videos,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex align-items-center"},[a("b-col",{staticClass:"video"},[t._v(" "+t._s(e.title)+" ")]),a("b-col",{staticClass:"d-flex flex-nowrap align-items-end",attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"video-"+s,expression:"'video-' + i"}],staticClass:"px-3 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Play ")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e)}}},[a("b-icon-trash-fill")],1)],1),a("b-modal",{attrs:{id:"video-"+s,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[a("b-embed",{attrs:{src:e.file,aspect:"16by9",controls:""}})],1)],1)})),1):a("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No videos available at the moment, try again later! ")]),a("add-video",{attrs:{classID:t.classID},on:{"video-added":t.fetchVideos}})],1)},Fe=[],Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"teacher-add-videos-modal",title:"Add Video","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingVideo},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingVideo?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Video")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addVideoForm",on:{submit:function(e){return e.preventDefault(),t.addVideo(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Video Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{attrs:{label:"Video File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".mp4, .mkv",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addVideoBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},Pe=[],Ve={name:"teacher-add-videos-modal",props:["classID"],data:function(){return{state:{addingVideo:!1},title:"",file:null}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){},methods:{addVideo:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingVideo=!0,a=new FormData,a.append("title",t.title),a.append("subject",t.user.subject),a.append("level",t.classID),a.append("userId",t.user.user_id),a.append("file",t.file),e.prev=7,e.next=10,t.axios.post("videos",a);case 10:s=e.sent,n=s.data,console.log(n),t.state.addingVideo=!1,n.image?(t.clearModal(),t.$emit("video-added"),t.$notify({title:"SUCCESS!",message:n.message||"Video added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding video.",status:"danger"}),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](7),t.state.addingVideo=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add video! try agin later.",status:"danger"});case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))()},submitForm:function(){this.$refs["addVideoBtn"].click()},fetchSubjects:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingSubjects=!0,a={action:"getSubjects"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.subjects=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingSubjects=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},clearModal:function(){this.$bvModal.hide("teacher-add-videos-modal"),this.state.addingVideo=!1,this.title="",this.file=null}}},Ye=Ve,He=Object(c["a"])(Ye,Ue,Pe,!1,null,null,null),Ge=He.exports,Je={components:{addVideo:Ge},name:"course-videos-tab",data:function(){return{videos:[],state:{loading:!1}}},computed:{user:function(){return this.$store.state.teacher.data},classID:function(){return this.$route.params.classID}},beforeMount:function(){this.fetchVideos()},methods:{fetchVideos:function(){var t=this;this.state.loading=!0;var e={action:"getVideos",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"teacher",level:this.classID};this.axios.post("getcourse",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.videos=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))},deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(_["a"])(regeneratorRuntime.mark((function a(s){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-video-toast"),n={action:"deleteVideos",VideoId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:o=a.sent,i=o.data,e.$bvToast.hide("delete-video-toast"),e.fetchVideos(),console.log(i),e.$notify({title:"SUCCESS",message:i.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-video-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},Ke=Je,We=Object(c["a"])(Ke,Le,Fe,!1,null,"b635182c",null),Xe=We.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("teacher-add-assignments-modal")}}},[t._v(" Add Assignment ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchAssignments}},[t._v(" Refresh ")])],1),t.state.loading?a("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[a("AppLoading",{attrs:{type:"dark"}}),a("p",{staticClass:"text-center mt-3"},[t._v("Loading Assignments")])],1):t.assignments.length>0?a("b-list-group",t._l(t.assignments,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex align-items-center"},[a("b-col",{staticClass:"assignment"},[t._v(" "+t._s(e.title)+" ")]),a("b-col",{staticClass:"d-flex flex-nowrap align-items-end",attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"assignment-"+s,expression:"'assignment-' + i"}],staticClass:"px-3 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e)}}},[a("b-icon-trash-fill")],1)],1),a("b-modal",{attrs:{id:"assignment-"+s,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):a("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Assignments available at the moment, try again later! ")]),a("add-assignment",{attrs:{classID:t.classID},on:{"assignment-added":t.fetchAssignments}})],1)},ta=[],ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"teacher-add-assignments-modal",title:"Add Assignment","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingAssignment},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingAssignment?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Assignment")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addAssignmentForm",on:{submit:function(e){return e.preventDefault(),t.addAssignment(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Assignment Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{attrs:{label:"Assignment File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addAssignmentBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},aa=[],sa={name:"teacher-add-assignment-modal",props:["classID"],data:function(){return{state:{addingAssignment:!1},title:"",file:null}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){},methods:{addAssignment:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingAssignment=!0,a=new FormData,a.append("title",t.title),a.append("subject",t.user.subject),a.append("level",t.classID),a.append("userId",t.user.user_id),a.append("school",t.user.school),a.append("file",t.file),e.prev=8,e.next=11,t.axios.post("insertAssign",a);case 11:s=e.sent,n=s.data,console.log(n),t.state.addingAssignment=!1,n?(t.clearModal(),t.$emit("assignment-added"),t.$notify({title:"SUCCESS!",message:n.message||"Assignment added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding Assignment.",status:"danger"}),e.next=23;break;case 18:e.prev=18,e.t0=e["catch"](8),t.state.addingAssignment=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add Assignment! try agin later.",status:"danger"});case 23:case"end":return e.stop()}}),e,null,[[8,18]])})))()},submitForm:function(){this.$refs["addAssignmentBtn"].click()},clearModal:function(){this.$bvModal.hide("teacher-add-assignments-modal"),this.state.addingAssignment=!1,this.title="",this.file=null}}},na=sa,oa=Object(c["a"])(na,ea,aa,!1,null,null,null),ia=oa.exports,ra={components:{addAssignment:ia},name:"course-assignment-tab",data:function(){return{assignments:[],state:{loading:!1}}},computed:{user:function(){return this.$store.state.teacher.data},classID:function(){return this.$route.params.classID}},beforeMount:function(){this.fetchAssignments()},methods:{fetchAssignments:function(){var t=this;this.state.loading=!0;var e={action:"getAssignment",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"teacher",level:this.classID};this.axios.post("getSchoolItems",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.assignments=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))},deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(_["a"])(regeneratorRuntime.mark((function a(s){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-assignment-toast"),n={action:"deleteAssignments",AssignmentId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:o=a.sent,i=o.data,e.$bvToast.hide("delete-assignment-toast"),e.fetchAssignments(),console.log(i),e.$notify({title:"SUCCESS",message:i.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-assignment-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},la=ra,ca=Object(c["a"])(la,Ze,ta,!1,null,"0e7a6aec",null),ua=ca.exports,da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("teacher-add-notes-modal")}}},[t._v(" Add Notes ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchNotes}},[t._v(" Refresh ")])],1),t.state.loading?a("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[a("AppLoading",{attrs:{type:"dark"}}),a("p",{staticClass:"text-center mt-3"},[t._v("Loading Notes")])],1):t.notes.length>0?a("b-list-group",t._l(t.notes,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex align-items-center"},[a("b-col",{staticClass:"note"},[t._v(" "+t._s(e.title)+" ")]),a("b-col",{staticClass:"d-flex flex-nowrap align-items-end",attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"note-"+s,expression:"'note-' + i"}],staticClass:"px-3 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e)}}},[a("b-icon-trash-fill")],1)],1),a("b-modal",{attrs:{id:"note-"+s,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):a("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Notes available at the moment, try again later! ")]),a("add-note",{attrs:{classID:t.classID},on:{"note-added":t.fetchNotes}})],1)},ma=[],ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"teacher-add-notes-modal",title:"Add Note","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingNote},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingNote?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Note")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addNoteForm",on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Note Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{attrs:{label:"Note File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addNoteBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},ga=[],pa={name:"teacher-add-note-modal",props:["classID"],data:function(){return{state:{addingNote:!1},title:"",file:null}},computed:{user:function(){return this.$store.state.teacher.data}},mounted:function(){},methods:{addNote:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingNote=!0,console.log(t.user),a=new FormData,a.append("title",t.title),a.append("subject",t.user.subject),a.append("level",t.classID),a.append("userId",t.user.user_id),a.append("school",t.user.school),a.append("file",t.file),e.prev=9,e.next=12,t.axios.post("insertSnotes",a);case 12:s=e.sent,n=s.data,console.log(n),t.state.addingNote=!1,n?(t.clearModal(),t.$emit("note-added"),t.$notify({title:"SUCCESS!",message:n.message||"Note added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding note.",status:"danger"}),e.next=24;break;case 19:e.prev=19,e.t0=e["catch"](9),t.state.addingNote=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add Note! try agin later.",status:"danger"});case 24:case"end":return e.stop()}}),e,null,[[9,19]])})))()},submitForm:function(){this.$refs["addNoteBtn"].click()},clearModal:function(){this.$bvModal.hide("teacher-add-notes-modal"),this.state.addingNote=!1,this.title="",this.file=null}}},ba=pa,fa=Object(c["a"])(ba,ha,ga,!1,null,null,null),va=fa.exports,xa={components:{addNote:va},name:"course-note-tab",data:function(){return{notes:[],state:{loading:!1}}},computed:{user:function(){return this.$store.state.teacher.data},classID:function(){return this.$route.params.classID}},beforeMount:function(){this.fetchNotes()},methods:{fetchNotes:function(){var t=this;this.state.loading=!0;var e={action:"schoolNotes",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"teacher",level:this.classID};this.axios.post("getSchoolItems",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.notes=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))},deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(_["a"])(regeneratorRuntime.mark((function a(s){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-school-note-toast"),n={action:"deleteSchoolNotes",schoolNotesId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:o=a.sent,i=o.data,e.$bvToast.hide("delete-school-note-toast"),e.fetchNotes(),console.log(i),e.$notify({title:"SUCCESS",message:i.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-school-note-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},Ca=xa,ka=Object(c["a"])(Ca,da,ma,!1,null,"1951cc19",null),ya=ka.exports,wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"w-100"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[a("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchSubmittedAssignments}},[t._v(" Refresh ")])],1),t.state.loading?a("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[a("AppLoading",{attrs:{type:"dark"}}),a("p",{staticClass:"text-center mt-3"},[t._v("Loading Submitted Assignments")])],1):t.submittedAssignments.length>0?a("b-list-group",t._l(t.submittedAssignments,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex align-items-center"},[a("b-col",{staticClass:"book"},[t._v(" "+t._s(e.title)+" ")]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"submittedAssignment-"+s,expression:"'submittedAssignment-' + i"}],staticClass:"px-3",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")])],1),a("b-modal",{attrs:{id:"submittedAssignment-"+s,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):a("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Submitted Assignment available at the moment, try again later! ")])],1)},_a=[],Da={name:"course-submittedAssignment-tab",data:function(){return{submittedAssignments:[],state:{loading:!1}}},computed:{user:function(){return this.$store.state.teacher.data},classID:function(){return this.$route.params.classID}},beforeMount:function(){this.fetchSubmittedAssignments()},methods:{fetchSubmittedAssignments:function(){var t=this;this.state.loading=!0;var e={action:"subAssignment",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"teacher",level:this.classID};this.axios.post("getSchoolItems",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.submittedAssignments=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},$a=Da,Sa=Object(c["a"])($a,wa,_a,!1,null,"2ad31d00",null),Ia=Sa.exports,Ra={name:"class-details-component",components:{Challenges:Bt,Summary:Xt,Books:ue,UnitsSidebar:be,Quiz:Be,Videos:Xe,Assignments:ua,Notes:ya,"Submitted-assignments":Ia},data:function(){return{selectedTabIndex:0,selectedUnit:null,tabs:["Challenges","Summary","Books","Quiz","Videos"],schoolTabs:["Challenges","Assignments","Quiz","Videos","Notes","Submitted-assignments"],units:null,state:{loadingUnits:!0,unitsAvailable:!1}}},computed:{classID:function(){return this.$route.params.classID},classes:function(){return this.$store.state.teacher.classes},user:function(){return this.$store.state.teacher.data},shownTabs:function(){return console.log(this.user.school),this.user.school?this.schoolTabs:this.tabs}},beforeMount:function(){},methods:{fetchUnits:function(){var t=this;this.state.loadingUnits=!0,this.state.unitsAvailable=!1;var e={action:"getUnits",subjectName:this.classID,userId:this.user.user_id,userType:"student"};this.axios.post("getcourse",e).then((function(e){console.log(e),e.data&&e.data.length&&e.data.length>0&&(t.units=e.data,t.selectedUnit=e.data[0]),t.state.loadingUnits=!1,t.state.unitsAvailable=!0})).catch((function(e){console.log(e),t.state.loadingUnits=!1,t.state.unitsAvailable=!0}))},setTab:function(t){isNaN(t)||t!=this.selectedTabIndex&&this.$set(this,"selectedTabIndex",t)},setUnit:function(t){this.$set(this,"selectedUnit",t)}}},Aa=Ra,za=(a("01e2"),Object(c["a"])(Aa,P,V,!1,null,"1c3fa410",null)),Oa=za.exports,ja=[{path:"/teacher",component:p,children:[{path:"",redirect:{name:"teacher-classes"},meta:{requireAuth:!0}},{path:"classes",name:"teacher-classes",component:k,meta:{requireAuth:!0}},{path:"chatrooms",name:"teacher-chatrooms",component:R,meta:{requireAuth:!0}},{path:"class/:classID",name:"teacher-class-details",component:Oa,meta:{requireAuth:!0}},{path:"profile",name:"teacher-profile",component:U,meta:{requireAuth:!0}}]},{path:"/teacher/create-profile/:teacherID",name:"create-teacher-profile",component:T,props:!0,meta:{requireAuth:!0}}];e["a"]=ja},"56d9":function(t,e,a){},"5a13":function(t,e,a){},8158:function(t,e,a){},"817d":function(t,e,a){"use strict";var s=a("c5dd"),n=a.n(s);n.a},"965d":function(t,e,a){"use strict";e["a"]={namespaced:!0,state:function(){return{data:null,classes:null}},mutations:{mutateTeacherData:function(t,e){t.data=e,console.log("data set")},mutateClasses:function(t,e){t.classes=e}},actions:{setTeacherData:function(t,e){t.commit("mutateTeacherData",e)},setClassesData:function(t,e){t.commit("mutateClasses",e)}},getters:{}}},"99c8":function(t,e,a){},a582:function(t,e,a){"use strict";var s=a("99c8"),n=a.n(s);n.a},ad49:function(t,e,a){},b71f:function(t,e,a){},c300:function(t,e,a){},c5dd:function(t,e,a){},c626:function(t,e,a){"use strict";var s=a("56d9"),n=a.n(s);n.a},c938:function(t,e,a){"use strict";var s=a("3d40"),n=a.n(s);n.a},e8b9:function(t,e,a){"use strict";var s=a("5a13"),n=a.n(s);n.a},f137:function(t,e,a){"use strict";var s=a("8158"),n=a.n(s);n.a}}]);