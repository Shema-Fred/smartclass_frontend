(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor~app~29dbcb58"],{"0a33":function(t,e,a){"use strict";var s=a("7ea3"),n=a.n(s);n.a},"144d":function(t,e,a){},"238d":function(t,e,a){"use strict";var s=a("6ae1"),n=a.n(s);n.a},"392f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-quizes p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("b-col",{attrs:{cols:"auto"}},[a("h2",{staticClass:"mb-0"},[t._v("Quizes")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark",disabled:t.state.loadingQuizes},on:{click:t.openModal}},[t._v(" Add quiz ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingQuizes},on:{click:t.refresh}},[t._v(" Refresh ")])],1)],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingQuizes?a("div",{staticClass:"py-5 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Quizes")])],1):t.quizesAvailable?a("quizes-table",{attrs:{"quizes-data":t.allQuizes}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Quizes available at the moment!")])])],1)],1),a("add-quiz",{on:{"quiz-added":t.fetchQuizes}})],1)},n=[],i=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"admin-add-quiz-modal",title:"Add Quiz","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingQuiz},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingQuiz?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Quiz")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addQuizForm",on:{submit:function(e){return e.preventDefault(),t.addQuiz(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Quiz Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{staticClass:"mb-4",attrs:{label:"Subject","label-class":"h6"},scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Subject")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingSubjects},on:{click:t.fetchSubjects}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingSubjects?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.subjectsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Subject ")]),t._l(t.subjects,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),a("b-form-group",{staticClass:"mb-4",scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Level")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingLevels},on:{click:t.fetchLevels}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingLevels?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.levelsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Level ")]),t._l(t.levels,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addQuizBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},o=[],l={name:"admin-add-quiz-modal",data:function(){return{state:{addingQuiz:!1,loadingSubjects:!1,loadingLevels:!1},title:"",subject:"",subjects:[],level:"",levels:[]}},computed:{subjectsAvailable:function(){return!!(Array.isArray(this.subjects)&&this.subjects.length>0)},levelsAvailable:function(){return!!(Array.isArray(this.levels)&&this.levels.length>0)},user:function(){return this.$store.state.admin.data}},mounted:function(){this.fetchSubjects(),this.fetchLevels()},methods:{addQuiz:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingQuiz=!0,a={action:"addQuiz",title:t.title,level:t.level.id,subject:t.subject.id,userId:t.user.user_id},e.prev=2,e.next=5,t.axios.post("insertQuiz",a);case 5:s=e.sent,n=s.data,t.state.addingQuiz=!1,n?(t.clearModal(),t.$emit("quiz-added"),t.$notify({title:"SUCCESS!",message:n.message||"Quiz added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding Quiz.",status:"danger"}),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](2),t.state.addingQuiz=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add Quiz! try agin later.",status:"danger"});case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))()},submitForm:function(){this.$refs["addQuizBtn"].click()},fetchSubjects:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingSubjects=!0,a={action:"getSubjects"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.subjects=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingSubjects=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},fetchLevels:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingLevels=!0,a={action:"getLevels"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.levels=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingLevels=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},clearModal:function(){this.$bvModal.hide("admin-add-quiz-modal"),this.state.addingQuiz=!1,this.state.loadingSubjects=!1,this.state.loadingLevels=!1,this.title="",this.subject="",this.subjects=[],this.level="",this.levels=[]}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,null,null),m=d.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(Action)",fn:function(e){return[a("b-button",{staticClass:"text-light mx-2 ",attrs:{variant:"primary",to:"/admin/resources/quiz/"+e.item.id,size:"sm"}},[t._v(" View ")])]}},{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}}])})},f=[],p={name:"admin-quizes-table",props:["quizes-data"],data:function(){return{fields:["NO",{key:"title",label:"Title",sortable:!0,tdClass:"truncate-holder pr-3"},{key:"subject",label:"Subject",sortable:!1},{key:"Date",label:"Date",sortable:!1,tdClass:"text-center",thClass:"text-center"},"Action"],state:{loadings:{}}}},computed:{shownData:function(){return this.quizesData}}},h=p,g=(a("0a33"),Object(u["a"])(h,b,f,!1,null,null,null)),v=g.exports,x={name:"admin-quizes",components:{quizesTable:v,AddQuiz:m},data:function(){return{state:{loadingQuizes:!1}}},computed:{quizesAvailable:function(){return!!this.allQuizes&&!(this.allQuizes.length&&this.allQuizes.length<1)},allQuizes:function(){return this.$store.state.admin.quizes}},mounted:function(){this.fetchQuizes()},beforeMount:function(){this.$title("Quizes")},methods:{fetchQuizes:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingQuizes=!0,a={action:"getQuiz"},e.prev=2,e.next=5,t.axios.post("getQuiz",a);case 5:s=e.sent,n=s.data,t.state.loadingQuizes=!1,t.$store.dispatch("admin/SET_ADMIN_QUIZ",n),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),t.state.loadingQuizes=!1,console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},refresh:function(){this.state.loadingQuizes||this.fetchQuizes()},openModal:function(){this.$bvModal.show("admin-add-quiz-modal")},hideModal:function(){this.$bvModal.hide("admin-add-quiz-modal")}}},k=x,y=Object(u["a"])(k,s,n,!1,null,"43f0a4a8",null);e["a"]=y.exports},4060:function(t,e,a){"use strict";var s=a("144d"),n=a.n(s);n.a},4475:function(t,e,a){"use strict";var s=a("75c4"),n=a.n(s);n.a},"54db":function(t,e,a){"use strict";var s=a("cee0"),n=a.n(s);n.a},"5db35":function(t,e,a){"use strict";var s=a("f82f"),n=a.n(s);n.a},"6ae1":function(t,e,a){},"6b52":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"emp-profile"},[a("b-form",[a("b-row",{staticClass:"row",attrs:{"no-gutters":"","align-h":"between"}},[a("b-col",[a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"5"}},[a("div",{staticClass:"profile-img"},[a("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS52y5aInsxSm31CvHOFHWujqUx_wWTS9iM6s7BAm21oEN_RiGoog",alt:""}}),a("div",{staticClass:"file btn btn-lg btn-primary"},[t._v(" Change Photo "),a("input",{attrs:{type:"file",name:"file"}})])])]),a("b-col",[a("div",{staticClass:"profile-head"},[a("h5",{staticClass:"text-md-left text-center"},[t._v(t._s(t.user.userame))]),a("h6",{staticClass:"text-md-left text-center"},[t._v(" "+t._s(t.user.user_type)+" ")])])])],1)],1),a("b-col",{staticClass:"d-flex justify-content-center d-md-block mt-2 mt-md-0",attrs:{md:"auto"}},[a("b-button",{staticClass:"profile-edit-btn px-4",attrs:{variant:"light"}},[t._v(" Edit Profile ")])],1)],1),a("b-row",{staticClass:"pt-4",attrs:{"no-gutters":"","align-h":"center"}},[a("b-col",{attrs:{md:"11"}},[a("b-tabs",{staticClass:"profile-tab",attrs:{"content-class":"p-3 pt-4",id:"myTabContent"}},[t.user?a("b-tab",{attrs:{title:"About",active:"","title-link-class":"custom-title",id:"home"}},[t.user.userame?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Name")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.userame))])])],1):t._e(),t.user.phone?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Phone Number")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.phone))])])],1):t._e(),t.user.subjectName?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("Subject")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.subjectName))])])],1):t._e(),t.user.school?a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"6"}},[a("label",[t._v("School")])]),a("b-col",{attrs:{md:"6"}},[a("p",[t._v(t._s(t.user.school))])])],1):t._e()],1):t._e()],1)],1)],1)],1)],1)},n=[],i={name:"admin-profile",computed:{user:function(){return this.$store.state.admin.data}},mounted:function(){console.log(this.user)},beforeMount:function(){this.$title("Profile")}},r=i,o=(a("4475"),a("4060"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"2bc6081f",null);e["a"]=l.exports},"75c4":function(t,e,a){},"7b6d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-student p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("h2",{staticClass:"mb-0"},[t._v("Students")]),a("b-button",{attrs:{variant:"dark",disabled:t.state.loadingStudents},on:{click:t.refresh}},[t._v(" Refresh ")])],1),a("hr",{staticClass:"mt-0 mb-4"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingStudents?a("div",{staticClass:"p-4 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Students")])],1):t.studentsAvailable?a("students-table",{attrs:{"students-data":t.allStudents,"total-pages":t.state.totalPages},on:{"data-edited":t.updateStudentData}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Students available at the moment!")])])],1)],1)],1)},n=[],i=(a("4de4"),a("c975"),a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData,"show-empty":""},scopedSlots:t._u([{key:"empty",fn:function(){return[a("h6",{staticClass:"p-5 text-center"},[t._v("No Students available at the moment!")])]},proxy:!0},{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(names)",fn:function(e){return[t._v(" "+t._s(e.item.firstname)+" "+t._s(e.item["last name"])+" ")]}},{key:"cell(suspend)",fn:function(e){return[a("loading-button",{staticClass:"px-3 small",attrs:{pill:"",size:"sm",variant:"active"==e.value?"outline-danger":"outline-success",loading:t.state.loadings[e.item.id],"loading-type":"dark","loading-bg":"light"},on:{click:function(a){return t.studentAction(e)}}},[t._v(" "+t._s("active"==e.value?"Suspend":"Activate")+" ")])]}}])})],1),a("b-row",{attrs:{"align-h":"center","align-v":"center"}},[t.totalPages>0?a("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":t.totalPages,"use-router":""}}):t._e()],1)],1)},o=[],l={name:"admin-students-table",props:["students-data","total-pages"],data:function(){return{fields:["NO",{key:"names",label:"Names",sortable:!0},{key:"major",label:"Major",sortable:!1},{key:"suspend",label:"Action",sortable:!1,tdClass:"d-flex justify-content-center",thClass:"d-flex justify-content-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.studentsData}},methods:{studentAction:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,i,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.item,n=function(){return e.$set(e.state.loadings,s.id,!1)},e.$set(e.state.loadings,s.id,!0),a.prev=3,i="active"==s.suspend?"StudentSuspend":"StudentApprove",r={action:i,StudentId:s.id},a.next=8,e.axios.post("getStudents",r);case 8:o=a.sent,o.data,l=s,l.suspend="active"==l.suspend?"inactive":"active",e.$emit("data-edited",{data:l,done:n}),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](3),console.log(a.t0),n();case 19:case"end":return a.stop()}}),a,null,[[3,15]])})))()},linkGen:function(t){return{path:"/admin/students/".concat(t)}}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,"6000ea36",null),m=d.exports,b={name:"admin-students",components:{studentsTable:m},data:function(){return{allStudents:null,state:{loadingStudents:!1,refreshing:!1,totalPages:0}}},watch:{page:function(){this.fetchStudents()}},computed:{studentsAvailable:function(){return!!this.allStudents&&!(this.allStudents.length&&this.allStudents.length<1)},page:function(){return this.$route.params.page}},mounted:function(){this.fetchStudents()},beforeMount:function(){this.$title("Students")},methods:{fetchStudents:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingStudents=!0,a={action:"getStudents",page:t.page},t.$set(t,"allStudents",[]),e.prev=3,e.next=6,t.axios.post("getStudents",a);case 6:s=e.sent,n=s.data,t.state.loadingStudents=!1,t.allStudents=n.data,t.state.totalPages=n.number_of_page,e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](3),t.state.loadingStudents=!1,t.allStudents||(t.allStudents=[]),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})))()},updateStudentData:function(t){var e=t.data,a=t.done,s=this.allStudents.filter((function(t){return t.id==e.id}));this.$set(this.allStudents,this.allStudents.indexOf(s),e),a()},refresh:function(){this.state.loadingStudents||this.fetchStudents()}}},f=b,p=Object(u["a"])(f,s,n,!1,null,"23c68acd",null);e["a"]=p.exports},"7ea3":function(t,e,a){},"85b8":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-summaries p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("b-col",{attrs:{cols:"auto"}},[a("h2",{staticClass:"mb-0"},[t._v("Summaries")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark",disabled:t.state.loadingSummary},on:{click:t.openModal}},[t._v(" Add Summary ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingSummary},on:{click:t.refresh}},[t._v(" Refresh ")])],1)],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingSummaries?a("div",{staticClass:"p-4 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Summaries")])],1):t.summariesAvailable?a("summaries-table",{attrs:{"summaries-data":t.allSummaries},on:{"data-changed":t.fetchSummaries}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v(" No Summaries available at the moment! ")])])],1)],1),a("add-summary",{on:{"summary-added":t.fetchSummaries}})],1)},n=[],i=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"admin-add-summary-modal",title:"Add Summary","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingSummary},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingSummary?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Summary")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addSummaryForm",on:{submit:function(e){return e.preventDefault(),t.addSummary(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Summary Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{staticClass:"mb-4",attrs:{label:"Subject","label-class":"h6"},scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Subject")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingSubjects},on:{click:t.fetchSubjects}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingSubjects?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.subjectsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Subject ")]),t._l(t.subjects,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),a("b-form-group",{staticClass:"mb-4",scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Level")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingLevels},on:{click:t.fetchLevels}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingLevels?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.levelsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Level ")]),t._l(t.levels,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1),a("b-form-group",{attrs:{label:"Summary File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addSummaryBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},o=[],l={name:"admin-add-summary-modal",data:function(){return{state:{addingSummary:!1,loadingSubjects:!1,loadingLevels:!1},title:"",subject:"",subjects:[],level:"",levels:[],file:null}},computed:{subjectsAvailable:function(){return!!(Array.isArray(this.subjects)&&this.subjects.length>0)},levelsAvailable:function(){return!!(Array.isArray(this.levels)&&this.levels.length>0)},user:function(){return this.$store.state.admin.data}},mounted:function(){this.fetchSubjects(),this.fetchLevels()},methods:{addSummary:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingSummary=!0,a=new FormData,a.append("title",t.title),a.append("subject",t.subject.id),a.append("level",t.level.id),a.append("userId",t.user.user_id),a.append("file",t.file),e.prev=7,e.next=10,t.axios.post("insertSummaries",a);case 10:s=e.sent,n=s.data,console.log(n),t.state.addingSummary=!1,n.image?(t.clearModal(),t.$emit("summary-added"),t.$notify({title:"SUCCESS!",message:n.message||"Summary added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding summary.",status:"danger"}),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](7),t.state.addingSummary=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add summary! try agin later.",status:"danger"});case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))()},submitForm:function(){this.$refs["addSummaryBtn"].click()},fetchSubjects:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingSubjects=!0,a={action:"getSubjects"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.subjects=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingSubjects=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},fetchLevels:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingLevels=!0,a={action:"getLevels"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.levels=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingLevels=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},clearModal:function(){this.$bvModal.hide("admin-add-summary-modal"),this.state.addingSummary=!1,this.state.loadingSubjects=!1,this.state.loadingLevels=!1,this.title="",this.subject="",this.subjects=[],this.level="",this.levels=[],this.file=null}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,null,null),m=d.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(file)",fn:function(e){return[a("div",{staticClass:"d-flex flex-nowrap align-items-end"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"summary-"+e.item.id,expression:"'summary-' + data.item.id"}],staticClass:"px-2 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Preview ")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e.item)}}},[a("b-icon-trash-fill")],1),a("b-modal",{attrs:{id:"summary-"+e.item.id,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.item.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.value+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)]}}])})},f=[],p={name:"admin-summaries-table",props:["summaries-data"],data:function(){return{fields:["NO",{key:"title",label:"Title",sortable:!0,tdClass:"truncate-holder pr-4"},{key:"subject",label:"Subject",sortable:!1},{key:"Date",label:"Date",sortable:!1,tdClass:"text-center",thClass:"text-center"},{key:"file",label:"File",sortable:!1,tdClass:"text-center",thClass:"text-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.summariesData}},methods:{deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(s){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-summary-toast"),n={action:"deleteSummaries",summaryId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:i=a.sent,r=i.data,e.$bvToast.hide("delete-summary-toast"),e.$emit("data-changed"),console.log(r),e.$notify({title:"SUCCESS",message:r.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-summary-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},h=p,g=(a("9371"),Object(u["a"])(h,b,f,!1,null,null,null)),v=g.exports,x={name:"admin-summaries",components:{SummariesTable:v,AddSummary:m},data:function(){return{allSummaries:null,state:{loadingSummaries:!1}}},computed:{summariesAvailable:function(){return!!this.allSummaries&&!(this.allSummaries.length&&this.allSummaries.length<1)}},mounted:function(){this.fetchSummaries()},beforeMount:function(){this.$title("Summaries")},methods:{fetchSummaries:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingSummaries=!0,a={action:"getsummaries"},e.prev=2,e.next=5,t.axios.post("getItems",a);case 5:s=e.sent,n=s.data,t.state.loadingSummaries=!1,t.allSummaries=n,console.log(n),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),t.state.loadingSummaries=!1,console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},refresh:function(){this.state.loadingSummaries||this.fetchSummaries()},openModal:function(){this.$bvModal.show("admin-add-summary-modal")},hideModal:function(){this.$bvModal.hide("admin-add-summary-modal")}}},k=x,y=Object(u["a"])(k,s,n,!1,null,"b083a5e0",null);e["a"]=y.exports},"8dc9":function(t,e,a){},9371:function(t,e,a){"use strict";var s=a("df21"),n=a.n(s);n.a},"9b66":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"metrics p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("h2",{staticClass:"mb-0"},[t._v("Metrics")]),a("b-button",{attrs:{variant:"dark",disabled:t.state.loading},on:{click:t.refresh}},[t._v(" Refresh ")])],1),a("hr",{staticClass:"mt-0 mb-4"}),a("b-row",{attrs:{"cols-xl":"4","cols-lg":"3","cols-md":"2","cols-sm":"1",cols:"1"}},t._l(t.metrics,(function(e,s){return a("b-col",{key:s,staticClass:"p-3"},[a("div",{staticClass:"metric-card h-100 m-auto d-flex flex-column px-4 py-3"},[a("div",{staticClass:"icon flex-center"},[a("i",{class:e.icon})]),a("div",{staticClass:"d-flex flex-column text-right align-items-end justify-content-center"},[a("transition",{attrs:{name:"component-fade"}},[e.total>0?a("h2",{staticClass:"mb-0 mt-3 display-4"},[t._v(" "+t._s(t._f("number")(e.total))+" ")]):a("b-container",{staticClass:"pt-1",attrs:{fluid:""}},[a("b-row",{attrs:{"align-h":"end"}},[a("b-skeleton",{staticClass:"w-75 py-3 mt-3",attrs:{size:"lg"}})],1)],1)],1),a("p",{staticClass:"font-weight-normal"},[t._v(t._s(e.title))])],1)])])})),1)],1)},n=[],i=(a("a9e3"),a("9129"),a("96cf"),a("1da1")),r={name:"admin-metrics",data:function(){return{state:{loading:!1},metrics:[{title:"Total users",total:0,icon:"fa fa-users"},{title:"Students",total:0,icon:"fa fa-graduation-cap"},{title:"Male students",total:0,icon:"fa fa-male"},{title:"Female students",total:0,icon:"fa fa-female"},{title:"Teachers",total:0,icon:"fa fa-user"},{title:"Challenges",total:0,icon:"fa fa-edit"},{title:"Challenges Answered",total:0,icon:"fa fa-check-square"}]}},filters:{number:function(t){return Number.isNaN(t)?t:Number(t).toLocaleString()}},beforeMount:function(){this.$title("Metrics")},mounted:function(){this.refresh()},methods:{fetchData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.post("metrics",{action:"getMetrics"});case 2:a=e.sent,s=a.data;try{t.$set(t.metrics[0],"total",s["total users"]),t.$set(t.metrics[1],"total",s["students"]),t.$set(t.metrics[2],"total",s["male students"]),t.$set(t.metrics[3],"total",s["female male students"]),t.$set(t.metrics[4],"total",s["teachers"]),t.$set(t.metrics[5],"total",s["total challenges"]),t.$set(t.metrics[6],"total",s["answeres given"])}catch(n){console.log(n)}case 5:case"end":return e.stop()}}),e)})))()},clearData:function(){this.$set(this.metrics[0],"total",0),this.$set(this.metrics[1],"total",0),this.$set(this.metrics[2],"total",0),this.$set(this.metrics[3],"total",0),this.$set(this.metrics[4],"total",0),this.$set(this.metrics[5],"total",0),this.$set(this.metrics[6],"total",0)},refresh:function(){0==this.state.loading&&(this.clearData(),this.fetchData())}}},o=r,l=(a("dfcb"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,"4cea0afa",null);e["a"]=c.exports},bf7e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-videos p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("b-col",{attrs:{cols:"auto"}},[a("h2",{staticClass:"mb-0"},[t._v("Videos")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark",disabled:t.state.loadingVideos},on:{click:t.openModal}},[t._v(" Add Video ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingVideos},on:{click:t.refresh}},[t._v(" Refresh ")])],1)],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingVideos?a("div",{staticClass:"py-5 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Videos")])],1):t.videosAvailable?a("videos-table",{attrs:{"videos-data":t.allVideos},on:{"data-changed":t.fetchVideos}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Videos available at the moment!")])])],1)],1)],1)},n=[],i=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(file)",fn:function(e){return[a("div",{staticClass:"d-flex flex-nowrap align-items-end"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"video-"+e.item.id,expression:"'video-' + data.item.id"}],staticClass:"px-2 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Play ")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e.item)}}},[a("b-icon-trash-fill")],1),a("b-modal",{attrs:{id:"video-"+e.item.id,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.item.title))])]},proxy:!0}],null,!0)},[a("b-embed",{attrs:{src:e.value,aspect:"16by9",controls:""}})],1)],1)]}}])})},o=[],l={name:"admin-videos-table",props:["videos-data"],data:function(){return{fields:["NO",{key:"title",label:"Title",sortable:!0,tdClass:"truncate-holder pr-4"},{key:"subject",label:"Subject",sortable:!1},{key:"Date",label:"Date",sortable:!1,tdClass:"text-center",thClass:"text-center"},{key:"file",label:"File",sortable:!1,tdClass:"text-center",thClass:"text-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.videosData}},methods:{deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(s){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-video-toast"),n={action:"deleteVideos",VideoId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:i=a.sent,r=i.data,e.$bvToast.hide("delete-video-toast"),e.$emit("data-changed"),console.log(r),e.$notify({title:"SUCCESS",message:r.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-video-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},c=l,u=(a("dfe9"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,null,null),m=d.exports,b={name:"admin-videos",components:{videosTable:m},data:function(){return{allVideos:null,state:{loadingVideos:!1}}},computed:{videosAvailable:function(){return!!this.allVideos&&!(this.allVideos.length&&this.allVideos.length<1)}},mounted:function(){this.fetchVideos()},beforeMount:function(){this.$title("Videos")},methods:{fetchVideos:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingVideos=!0,a={action:"getVideos"},e.prev=2,e.next=5,t.axios.post("getItems",a);case 5:s=e.sent,n=s.data,t.state.loadingVideos=!1,t.allVideos=n,console.log(n),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),t.state.loadingVideos=!1,console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},refresh:function(){this.state.loadingVideos||this.fetchVideos()},openModal:function(){this.$bvModal.show("admin-add-videos-modal")},hideModal:function(){this.$bvModal.hide("admin-add-videos-modal")}}},f=b,p=Object(u["a"])(f,s,n,!1,null,"6445eab8",null);e["a"]=p.exports},bfa1:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-mentor p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("h2",{staticClass:"mb-0"},[t._v("Mentors")]),a("b-button",{attrs:{variant:"dark",disabled:t.state.loadingMentors},on:{click:t.refresh}},[t._v(" Refresh ")])],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingMentors?a("div",{staticClass:"p-4 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Mentors")])],1):t.mentorsAvailable?a("mentors-table",{attrs:{"mentors-data":t.allMentors},on:{"data-edited":t.updateMentorData}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Mentors available at the moment!")])])],1)],1)],1)},n=[],i=(a("4de4"),a("c975"),a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(names)",fn:function(e){return[t._v(" "+t._s(e.item.firstname)+" "+t._s(e.item["last name"])+" ")]}},{key:"cell(approved)",fn:function(e){return[a("loading-button",{staticClass:"px-3 small",attrs:{pill:"",size:"sm",variant:1==e.value?"outline-danger":"outline-success",loading:t.state.loadings[e.item.id],"loading-type":"dark","loading-bg":"light"},on:{click:function(a){return t.mentorAction(e)}}},[t._v(" "+t._s(1==e.value?"Suspend":"Activate")+" ")])]}}])})},o=[],l={name:"admin-mentor-table",props:["mentors-data"],data:function(){return{fields:["NO",{key:"names",label:"Names",sortable:!0},{key:"profession",label:"Profession",sortable:!1},{key:"approved",label:"Action",sortable:!1,tdClass:"d-flex justify-content-center",thClass:"d-flex justify-content-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.mentorsData}},methods:{mentorAction:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,i,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.item,n=function(){return e.$set(e.state.loadings,s.id,!1)},e.$set(e.state.loadings,s.id,!0),a.prev=3,i=1==s.approved?"MentorSuspend":"MentorApprove",r={action:i,MentorId:s.id},a.next=8,e.axios.post("mentor",r);case 8:o=a.sent,o.data,l=s,l.approved="0"==l.approved?"1":"0",e.$emit("data-edited",{data:l,done:n}),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](3),console.log(a.t0),n();case 19:case"end":return a.stop()}}),a,null,[[3,15]])})))()}}},c=l,u=(a("ddcc"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,"b3ee0a8a",null),m=d.exports,b={name:"admin-mentors",components:{mentorsTable:m},data:function(){return{allMentors:null,state:{loadingMentors:!1,refreshing:!1}}},mounted:function(){this.fetchMentors()},beforeMount:function(){this.$title("Mentors")},computed:{mentorsAvailable:function(){return!!this.allMentors&&!(this.allMentors.length&&this.allMentors.length<1)}},methods:{fetchMentors:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingMentors=!0,a={action:"getMentors"},e.prev=2,e.next=5,t.axios.post("mentor",a);case 5:s=e.sent,n=s.data,t.state.loadingMentors=!1,t.allMentors=n,console.log(t.allMentors),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),t.state.loadingMentors=!1,console.log(data);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},updateMentorData:function(t){var e=t.data,a=t.done,s=this.allMentors.filter((function(t){return t.id==e.id}));this.$set(this.allMentors,this.allMentors.indexOf(s),e),a()},refresh:function(){this.state.loadingMentors||this.fetchMentors()}}},f=b,p=Object(u["a"])(f,s,n,!1,null,"d475aa52",null);e["a"]=p.exports},c281:function(t,e,a){},cee0:function(t,e,a){},d04b:function(t,e,a){},d53b:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"px-3 py-4"},[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[a("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"between"}},[a("b-col",{attrs:{cols:"auto"}},[a("b-button",{attrs:{variant:"dark"},on:{click:function(e){return t.$router.back()}}},[t._v("Back")])],1),a("b-col",[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"add-question-modal",expression:"'add-question-modal'"}],staticClass:"mr-1",attrs:{variant:"dark"}},[t._v("Add Question")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingQuestions},on:{click:t.refresh}},[t._v("Refresh")])],1)],1)],1)],1),a("b-col",[a("p",[a("span",{staticClass:"h5"},[t._v("Quiz:")]),a("span",{staticClass:"d-inline text-reset"},[t._v(" "+t._s(t.quiz.title)+" ")])])])],1),a("b-row",{staticClass:"bg-light",attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingQuestions?a("div",{staticClass:"py-5 w-100 flex-center flex-column"},[a("div",{staticClass:"position-relative"},[a("app-loading",{attrs:{type:"dark"}})],1),a("h6",{staticClass:"mt-3"},[t._v("Loading Questions")])]):t.hasNoQuestion?a("div",{staticClass:"px-4 py-5"},[a("h6",[t._v(" This quiz has no questions, click "),a("b-badge",{staticClass:"pt-2 pb-2 mx-2"},[t._v("Add question")]),t._v(" to add them. ")],1)]):a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"questions"},t._l(t.allQuestions,(function(e){return a("p",{key:e.id,staticClass:"question"},[t._v(" "+t._s(e.title)+" ")])})),0)])],1)],1),a("b-modal",{attrs:{id:"add-question-modal",title:"Add a Question","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:function(t){return s()}}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingQuestion},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingQuestion?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add question")])])],1)],1)]}}])},[a("b-form",{ref:"addQuestionForm",on:{submit:function(e){return e.preventDefault(),t.addQuestion(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Question Title","label-class":"h6"}},[a("b-textarea",{attrs:{required:""},model:{value:t.questionTitle,callback:function(e){t.questionTitle=e},expression:"questionTitle"}})],1),a("b-form-group",{staticClass:"mb-0 px-1",scopedSlots:t._u([{key:"label",fn:function(){return[a("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"between","align-v":"end"}},[a("b-col",[a("legend",{staticClass:"h6 mb-0"},[t._v("Options")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-icon-plus-square",{staticClass:"cursor-pointer",attrs:{scale:"1.5"},on:{click:t.addOption}})],1)],1)]},proxy:!0}])},[a("b-form-radio-group",{attrs:{required:""},model:{value:t.correctOption,callback:function(e){t.correctOption=e},expression:"correctOption"}},t._l(t.options,(function(e,s){return a("b-form-radio",{key:s,staticClass:"w-100 custom-option my-1",attrs:{value:e.value},on:{change:function(e){return t.optionsChanged(s)}}},[a("b-input-group",[a("b-input",{staticClass:"border-0 no-shadow custom-option-input",attrs:{placeholder:"Enter option"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"option.text"}}),a("b-input-group-prepend",[a("b-icon-x-circle",{staticClass:"ml-3 cursor-pointer",attrs:{scale:"1.25"},on:{click:function(e){return t.removeOption(s)}}})],1)],1)],1)})),1),a("b-button",{ref:"addQuestionBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)],1)},n=[],i=(a("4de4"),a("d81d"),a("96cf"),a("1da1")),r={name:"admin-individual-quiz",data:function(){return{state:{loadingQuestions:!1,addingQuestion:!1},options:[{text:"",value:"on"}],correctOption:"on",questionTitle:"",allQuestions:[]}},computed:{hasNoQuestion:function(){return this.allQuestions.length<1},quizId:function(){return this.$route.params.id},allQuizes:function(){return this.$store.state.admin.quizes},quiz:function(){var t=this;return this.allQuizes.filter((function(e){return e.id==t.quizId}))[0]}},mounted:function(){console.log(this.quiz),this.fetchQuestions()},methods:{fetchQuestions:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingQuestions=!0,a={action:"getQuestion",quizid:t.quizId},e.prev=2,e.next=5,t.axios.post("getQuestion",a);case 5:s=e.sent,n=s.data,t.allQuestions=n,console.log(n),t.state.loadingQuestions=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),console.log(e.t0),t.state.loadingQuestions=!1;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},addQuestion:function(){var t=this;console.log("adding Question...."),this.state.addingQuestion=!0;var e=function(t,e){return{optionTitle:t.text,isCorrect:t.value}},a={action:"addQuestion",quizId:this.quizId,question:{file:"xxx",questionTitle:this.questionTitle,questionOptions:this.options.map(e)}};this.axios.post("insertQuestion",a).then((function(e){t.state.addingQuestion=!1,e.data&&e.data.message?(t.$notify({title:"SUCCESS!",message:e.data.message,status:"success"}),t.$bvModal.hide("add-question-modal"),t.fetchQuestions()):t.$notify({title:"ERROR!",message:"Something went wrong!",status:"danger"}),console.log(e)})).catch((function(e){t.state.addingQuestion=!1,e&&e.errorMessage&&t.$notify({title:"ERROR!",message:e.errorMessage,status:"danger"}),console.log(e)})),console.log(a)},submitForm:function(){this.$refs["addQuestionBtn"].click()},addOption:function(){this.options.push({text:"",value:"incorrect"})},removeOption:function(t){this.options.length<=1||this.$delete(this.options,t)},optionsChanged:function(t){var e=this,a=function(e,a){return e.value=t==a?"on":"incorrect",e};this.$set(this,"options",this.options.map(a)),this.$nextTick((function(){e.correctOption="on",console.log(e.options)}))},refresh:function(){0==this.state.loadingQuestions&&this.fetchQuestions()}}},o=r,l=(a("54db"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},d6aa:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-papers p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("b-col",{attrs:{cols:"auto"}},[a("h2",{staticClass:"mb-0"},[t._v("Papers")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark",disabled:t.state.loadingPapers},on:{click:t.openModal}},[t._v(" Add Paper ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingPapers},on:{click:t.refresh}},[t._v(" Refresh ")])],1)],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingPapers?a("div",{staticClass:"py-5 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Papers")])],1):t.papersAvailable?a("papers-table",{attrs:{"papers-data":t.allPapers},on:{"data-changed":t.fetchPapers}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Papers available at the moment!")])])],1)],1),a("add-paper",{on:{"paper-added":t.fetchPapers}})],1)},n=[],i=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"admin-add-paper-modal",title:"Add Paper","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingPaper},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingPaper?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Paper")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addPaperForm",on:{submit:function(e){return e.preventDefault(),t.addPaper(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Paper Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{staticClass:"mb-4",attrs:{label:"Subject","label-class":"h6"},scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Subject")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingSubjects},on:{click:t.fetchSubjects}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingSubjects?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.subjectsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Subject ")]),t._l(t.subjects,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),a("b-form-group",{staticClass:"mb-4",scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Level")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingLevels},on:{click:t.fetchLevels}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingLevels?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.levelsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Level ")]),t._l(t.levels,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1),a("b-form-group",{attrs:{label:"Paper File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addPaperBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},o=[],l={name:"admin-add-papers-modal",data:function(){return{state:{addingPaper:!1,loadingSubjects:!1,loadingLevels:!1},title:"",subject:"",subjects:[],level:"",levels:[],file:null}},computed:{subjectsAvailable:function(){return!!(Array.isArray(this.subjects)&&this.subjects.length>0)},levelsAvailable:function(){return!!(Array.isArray(this.levels)&&this.levels.length>0)},user:function(){return this.$store.state.admin.data}},mounted:function(){this.fetchSubjects(),this.fetchLevels()},methods:{addPaper:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingPaper=!0,a=new FormData,a.append("title",t.title),a.append("subject",t.subject.id),a.append("level",t.level.id),a.append("userId",t.user.user_id),a.append("file",t.file),e.prev=7,e.next=10,t.axios.post("insertPapers",a);case 10:s=e.sent,n=s.data,console.log(n),t.state.addingPaper=!1,n.image?(t.clearModal(),t.$emit("paper-added"),t.$notify({title:"SUCCESS!",message:n.message||"Paper added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding paper.",status:"danger"}),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](7),t.state.addingPaper=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add paper! try agin later.",status:"danger"});case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))()},submitForm:function(){this.$refs["addPaperBtn"].click()},fetchSubjects:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingSubjects=!0,a={action:"getSubjects"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.subjects=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingSubjects=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},fetchLevels:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingLevels=!0,a={action:"getLevels"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.levels=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingLevels=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},clearModal:function(){this.$bvModal.hide("admin-add-papers-modal"),this.state.addingPaper=!1,this.state.loadingSubjects=!1,this.state.loadingLevels=!1,this.title="",this.subject="",this.subjects=[],this.level="",this.levels=[],this.file=null}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,null,null),m=d.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(file)",fn:function(e){return[a("div",{staticClass:"d-flex flex-nowrap align-items-end"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"paper-"+e.item.id,expression:"'paper-' + data.item.id"}],staticClass:"px-2 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Preview ")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e.item)}}},[a("b-icon-trash-fill")],1),a("b-modal",{attrs:{id:"paper-"+e.item.id,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.item.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.value+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)]}}])})},f=[],p={name:"admin-papers-table",props:["papers-data"],data:function(){return{fields:["NO",{key:"title",label:"Title",sortable:!0,tdClass:"truncate-holder pr-3"},{key:"subject",label:"Subject",sortable:!1},{key:"Date",label:"Date",sortable:!1,tdClass:"text-center",thClass:"text-center"},{key:"file",label:"File",sortable:!1,tdClass:"text-center",thClass:"text-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.papersData}},methods:{deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(s){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-paper-toast"),n={action:"deletePapers",paperId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:i=a.sent,r=i.data,e.$bvToast.hide("delete-paper-toast"),e.$emit("data-changed"),console.log(r),e.$notify({title:"SUCCESS",message:r.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-paper-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},h=p,g=(a("5db35"),Object(u["a"])(h,b,f,!1,null,null,null)),v=g.exports,x={name:"admin-papers",components:{papersTable:v,AddPaper:m},data:function(){return{allPapers:null,state:{loadingPapers:!1}}},computed:{papersAvailable:function(){return!!this.allPapers&&!(this.allPapers.length&&this.allPapers.length<1)}},mounted:function(){this.fetchPapers()},beforeMount:function(){this.$title("Papers")},methods:{fetchPapers:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingPapers=!0,a={action:"getPapers"},e.prev=2,e.next=5,t.axios.post("getItems",a);case 5:s=e.sent,n=s.data,t.state.loadingPapers=!1,t.allPapers=n,console.log(n),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),t.state.loadingPapers=!1,console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},refresh:function(){this.state.loadingPapers||this.fetchPapers()},openModal:function(){this.$bvModal.show("admin-add-papers-modal")},hideModal:function(){this.$bvModal.hide("admin-add-papers-modal")}}},k=x,y=Object(u["a"])(k,s,n,!1,null,"651af2cc",null);e["a"]=y.exports},da23:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-books p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("b-col",{attrs:{cols:"auto"}},[a("h2",{staticClass:"mb-0"},[t._v("Books")])]),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{staticClass:"mx-1",attrs:{variant:"dark",disabled:t.state.loadingBooks},on:{click:t.openModal}},[t._v(" Add Book ")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"dark",disabled:t.state.loadingBooks},on:{click:t.refresh}},[t._v(" Refresh ")])],1)],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingBooks?a("div",{staticClass:"py-5 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Books")])],1):t.booksAvailable?a("books-table",{attrs:{"books-data":t.allBooks},on:{"data-changed":t.fetchBooks}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Books available at the moment!")])])],1)],1),a("add-book",{on:{"book-added":t.fetchBooks}})],1)},n=[],i=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"admin-add-books-modal",title:"Add Book","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[a("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),a("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingBook},on:{click:t.submitForm}},[a("transition-group",{attrs:{name:"group-fade"}},[t.state.addingBook?a("span",{key:"loading"},[a("AppLoading",{attrs:{size:"xs"}})],1):a("span",{key:"text"},[t._v("Add Book")])])],1)],1)]},proxy:!0}])},[a("b-form",{ref:"addBookForm",on:{submit:function(e){return e.preventDefault(),t.addBook(e)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Book Title","label-class":"h6"}},[a("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{staticClass:"mb-4",attrs:{label:"Subject","label-class":"h6"},scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Subject")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingSubjects},on:{click:t.fetchSubjects}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingSubjects?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.subjectsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Subject ")]),t._l(t.subjects,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),a("b-form-group",{staticClass:"mb-4",scopedSlots:t._u([{key:"label",fn:function(){return[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-v":"end"}},[a("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[a("p",{staticClass:"h6 p-0 col-form-label mb-0"},[t._v("Level")])]),a("b-col",[a("b-button",{attrs:{size:"sm",variant:"light",pill:"",disabled:t.state.loadingLevels},on:{click:t.fetchLevels}},[a("b-icon-arrow-repeat",{attrs:{icon:"arrow-repeat",animation:t.state.loadingLevels?"spin":"none","font-scale":"1.25"}})],1)],1)],1)],1)]},proxy:!0}])},[a("b-form-select",{attrs:{disabled:!t.levelsAvailable,required:""},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v(" Select Level ")]),t._l(t.levels,(function(e){return a("b-form-select-option",{key:e.id,attrs:{value:e}},[t._v(" "+t._s(e.title)+" ")])}))]},proxy:!0}]),model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1),a("b-form-group",{attrs:{label:"Book File"}},[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-form-group",{staticClass:"mb-0 px-1"},[a("b-button",{ref:"addBookBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},o=[],l={name:"admin-add-books-modal",data:function(){return{state:{addingBook:!1,loadingSubjects:!1,loadingLevels:!1},title:"",subject:"",subjects:[],level:"",levels:[],file:null}},computed:{subjectsAvailable:function(){return!!(Array.isArray(this.subjects)&&this.subjects.length>0)},levelsAvailable:function(){return!!(Array.isArray(this.levels)&&this.levels.length>0)},user:function(){return this.$store.state.admin.data}},mounted:function(){this.fetchSubjects(),this.fetchLevels()},methods:{addBook:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingBook=!0,a=new FormData,a.append("title",t.title),a.append("subject",t.subject.id),a.append("level",t.level.id),a.append("userId",t.user.user_id),a.append("file",t.file),e.prev=7,e.next=10,t.axios.post("InserBooks",a);case 10:s=e.sent,n=s.data,console.log(n),t.state.addingBook=!1,n.image?(t.clearModal(),t.$emit("book-added"),t.$notify({title:"SUCCESS!",message:n.message||"Book added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding book.",status:"danger"}),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](7),t.state.addingBook=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add book! try agin later.",status:"danger"});case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))()},submitForm:function(){this.$refs["addBookBtn"].click()},fetchSubjects:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingSubjects=!0,a={action:"getSubjects"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.subjects=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingSubjects=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},fetchLevels:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingLevels=!0,a={action:"getLevels"},e.prev=2,e.next=5,t.axios.post("getElements",a);case 5:s=e.sent,n=s.data,t.levels=n,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.state.loadingLevels=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},clearModal:function(){this.$bvModal.hide("admin-add-books-modal"),this.state.addingBook=!1,this.state.loadingSubjects=!1,this.state.loadingLevels=!1,this.title="",this.subject="",this.subjects=[],this.level="",this.levels=[],this.file=null}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,null,null),m=d.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(file)",fn:function(e){return[a("div",{staticClass:"d-flex flex-nowrap align-items-end"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"book-"+e.item.id,expression:"'book-' + data.item.id"}],staticClass:"px-2 mx-1",attrs:{size:"sm",variant:"dark"}},[t._v(" Preview ")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteItem(e.item)}}},[a("b-icon-trash-fill")],1),a("b-modal",{attrs:{id:"book-"+e.item.id,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("p",{staticClass:"small m-0"},[t._v(t._s(e.item.title))])]},proxy:!0}],null,!0)},[a("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.value+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)]}}])})},f=[],p={name:"admin-books-table",props:["books-data"],data:function(){return{fields:["NO",{key:"title",label:"Title",sortable:!0,tdClass:"truncate-holder pr-3"},{key:"subject",label:"Subject",sortable:!1},{key:"Date",label:"Date",sortable:!1,tdClass:"text-center",thClass:"text-center"},{key:"file",label:"File",sortable:!1,tdClass:"text-center",thClass:"text-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.booksData}},methods:{deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm('Please confirm that you want to delete "'.concat(t.title,'".'),{title:"Please Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES, delete",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(s){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=19;break}return e.$bvToast.show("delete-book-toast"),n={action:"deleteBooks",bookId:t.id},a.prev=3,a.next=6,e.axios.post("deleteElements",n);case 6:i=a.sent,r=i.data,e.$bvToast.hide("delete-book-toast"),e.$emit("data-changed"),console.log(r),e.$notify({title:"SUCCESS",message:r.message||"File deleted successfully",status:"success"}),a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),e.$bvToast.hide("delete-book-toast"),console.log(a.t0),e.$notify({title:"ERROR!",message:a.t0.errorMessage||"Failed to delete file.",status:"danger"});case 19:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.$notify({title:"ERROR!",message:"Oops, an error occured.",status:"danger"})}))}}},h=p,g=(a("238d"),Object(u["a"])(h,b,f,!1,null,null,null)),v=g.exports,x={name:"admin-books",components:{booksTable:v,AddBook:m},data:function(){return{allBooks:null,state:{loadingBooks:!1}}},computed:{booksAvailable:function(){return!!this.allBooks&&!(this.allBooks.length&&this.allBooks.length<1)}},mounted:function(){this.fetchBooks()},beforeMount:function(){this.$title("Books")},methods:{fetchBooks:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingBooks=!0,a={action:"getBooks"},e.prev=2,e.next=5,t.axios.post("getItems",a);case 5:s=e.sent,n=s.data,t.state.loadingBooks=!1,t.allBooks=n,console.log(n),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),t.state.loadingBooks=!1,console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},refresh:function(){this.state.loadingBooks||this.fetchBooks()},openModal:function(){this.$bvModal.show("admin-add-books-modal")},hideModal:function(){this.$bvModal.hide("admin-add-books-modal")}}},k=x,y=Object(u["a"])(k,s,n,!1,null,"62e42365",null);e["a"]=y.exports},ddcc:function(t,e,a){"use strict";var s=a("c281"),n=a.n(s);n.a},df21:function(t,e,a){},dfcb:function(t,e,a){"use strict";var s=a("f8c1"),n=a.n(s);n.a},dfe9:function(t,e,a){"use strict";var s=a("8dc9"),n=a.n(s);n.a},e3fa9:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-teacher p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("h2",{staticClass:"mb-0"},[t._v("Teachers")]),a("b-button",{attrs:{variant:"dark",disabled:t.state.loadingTeachers},on:{click:t.refresh}},[t._v(" Refresh ")])],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingTeachers?a("div",{staticClass:"p-4 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Teachers")])],1):t.teachersAvailable?a("teachers-table",{attrs:{"teachers-data":t.allTeachers},on:{"data-edited":t.updateTeacherData}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Teachers available at the moment!")])])],1)],1)],1)},n=[],i=(a("4de4"),a("c975"),a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"empty",fn:function(){return[a("h6",{staticClass:"p-5"},[t._v("No teachers available at the moment!")])]},proxy:!0},{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(names)",fn:function(e){return[t._v(" "+t._s(e.item.firstname)+" "+t._s(e.item["last name"])+" ")]}},{key:"cell(approved)",fn:function(e){return[a("loading-button",{staticClass:"px-3 small",attrs:{pill:"",size:"sm",variant:1==e.value?"outline-danger":"outline-success",loading:t.state.loadings[e.item.id],"loading-type":"dark","loading-bg":"light"},on:{click:function(a){return t.teacherAction(e)}}},[t._v(" "+t._s(1==e.value?"Suspend":"Activate")+" ")])]}}])})},o=[],l={name:"admin-teacher-table",props:["teachers-data"],data:function(){return{fields:["NO",{key:"names",label:"Names",sortable:!0},{key:"subject",label:"Subject",sortable:!1},{key:"approved",label:"Action",sortable:!1,tdClass:"d-flex justify-content-center",thClass:"d-flex justify-content-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.teachersData}},methods:{teacherAction:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,i,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.item,n=function(){return e.$set(e.state.loadings,s.id,!1)},e.$set(e.state.loadings,s.id,!0),a.prev=3,i=1==s.approved?"TeacherSuspend":"TeachersApprove",r={action:i,teacherId:s.id},a.next=8,e.axios.post("getTeachers",r);case 8:o=a.sent,o.data,l=s,l.approved="0"==l.approved?"1":"0",e.$emit("data-edited",{data:l,done:n}),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](3),console.log(a.t0),n();case 19:case"end":return a.stop()}}),a,null,[[3,15]])})))()}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,"3f142d51",null),m=d.exports,b={name:"admin-teacher",components:{teachersTable:m},data:function(){return{allTeachers:null,state:{loadingTeachers:!1,refreshing:!1}}},mounted:function(){this.fetchTeachers()},beforeMount:function(){this.$title("Teachers")},computed:{teachersAvailable:function(){return!!this.allTeachers&&!(this.allTeachers.length&&this.allTeachers.length<1)}},methods:{fetchTeachers:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingTeachers=!0,a={action:"getTeachers"},e.prev=2,e.next=5,t.axios.post("getTeachers",a);case 5:s=e.sent,n=s.data,t.state.loadingTeachers=!1,t.allTeachers=n,console.log(t.allTeachers),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),t.state.loadingTeachers=!1,console.log(data);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},updateTeacherData:function(t){var e=t.data,a=t.done,s=this.allTeachers.filter((function(t){return t.id==e.id}));this.$set(this.allTeachers,this.allTeachers.indexOf(s),e),a()},refresh:function(){this.state.loadingTeachers||this.fetchTeachers()}}},f=b,p=Object(u["a"])(f,s,n,!1,null,"30c20b64",null);e["a"]=p.exports},effd:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"admin-schools p-5"},[a("b-row",{staticClass:"mb-2",attrs:{"no-gutters":"","align-h":"between","align-v":"center"}},[a("h2",{staticClass:"mb-0"},[t._v("Schools")]),a("b-button",{attrs:{variant:"dark",disabled:t.state.loadingSchools},on:{click:t.refresh}},[t._v(" Refresh ")])],1),a("hr",{staticClass:"mt-0 mb-0"}),t.state.refreshing?t._e():a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("transition",{attrs:{name:"group-fade",mode:"out-in"}},[t.state.loadingSchools?a("div",{staticClass:"p-4 w-100 flex-center flex-column"},[a("app-loading",{attrs:{type:"dark"}}),a("h6",{staticClass:"mt-3"},[t._v("Loading Schools")])],1):t.schoolsAvailable?a("schools-table",{attrs:{"schools-data":t.allSchools},on:{"data-edited":t.updateSchoolData}}):a("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"center"}},[a("h6",{staticClass:"text-center py-5"},[t._v("No Schools available at the moment!")])])],1)],1)],1)},n=[],i=(a("4de4"),a("c975"),a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{small:"",responsive:"",striped:"",fields:t.fields,items:t.shownData},scopedSlots:t._u([{key:"cell(NO)",fn:function(e){return[a("p",{staticClass:"mb-0 px-2"},[t._v(t._s(e.index+1))])]}},{key:"cell(names)",fn:function(e){return[t._v(" "+t._s(e.item.firstname)+" "+t._s(e.item["last name"])+" ")]}},{key:"cell(approved)",fn:function(e){return[a("loading-button",{staticClass:"px-3 small",attrs:{pill:"",size:"sm",variant:1==e.value?"outline-danger":"outline-success",loading:t.state.loadings[e.item.id],"loading-type":"dark","loading-bg":"light"},on:{click:function(a){return t.schoolAction(e)}}},[t._v(" "+t._s(1==e.value?"Suspend":"Activate")+" ")])]}}])})},o=[],l={name:"admin-schools-table",props:["schools-data"],data:function(){return{fields:["NO",{key:"names",label:"Names",sortable:!0},{key:"subject",label:"School Name",sortable:!1},{key:"approved",label:"Action",sortable:!1,tdClass:"d-flex justify-content-center",thClass:"d-flex justify-content-center"}],state:{loadings:{}}}},computed:{shownData:function(){return this.schoolsData}},methods:{schoolAction:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,i,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.item,n=function(){return e.$set(e.state.loadings,s.id,!1)},e.$set(e.state.loadings,s.id,!0),a.prev=3,i=1==s.approved?"SchoolADSuspend":"SchoolADApprove",r={action:i,SchoolADId:s.id},a.next=8,e.axios.post("getSchoolAD",r);case 8:o=a.sent,o.data,l=s,l.approved="0"==l.approved?"1":"0",e.$emit("data-edited",{data:l,done:n}),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](3),console.log(a.t0),n();case 19:case"end":return a.stop()}}),a,null,[[3,15]])})))()}}},c=l,u=(a("fd04"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,"f7b3bbc6",null),m=d.exports,b={name:"admin-schools",components:{schoolsTable:m},data:function(){return{allSchools:null,state:{loadingSchools:!1,refreshing:!1}}},mounted:function(){this.fetchSchools()},beforeMount:function(){this.$title("Schools")},computed:{schoolsAvailable:function(){return!!this.allSchools&&!(this.allSchools.length&&this.allSchools.length<1)}},methods:{fetchSchools:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingSchools=!0,a={action:"getSchoolAD"},e.prev=2,e.next=5,t.axios.post("getSchoolAD",a);case 5:s=e.sent,n=s.data,t.state.loadingSchools=!1,t.allSchools=n,console.log(t.allSchools),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),t.state.loadingSchools=!1,console.log(data);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},updateSchoolData:function(t){var e=t.data,a=t.done,s=this.allSchools.filter((function(t){return t.id==e.id}));this.$set(this.allSchools,this.allSchools.indexOf(s),e),a()},refresh:function(){this.state.loadingSchools||this.fetchSchools()}}},f=b,p=Object(u["a"])(f,s,n,!1,null,"7c90cf76",null);e["a"]=p.exports},f82f:function(t,e,a){},f8c1:function(t,e,a){},fd04:function(t,e,a){"use strict";var s=a("d04b"),n=a.n(s);n.a}}]);