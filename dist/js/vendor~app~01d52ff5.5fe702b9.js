(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor~app~01d52ff5"],{"0174":function(t,e,s){},"03b27":function(t,e,s){"use strict";var a=s("9b1f"),n=s.n(a);n.a},"03c5":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"student-container"}},[s("header",{attrs:{id:"student-nav"}},[s("StudentNavBar",{attrs:{sidebarShown:t.state.sidebarShown},on:{"toggle-sidebar":t.toggleSidebar}})],1),s("div",{attrs:{id:"student-content"}},[s("aside",{class:{active:t.state.sidebarShown},attrs:{id:"student-sidebar"}},[s("student-sidebar")],1),s("main",{attrs:{id:"student-main-content"}},[s("transition",{attrs:{name:"component-fade",id:"student-screen"}},[s("router-view")],1)],1)])])},n=[],o=s("fa00"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"sidebar"}},[s("ul",{staticClass:"navigations"},[s("router-link",{staticClass:"navs",attrs:{to:"/student/courses","exact-active-class":"active"}},[s("li",[s("b-icon-journal-album",{attrs:{scale:"1.4"}}),s("span",[t._v(" Courses ")])],1)]),s("router-link",{staticClass:"navs",attrs:{to:"/student/chatrooms","exact-active-class":"active"}},[s("li",[s("b-icon-chat-left-dots",{attrs:{scale:"1.4"}}),s("span",[t._v(" Chatroom ")])],1)])],1),s("div",{staticClass:"bottom"},[t._v(" Â© "+t._s((new Date).getFullYear())+" "),s("a",{attrs:{href:"https://smartclass.rw/"}},[t._v(" smartclass.rw ")])])])},r=[],l={name:"student-sidebar"},c=l,u=(s("cce6"),s("2877")),d=Object(u["a"])(c,i,r,!1,null,"1a92af4c",null),g=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"student-navbar w-100",attrs:{type:"dark",variant:"light",sticky:""}},[a("b-button",{staticClass:"close-btn p-0 text-reset",class:{active:t.sidebarShown},attrs:{variant:"link"},on:{click:function(e){return t.$emit("toggle-sidebar")}}},[a("span",{staticClass:"toggle-bar"})]),a("b-navbar-brand",{staticClass:"ml-md-4 ml-3",attrs:{tag:"div"}},[a("img",{staticClass:"logo",attrs:{src:s("ed29"),alt:"Smartclass Logo"}})]),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto align-items-lg-center",attrs:{align:"center",fill:""}},[a("b-nav-item",{staticClass:"px-2",attrs:{"exact-active-class":"text-primary"}},[a("b-button",{staticClass:"py-2 text-dark",attrs:{variant:"link"}},[a("b-icon-bell",{attrs:{scale:"1.23"}})],1)],1),a("b-nav-item-dropdown",{attrs:{"no-caret":"",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-button",{staticClass:"py-2 account-btn text-dark text-decoration-none",attrs:{variant:"link"}},[a("b-icon-person-circle",{attrs:{scale:"1.5"}}),a("span",{staticClass:"ml-2 d-none d-sm-inline"},[t._v("My Account")])],1)]},proxy:!0}])},[t.user?a("b-dropdown-text",[t._v(t._s(t.user.userame))]):t._e(),a("b-dd-divider"),a("b-dropdown-item",{attrs:{to:{name:"student-profile"}}},[t._v("Profile")]),a("b-dd-divider"),a("b-dropdown-item",{attrs:{to:"/logout","link-class":"text-danger"}},[t._v(" Logout ")])],1)],1)],1)],1)},h=[],b={name:"student-navbar-component",props:{sidebarShown:{type:Boolean,default:!0}},computed:{user:function(){return this.$store.state.student.studentData}},data:function(){return{}}},p=b,f=(s("1344"),Object(u["a"])(p,m,h,!1,null,"5c62ff8a",null)),v=f.exports,C={name:"student-page",components:{AppFooter:o["a"],StudentNavBar:v,StudentSidebar:g},data:function(){return{state:{sidebarShown:null}}},created:function(){this.checkWidth()},mounted:function(){addEventListener("resize",this.checkWidth)},methods:{checkWidth:function(){window.innerWidth<=670?this.state.sidebarShown=!1:this.state.sidebarShown=!0},toggleSidebar:function(){this.state.sidebarShown=!this.state.sidebarShown}}},w=C,_=(s("c0b3"),Object(u["a"])(w,a,n,!1,null,"05f40250",null)),x=_.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-row",{attrs:{"no-gutters":""}},[s("header",{staticClass:"text-center w-100"},[s("h1",{staticClass:"display-4 mb-3"},[t._v("My Courses")]),s("h6",{staticClass:"mb-0"},[t._v("Get help on any accademic course.")])])]),t.state.loading?s("b-row",{staticClass:"flex-column pt-5",attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[s("AppLoading",{attrs:{type:"dark"}}),s("p",{staticClass:"mt-3"},[t._v("Loading courses")])],1):t.courses?s("div",{staticClass:"px-3 grid",attrs:{"no-gutters":"","align-h":"center"}},t._l(t.courses,(function(t,e){return s("CourseItem",{key:e,attrs:{course:t}})})),1):s("b-row",{staticClass:"flex-column pt-5",attrs:{"no-gutters":"","align-h":"center","align-v":"center"}},[s("h6",{staticClass:"mt-3"},[t._v("You are not enrolled in any class at the moment!")])])],1)},D=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.course?s("div",{staticClass:"box",on:{"~click":function(e){return t.goToCourse(e)}}},[s("div",{staticClass:"image"},[s("div",{class:String(t.course.subjectName).toLowerCase()})]),s("article",{staticClass:"d-flex flex-1 flex-column pl-3"},[s("h5",{staticClass:"mb-0 text-uppercase text-truncate"},[t._v(" "+t._s(t.course.subjectName)+" ")]),s("h6",{staticClass:"d-flex justify-content-start align-items-end"},[s("span",{staticClass:"text-muted"},[t._v("challenges:")]),s("span",{staticClass:"ml-2 mt-2"},[s("b",[t._v(" "+t._s(t.course.subject))])])])])]):t._e()},I=[],A={name:"course-item-component",props:{course:{type:Object,default:null}},methods:{goToCourse:function(){this.$router.push("/student/course/".concat(this.course.subjectName)),sessionStorage.setItem("selectedCourse",this.course.subject)}}},$=A,S=(s("56f6"),Object(u["a"])($,k,I,!1,null,"d689b95c",null)),j=S.exports,z={name:"student-courses-page",components:{CourseItem:j},data:function(){return{courses:null,state:{loading:!0}}},computed:{userID:function(){return this.$store.state.student.studentData.user_id}},mounted:function(){this.fetchData(),this.$title("courses")},methods:{fetchData:function(){var t=this;this.state.loading=!0;var e={action:"getCourses",userId:this.userID,type:"student"};this.axios.post("getcourse",e).then((function(e){console.log(e),200==e.status&&(t.courses=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},N=z,L=(s("7792"),Object(u["a"])(N,y,D,!1,null,"0aa81580",null)),U=L.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-row",{attrs:{"no-gutters":""}},[s("header",{staticClass:"text-center w-100"},[s("h1",{staticClass:"display-4 mb-3"},[t._v("Quizes")]),s("h6",{staticClass:"mb-0"},[t._v("Get help on any accademic challenge.")])])]),t.state.loading?s("b-row",{attrs:{"no-gutters":""}},[s("AppLoading"),s("p",{staticClass:"text-center mt-3"},[t._v("Loading Quizes")])],1):t._e()],1)},R=[],O={name:"student-quiz-page",data:function(){return{state:{loading:!0}}},beforeMount:function(){this.$title("quizes")}},T=O,M=(s("dbc5"),Object(u["a"])(T,q,R,!1,null,"0ebe9d6e",null)),E=M.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"student-chatroom pt-3",attrs:{fluid:""}},[s("b-row",{staticClass:"header p-3",attrs:{"no-gutters":"","align-h":"center"}},[s("b-col",[s("header",{staticClass:"py-4"},[s("h3",{staticClass:"text-center"},[t._v("Chatroom")])])])],1),s("b-row",{staticClass:"my-3 messages-holder",attrs:{"no-gutters":""}},[s("chat-box",{attrs:{messages:t.messages},on:{"send-message":t.sendMessage}})],1)],1)},B=[],Q=(s("d81d"),s("96cf"),s("1da1")),F=s("9b24"),V={name:"student-chatroom",components:{chatBox:F["a"]},data:function(){return{state:{loadingMessages:!1,loadingLevels:!1},messages:[]}},computed:{user:function(){return this.$store.state.student.studentData}},beforeMount:function(){this.$title("chatroom"),this.fetchMessages(),console.log(this.user)},methods:{fetchMessages:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){var s,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loadingMessages=!0,s={action:"getMessage",level:t.user.level,page:"1"},e.next=4,t.axios.post("chat",s);case 4:a=e.sent,n=a.data,o=function(e){return e.sentBy==t.user.userame?e.mine=!0:e.mine=!1,e},t.state.loadingMessages=!1,console.log(n,t.user),t.messages=n.data.map(o);case 10:case"end":return e.stop()}}),e)})))()},sendMessage:function(t){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function s(){var a,n,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.messages.push({UserType:"student",id:"10131",massage:t,mine:!0,sentBy:e.user.userame,time:"2021-03-25 12:01:28"}),a={action:"InsertMessage",message:t,userId:e.user.user_id,level:e.level,type:e.user.user_type},s.prev=2,s.next=5,e.axios.post("chat",a);case 5:n=s.sent,o=n.data,console.log(o),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](2),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[2,10]])})))()}}},G=V,W=(s("2d08"),Object(u["a"])(G,P,B,!1,null,"14b0c716",null)),H=W.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100",attrs:{id:"profile"}},[s("b-navbar",{attrs:{variant:"faded",type:"light"}},[s("b-navbar-brand",{staticClass:"pl-3 py-2 logo",attrs:{to:"/"}},[s("img",{attrs:{src:t.Logo,alt:"logo"}})])],1),s("b-row",{staticClass:"pt-2 pb-",attrs:{"no-gutters":"","align-h":"center"}},[s("header",[s("h2",{staticClass:"font-weight-normal"},[t._v("USER PROFILE")])])]),s("b-row",{attrs:{"no-gutters":"","align-h":"center"}},[s("b-col",{staticClass:"pb-4",attrs:{cols:"11",sm:"9",md:"7",lg:"6",xl:"5"}},[s("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateProfile(e)}}},[s("b-row",{staticClass:"flex-column pt-4",attrs:{"no-gutters":""}},[s("b-form-group",{attrs:{label:"Program"}},[s("b-input-group",[s("b-form-select",{attrs:{required:""},model:{value:t.studentData.program,callback:function(e){t.$set(t.studentData,"program",e)},expression:"studentData.program"}},t._l(t.selectData.programs,(function(e,a){return s("b-form-select-option",{key:a,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),s("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadPrograms}},[s("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.programs?"spin":null,scale:"1.05"}})],1)],1)],1),s("b-form-group",{attrs:{label:"School"}},[s("b-input-group",[s("b-form-select",{attrs:{required:"",disabled:!t.validSchool},model:{value:t.studentData.school,callback:function(e){t.$set(t.studentData,"school",e)},expression:"studentData.school"}},t._l(t.selectData.schools,(function(e,a){return s("b-form-select-option",{key:a,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),s("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadSchools}},[s("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.schools?"spin":null,scale:"1.05"}})],1)],1)],1),s("b-form-group",{attrs:{label:"Level"}},[s("b-input-group",[s("b-form-select",{attrs:{required:"",disabled:!t.validLevel},model:{value:t.studentData.level,callback:function(e){t.$set(t.studentData,"level",e)},expression:"studentData.level"}},t._l(t.selectData.levels,(function(e,a){return s("b-form-select-option",{key:a,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),s("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadLevels}},[s("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.levels?"spin":null,scale:"1.05"}})],1)],1)],1),s("transition",{attrs:{name:"component-fade"}},[t.showCombinations?s("b-form-group",{attrs:{label:"Combination"}},[s("b-input-group",[s("b-form-select",{attrs:{required:"",disabled:!t.validCombination},model:{value:t.studentData.combination,callback:function(e){t.$set(t.studentData,"combination",e)},expression:"studentData.combination"}},t._l(t.selectData.combinations,(function(e,a){return s("b-form-select-option",{key:a,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),s("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadCombinations}},[s("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.combinations?"spin":null,scale:"1.05"}})],1)],1)],1):t._e()],1),s("b-form-group",{attrs:{label:"Class"}},[s("b-input-group",[s("b-form-select",{attrs:{required:"",disabled:!t.validClass},model:{value:t.studentData.class,callback:function(e){t.$set(t.studentData,"class",e)},expression:"studentData.class"}},t._l(t.selectData.classes,(function(e,a){return s("b-form-select-option",{key:a,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),s("b-input-group-append",{staticClass:"cursor-pointer",attrs:{"is-text":""},on:{click:t.loadClasses}},[s("b-icon-arrow-repeat",{attrs:{animation:t.state.loading.classes?"spin":null,scale:"1.05"}})],1)],1)],1)],1),s("b-row",{staticClass:"pt-3",attrs:{"no-gutters":"","align-h":"end"}},[s("b-button",{staticClass:"mr-3",staticStyle:{"min-width":"120px"},attrs:{variant:"outline-dark"},on:{click:function(e){return t.$router.back()}}},[t._v(" back ")]),s("b-button",{staticStyle:{"min-width":"120px"},attrs:{variant:"dark",type:"submit",disabled:t.state.loading.global}},[s("transition-group",{attrs:{name:"group-fade"}},[t.state.loading.global?s("span",{key:"loading"},[s("AppLoading",{attrs:{size:"xs"}})],1):s("span",{key:"text"},[t._v("Save")])])],1)],1)],1)],1)],1)],1)},Y=[],K=(s("4de4"),s("b0c0"),s("ac1f"),s("5319"),s("ed29")),X=s.n(K),Z={name:"edit-profile-page",props:["studentID"],data:function(){return{Logo:X.a,profilePic:null,imgsrc:null,state:{loading:{global:!1,programs:!1,schools:!1,levels:!1,combinations:!1,classes:!1}},studentData:{program:null,school:null,level:null,combination:null,class:null},selectData:{programs:null,schools:null,levels:null,combinations:null,classes:null}}},computed:{validProgram:function(){return!this.state.loading.programs},validSchool:function(){return!this.state.loading.schools&&!!this.studentData.program},validLevel:function(){return!this.state.loading.levels&&!!this.studentData.school},validCombination:function(){return!this.state.loading.combinations&&!!this.studentData.level},validClass:function(){return!this.state.loading.classes&&(!!this.isOLevel||!!this.studentData.combination)},isOLevel:function(){var t=this;if(!this.selectData.levels)return!1;if(!this.studentData.level)return!1;var e=this.selectData.levels.filter((function(e){return e.id==t.studentData.level}))[0];return"O' Level"==e.name},showCombinations:function(){var t=this;if(!this.selectData.levels)return!1;if(!this.studentData.level)return!1;var e=this.selectData.levels.filter((function(e){return e.id==t.studentData.level}))[0];return"O' Level"!=e.name}},watch:{profilePic:function(){var t=this;if(this.profilePic){var e=new FileReader;e.onload=function(e){t.$set(t,"imgsrc",e.target.result)},e.readAsDataURL(this.profilePic)}},"studentData.program":function(){this.studentData.school=null,this.studentData.level=null,this.studentData.combination=null,this.studentData.class=null,this.loadSchools()},"studentData.school":function(){this.studentData.level=null,this.studentData.combination=null,this.studentData.class=null,this.loadLevels()},"studentData.level":function(){this.studentData.combination=null,this.studentData.class=null,this.isOLevel?this.loadClasses():this.loadCombinations()},"studentData.combination":function(){this.studentData.class=null,this.loadClasses()}},mounted:function(){this.loadPrograms(),this.$title("create profile")},methods:{updateProfile:function(){var t=this;this.state.loading.global=!0;var e={action:"Complete_acc",studentId:this.studentID,school:this.studentData.school,grade:this.studentData.class,stage:this.studentData.level,program:this.studentData.program,major:this.studentData.combination||"32"};this.axios.post("complete",e).then((function(e){console.log(e.data),t.$router.replace("/student"),e.data.userID&&t.$store.dispatch("student/setStudentID",e.data.userID),t.state.loading.global=!1})).catch((function(e){console.log(e),t.state.loading.global=!1,t.$notify({title:"ERROR!",message:e.errorMessage||"Something went wrong!",status:"danger"})}))},loadPrograms:function(){var t=this;this.state.loading.programs=!0,this.selectData.programs=null,this.axios.post("complete",{action:"getprogram"}).then((function(e){console.log(e.data),t.selectData.programs=e.data,t.state.loading.programs=!1})).catch((function(e){console.log(e),t.state.loading.programs=!1}))},loadSchools:function(){var t=this;this.validSchool&&(this.state.loading.schools=!0,this.selectData.schools=null,this.axios.post("complete",{action:"getschool",program:this.studentData.program}).then((function(e){console.log(e.data),t.selectData.schools=e.data,t.state.loading.schools=!1})).catch((function(e){t.state.loading.schools=!1,console.log(e)})))},loadLevels:function(){var t=this;this.validLevel&&(this.state.loading.levels=!0,this.selectData.levels=null,this.axios.post("complete",{action:"getLevel",program:this.studentData.program,school:this.studentData.school}).then((function(e){console.log(e.data),t.selectData.levels=e.data,t.state.loading.levels=!1})).catch((function(e){t.state.loading.levels=!1,console.log(e)})))},loadCombinations:function(){var t=this;this.validCombination&&(this.state.loading.combinations=!0,this.selectData.combinations=null,this.axios.post("complete",{action:"getcombination",program:this.studentData.program,schoolId:this.studentData.school,level:this.studentData.level}).then((function(e){console.log(e,t.studentData.level),t.selectData.combinations=e.data,t.state.loading.combinations=!1})).catch((function(e){console.log(e),t.state.loading.combinations=!1})))},loadClasses:function(){var t=this;this.validClass&&(this.state.loading.classes=!0,this.selectData.classes=null,this.axios.post("complete",{action:"getClass",program:this.studentData.program,level:this.studentData.level}).then((function(e){console.log(e.data),t.selectData.classes=e.data,t.state.loading.classes=!1})).catch((function(e){console.log(e),t.state.loading.classes=!1})))}}},tt=Z,et=(s("c168"),Object(u["a"])(tt,J,Y,!1,null,"e8f22204",null)),st=et.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"emp-profile"},[s("b-form",[s("b-row",{staticClass:"row",attrs:{"no-gutters":"","align-h":"between"}},[s("b-col",[s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"5"}},[s("div",{staticClass:"profile-img"},[s("b-img",{attrs:{fluid:"",src:t.profilePicture,alt:""}}),s("div",{staticClass:"file btn btn-lg btn-primary"},[t._v(" Change Photo "),s("b-file",{attrs:{accept:"image/*",name:"profile",plain:""},model:{value:t.photo,callback:function(e){t.photo=e},expression:"photo"}})],1)],1)]),s("b-col",[s("div",{staticClass:"profile-head"},[s("h5",{staticClass:"text-md-left text-center"},[t._v(t._s(t.user.userame))]),s("h6",{staticClass:"text-md-left text-center"},[t._v(" "+t._s(t.user.user_type)+" ")])])])],1)],1),s("b-col",{staticClass:"d-flex justify-content-center d-md-block mt-2 mt-md-0",attrs:{md:"auto"}},[s("b-button",{staticClass:"profile-edit-btn px-4",attrs:{variant:"light"},on:{click:t.fetchProfile}},[t._v(" Refresh Profile ")])],1)],1),s("b-row",{staticClass:"pt-4",attrs:{"no-gutters":"","align-h":"center"}},[s("b-col",{attrs:{md:"11"}},[s("b-tabs",{staticClass:"profile-tab",attrs:{"content-class":"p-3 pt-4",id:"myTabContent"}},[t.user?s("b-tab",{attrs:{title:"About",active:"","title-link-class":"custom-title",id:"home"}},[t.user.userame?s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"6"}},[s("label",[t._v("Name")])]),s("b-col",{attrs:{md:"6"}},[s("p",[t._v(t._s(t.user.userame))])])],1):t._e(),t.user.phone?s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"6"}},[s("label",[t._v("Phone Number")])]),s("b-col",{attrs:{md:"6"}},[s("p",[t._v(t._s(t.user.phone))])])],1):t._e(),t.profile.email?s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"6"}},[s("label",[t._v("Email")])]),s("b-col",{attrs:{md:"6"}},[s("p",[t._v(t._s(t.profile.email))])])],1):t._e(),t.profile.combination?s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"6"}},[s("label",[t._v("Combination")])]),s("b-col",{attrs:{md:"6"}},[s("p",[t._v(t._s(t.profile.combination))])])],1):t._e(),t.state.loading?s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"6"}},[s("b-skeleton",{staticClass:"w-50"})],1),s("b-col",{attrs:{md:"6"}},[s("b-skeleton",{staticClass:"w-75"})],1)],1):t._e()],1):t._e()],1)],1)],1)],1)],1)},nt=[],ot=(s("466d"),{name:"admin-profile",data:function(){return{state:{loading:!1},profile:{},phone:null}},computed:{user:function(){return this.$store.state.student.studentData},profilePicture:function(){var t=this.profile.profile;return t&&this.isImage(t)?"https://smartclass.rw/"+t:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}},watch:{photo:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.photo){e.next=16;break}return s=new FormData,s.append("userId",t.user.userId),s.append("file",t.photo),e.prev=4,e.next=7,t.axios.post("updateprofile",s);case 7:a=e.sent,a.data,t.fetchProfile(),t.$notify({title:"SUCCESS!",message:"Your Profile picture is updated successfully.",status:"success"}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))()}},mounted:function(){console.log(this.user)},beforeMount:function(){this.$title("Profile"),this.fetchProfile()},methods:{fetchProfile:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.loading=!0,t.profile={},s={action:"GetStudentProfiles",userId:t.user.user_id},e.prev=3,e.next=6,t.axios.post("profiles",s);case 6:a=e.sent,n=a.data,t.state.loading=!1,console.log(n),t.profile=n[0],e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](3),t.state.loading=!1,console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))()},isImage:function(t){return null!=t.match(/\.(jpg|gif|JPG|png)$/)}}}),it=ot,rt=(s("3eb3"),s("03b27"),Object(u["a"])(it,at,nt,!1,null,"467e6c0a",null)),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"course-details"}},[s("b-row",{staticClass:"pt-2 pb-3"},[s("b-col",[s("h4",{staticClass:"d-flex"},[s("b-icon-arrow-left",{staticClass:"mr-3 cursor-pointer",on:{"~click":function(e){return t.$router.back()}}}),s("div",{staticClass:"d-flex text-left flex-column"},[s("span",{staticClass:"text-uppercase"},[t._v(t._s(t.courseID)+" course")]),t.selectedUnit?s("span",{staticClass:"text-muted text-uppercase small mt-1 unit"},[t._v(" "+t._s(t.selectedUnit.title)+" ")]):t._e()])],1)]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"show",rawName:"v-show",value:t.showUnits,expression:"showUnits"},{name:"b-toggle",rawName:"v-b-toggle.units-sidebar",modifiers:{"units-sidebar":!0}}],staticClass:"text-white",attrs:{variant:"primary"}},[t._v(" ALL UNITS ")])],1)],1),s("b-row",{attrs:{"no-gutters":""}},[s("div",{staticClass:"course-tabs"},t._l(t.shownTabs,(function(e,a){return s("div",{key:a,staticClass:"tab",class:{active:t.selectedTabIndex==a},on:{click:function(e){return t.setTab(a)}}},[t._v(" "+t._s(e)+" ")])})),0)]),s("b-row",{staticClass:"py-3 px-2",attrs:{"no-gutters":""}},[s("transition",{attrs:{name:"tabs-fade"}},[s("keep-alive",{attrs:{max:3}},[s(t.shownTabs[t.selectedTabIndex],{tag:"Component",attrs:{courseName:t.courseID,unitsAvailable:t.state.unitsAvailable}})],1)],1)],1),t.showUnits?s("UnitsSidebar",{attrs:{units:t.units},on:{"unit-selected":t.setUnit}}):t._e()],1)},ut=[],dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100"},[s("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[s("b-button",{staticClass:"mx-1",attrs:{variant:"dark"},on:{click:function(e){return t.$bvModal.show("student-add-challenges-modal")}}},[t._v(" Add challenge ")]),s("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchChallenges}},[t._v(" Refresh ")])],1),s("b-row",{attrs:{"no-gutters":"","align-h":"center"}},[t.state.loading?s("b-row",{staticClass:"loading flex-column py-5",attrs:{"no-gutters":""}},[s("app-loading",{attrs:{type:"dark"}}),s("p",{staticClass:"mt-3"},[t._v("Loading Challenges")])],1):t.challenges.length>0?s("div",{staticClass:"w-100"},[s("b-row",{directives:[{name:"show",rawName:"v-show",value:t.state.challengesReady,expression:"state.challengesReady"}],staticClass:"loading flex-column py-5",attrs:{"no-gutters":""}},[s("app-loading",{attrs:{type:"dark"}}),s("p",{staticClass:"mt-3 text-center"},[t._v("preparing Challenges")])],1),t._l(t.challenges,(function(e,a){return s("CourseChallenge",{directives:[{name:"show",rawName:"v-show",value:!t.state.challengesReady,expression:"!state.challengesReady"}],key:a,attrs:{challenge:e},on:{"editor-ready":function(e){return t.checkReadiness(a)}}})}))],2):s("div",{staticClass:"py-5 px-2 flex-center"},[t._v(" No challenges available at the moment. ")])],1),s("add-challenge",{attrs:{classID:t.classID},on:{"challenge-added":t.fetchChallenges}})],1)},gt=[],mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"student-add-challenges-modal",title:"Add challenge","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[s("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[s("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),s("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.addingChallenge},on:{click:t.submitForm}},[s("transition-group",{attrs:{name:"group-fade"}},[t.state.addingChallenge?s("span",{key:"loading"},[s("AppLoading",{attrs:{size:"xs"}})],1):s("span",{key:"text"},[t._v("Add Challenge")])])],1)],1)]},proxy:!0}])},[s("b-form",{ref:"addChallengeForm",on:{submit:function(e){return e.preventDefault(),t.addChallenge(e)}}},[s("b-form-group",{staticClass:"mb-4",attrs:{label:"Title","label-class":"h6"}},[s("b-form-input",{attrs:{trim:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),s("b-form-group",{staticClass:"mb-4",attrs:{label:"Challenge","label-class":"h6"}},[s("b-form-input",{attrs:{trim:"",required:""},model:{value:t.challenge,callback:function(e){t.challenge=e},expression:"challenge"}})],1),s("b-form-group",{attrs:{label:"Challenge File"}},[s("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),s("b-form-group",{staticClass:"mb-0 px-1"},[s("b-button",{ref:"addChallengeBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},ht=[],bt={name:"teacher-add-challenges-modal",props:["classID"],data:function(){return{state:{addingChallenge:!1},title:"",challenge:"",file:null}},computed:{user:function(){return this.$store.state.student.studentData}},mounted:function(){},methods:{addChallenge:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.addingChallenge=!0,s=new FormData,s.append("title",t.title),s.append("challenge",t.challenge),s.append("subjectId",t.user.subject),s.append("level",t.classID),s.append("userId",t.user.user_id),s.append("type",t.user.user_type),s.append("file",t.file),e.prev=9,e.next=12,t.axios.post("AddChallanges",s);case 12:a=e.sent,n=a.data,console.log(n),t.state.addingChallenge=!1,n?(t.clearModal(),t.$emit("challenge-added"),t.$notify({title:"SUCCESS!",message:n.message||"Challenge added successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while adding challenge.",status:"danger"}),e.next=24;break;case 19:e.prev=19,e.t0=e["catch"](9),t.state.addingChallenge=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add challenge! try agin later.",status:"danger"});case 24:case"end":return e.stop()}}),e,null,[[9,19]])})))()},submitForm:function(){this.$refs["addChallengeBtn"].click()},clearModal:function(){this.$bvModal.hide("student-add-challenges-modal"),this.state.addingChallenge=!1,this.title="",this.challenge="",this.file=null}}},pt=bt,ft=Object(u["a"])(pt,mt,ht,!1,null,null,null),vt=ft.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-col",{attrs:{cols:"12",id:"challenge"}},[s("b-row",{attrs:{"no-gutters":"","align-v":"center"}},[s("b-col",[s("h6",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"mb-0"},[t._v(" "+t._s(t.challenge.title)+" ")])]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"text-reset text-decoration-none no-outline",attrs:{variant:"link"}},[s("b-icon-caret-down-square-fill")],1)],1)],1),s("b-collapse",{attrs:{id:t.collapseID}},[s("div",{staticClass:"border-top mb-4 mt-3"}),s("b-row",{staticClass:"flex-column mb-3 pt-2",attrs:{"no-gutters":""}},[s("h5",[t._v("Question:")]),s("p",{domProps:{innerHTML:t._s(t.challenge.content)}})]),s("b-form",{staticClass:"mb-4"},[s("h5",{staticClass:"font-weight-normal"},[t._v("Answer:")]),t.state.ready?s("custom-editor",{on:{ready:function(e){return t.$emit("editor-ready")}},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}):t._e(),s("b-row",{staticClass:"mt-3",attrs:{"no-gutters":"","align-h":"end"}},[s("b-button",{staticClass:"px-3",attrs:{variant:"primary",disabled:t.disableSubmit},on:{"~click":function(e){return t.submitAnswer(e)}}},[s("transition-group",{attrs:{name:"group-fade"}},[t.state.submiting?s("span",{key:"loading"},[s("AppLoading",{attrs:{size:"sm"}})],1):s("span",{key:"text"},[t._v("Submit")])])],1)],1)],1),t.allAnswers?s("b-row",{staticClass:"mb-4",attrs:{"no-gutters":""}},[s("b-col",{staticClass:"p-2"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[studentCollapseID]",arg:t.studentCollapseID}],staticClass:"w-100",attrs:{variant:"dark"}},[t._v(" View collegues Answers ")])],1),s("b-col",{staticClass:"p-2"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[teacherCollapseID]",arg:t.teacherCollapseID}],staticClass:"w-100",attrs:{variant:"dark"}},[t._v(" View Teacher answer ")])],1)],1):s("b-row",{staticClass:"mb-4",attrs:{"no-gutters":"","align-h":"center"}},[s("b-col",{attrs:{cols:"auto"}},[s("b-button",{staticClass:"w-100 px-3",attrs:{variant:"dark"},on:{"~click":function(e){return t.loadAnswers(e)}}},[s("transition-group",{attrs:{name:"group-fade"}},[t.state.loadingAnswers?s("span",{key:"loading"},[s("AppLoading",{attrs:{size:"sm"}})],1):s("span",{key:"text"},[t._v(" Load Answers")])])],1)],1)],1),s("b-collapse",{staticClass:"mt-4",attrs:{id:t.teacherCollapseID}},[s("b-row",{attrs:{"no-gutters":""}},[s("h6",[t._v("Teacher's Answer:")])]),s("b-list-group",t._l(t.teacherAnswers,(function(e,a){return s("b-list-group-item",{key:a,staticClass:"bg-light"},[s("h6",[t._v(t._s(e.teacherAnswer.name))]),s("article",{domProps:{innerHTML:t._s(e.teacherAnswer.answer)}})])})),1)],1),s("b-collapse",{staticClass:"mt-4",attrs:{id:t.studentCollapseID}},[s("b-row",{attrs:{"no-gutters":""}},[s("h6",[t._v("Collegues Answers:")])]),s("b-list-group",t._l(t.studentAnswers,(function(e,a){return s("b-list-group-item",{key:a},[s("h6",[t._v(t._s(e.studentAnswer.name))]),s("article",{domProps:{innerHTML:t._s(e.studentAnswer.answer)}})])})),1)],1),s("b-row",{staticClass:"mt-3",attrs:{"no-gutters":"","align-h":"end"}},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"px-3",attrs:{variant:"dark"}},[t._v("close")])],1)],1)],1)},wt=[],_t=s("ec26"),xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"custom-editor"}},[s("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},on:{input:function(e){return t.$emit("input",t.editorData)},ready:function(e){return t.$emit("ready")}},model:{value:t.editorData,callback:function(e){t.editorData=e},expression:"editorData"}})],1)},yt=[],Dt=s("0469"),kt=s("290f"),It=s("2d79"),At=s("d4c1"),$t=s("8068"),St=s("f61b"),jt=s("eebf"),zt=s("e25f"),Nt=s("8a91"),Lt=s("85a9"),Ut=s("41ae"),qt=s("fb67"),Rt=s("8b25"),Ot=s("39a0"),Tt=s("233a"),Mt=s("0bf6"),Et=s("56b3"),Pt=s("7212"),Bt=s("6fa7"),Qt=s("4801"),Ft=(s("0e170"),s("2b10")),Vt=s("643c"),Gt=s("f4e9"),Wt=s("9799"),Ht={name:"custom-editor",data:function(){return{editor:Dt["a"],editorData:"",editorConfig:{plugins:[kt["a"],It["a"],At["a"],$t["a"],St["a"],jt["a"],zt["a"],Nt["a"],Lt["a"],Ut["a"],qt["a"],Rt["a"],Ot["a"],Tt["a"],Mt["a"],Et["a"],Pt["a"],Bt["a"],Qt["a"],Ft["a"],Vt["a"],Gt["a"],Wt["a"]],toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","undo","redo","MathType","ChemType"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}}}},Jt=Ht,Yt=(s("63d6"),Object(u["a"])(Jt,xt,yt,!1,null,"85bcb0fc",null)),Kt=Yt.exports,Xt={name:"individual-course-challenge-component",components:{CustomEditor:Kt},props:{challenge:{type:Object,required:!0}},data:function(){return{collapseID:Object(_t["a"])(),state:{ready:!1,submiting:!1,loadingAnswers:!1},answer:"",allAnswers:null}},beforeMount:function(){var t=this,e=setTimeout((function(){t.$set(t.state,"ready",!0),clearTimeout(e)}),1)},computed:{teacherCollapseID:function(){return"teacher-answer"+this.collapseID},studentCollapseID:function(){return"students-answer"+this.collapseID},studentAnswers:function(){if(this.allAnswers)return this.allAnswers.filter((function(t){return Boolean(t.studentAnswer)}))},teacherAnswers:function(){if(this.allAnswers)return this.allAnswers.filter((function(t){return Boolean(t.teacherAnswer)}))},disableSubmit:function(){return!Boolean(this.answer)},userID:function(){return this.$store.state.student.studentData.user_id}},methods:{submitAnswer:function(){var t=this;this.state.submiting=!0;var e={action:"addAnswer",userId:this.userID,challengeId:this.challenge.id,comment:this.answer};this.axios.post("getcourse",e).then((function(e){console.log(e.data),t.$notify({title:"SUCCESS!",message:e.data.message,status:"success"}),t.state.submiting=!1})).catch((function(e){console.log(e),t.state.submiting=!1}))},loadAnswers:function(){var t=this;this.state.loadingAnswers=!0;var e={action:"getAnswers",challengeId:this.challenge.id};this.axios.post("getcourse",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.allAnswers=e.data),t.state.loadingAnswers=!1})).catch((function(e){console.log(e),t.state.loadingAnswers=!1}))}}},Zt=Xt,te=(s("c3cd"),Object(u["a"])(Zt,Ct,wt,!1,null,"3e9fb30c",null)),ee=te.exports,se={name:"course-challenge-tab",components:{CourseChallenge:ee,AddChallenge:vt},props:["courseName","unitsAvailable"],data:function(){return{challenges:[],state:{loading:!0,fetching:!1,challengesReady:!0}}},computed:{userID:function(){return this.$store.state.student.studentData.user_id},selectedUnit:function(){return this.$parent.selectedUnit},classID:function(){return this.$route.params.classID}},watch:{unitsAvailable:function(){this.unitsAvailable&&(this.selectedUnit?this.fetchChallengesByUnits():this.fetchChallenges())},selectedUnit:function(){this.unitsAvailable&&(this.selectedUnit?this.fetchChallengesByUnits():this.fetchChallenges())}},mounted:function(){console.log(this.$store.state.student.studentData)},methods:{fetchChallenges:function(){var t=this;if(!this.state.fetching){this.state.loading=!0,this.state.fetching=!0;var e={action:"getChallenges",userId:this.userID,userType:"student",subjectName:this.courseName};this.axios.post("getcourse",e).then((function(e){console.log(e.data),t.challenges=e.data,t.state.loading=!1,t.state.fetching=!1})).catch((function(e){console.log(e),t.state.loading=!1,t.state.fetching=!1}))}},fetchChallengesByUnits:function(){var t=this;if(!this.state.fetching){this.state.fetching=!0,this.state.loading=!0;var e={action:"getChallengesByUnit",userId:this.userID,userType:"student",subjectName:this.courseName,unit:this.selectedUnit.UnitId};this.axios.post("getcourse",e).then((function(e){console.log(e.data),t.challenges=e.data,t.state.loading=!1,t.state.fetching=!1})).catch((function(e){console.log(e),t.state.loading=!1,t.state.fetching=!1}))}},checkReadiness:function(t){t&&(!this.challenges&&this.challenges.length||t+1==this.challenges.length&&(this.state.challengesReady=!1))}}},ae=se,ne=Object(u["a"])(ae,dt,gt,!1,null,"4af8cd04",null),oe=ne.exports,ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100"},[s("b-row",{attrs:{"no-gutters":""}}),t.state.loading?s("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[s("AppLoading",{attrs:{type:"dark"}}),s("p",{staticClass:"text-center mt-3"},[t._v("Loading summaries")])],1):t.summaries?s("b-list-group",t._l(t.summaries,(function(e,a){return s("b-list-group-item",{key:a,staticClass:"d-flex align-items-center"},[s("b-col",{staticClass:"book"},[t._v(" "+t._s(e.title)+" ")]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"summary-"+a,expression:"'summary-' + i"}],staticClass:"px-3",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")])],1),s("b-modal",{attrs:{id:"summary-"+a,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[s("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[s("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):s("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No summaries available at the moment, try again later! ")])],1)},re=[],le={name:"course-summary-tab",data:function(){return{summaries:null,state:{loading:!1}}},computed:{userID:function(){return this.$store.state.student.studentData.user_id},courseID:function(){return this.$route.params.courseID},courseUnit:function(){return this.$parent.selectedUnit}},beforeMount:function(){Array.isArray(this.summaries)?this.state.loading=!1:this.fetchSummaries()},methods:{fetchSummaries:function(){var t=this;this.state.loading=!0;var e={action:"getSummaries",subjectName:this.courseID,userId:this.userID,userType:"student"};this.courseUnit&&(e.unit=this.courseUnit.UnitId),this.axios.post("getcourse",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.summaries=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},ce=le,ue=Object(u["a"])(ce,ie,re,!1,null,"74d6fa02",null),de=ue.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100"},[s("b-row",{attrs:{"no-gutters":""}}),t.state.loading?s("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[s("AppLoading",{attrs:{type:"dark"}}),s("p",{staticClass:"text-center mt-3"},[t._v("Loading Books")])],1):t.books?s("b-list-group",t._l(t.books,(function(e,a){return s("b-list-group-item",{key:a,staticClass:"d-flex align-items-center"},[s("b-col",{staticClass:"book"},[t._v(" "+t._s(e.title)+" ")]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"book-"+a,expression:"'book-' + i"}],staticClass:"px-3",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")])],1),s("b-modal",{attrs:{id:"book-"+a,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[s("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[s("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):s("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Books available at the moment, try again later! ")])],1)},me=[],he={name:"course-books-tab",data:function(){return{books:null,state:{loading:!0}}},computed:{userID:function(){return this.$store.state.student.studentData.user_id},courseID:function(){return this.$route.params.courseID}},beforeMount:function(){Array.isArray(this.books)?this.state.loading=!1:this.fetchBooks()},methods:{fetchBooks:function(){var t=this;this.state.loading=!0;var e={action:"getBooks",subjectName:this.courseID,userId:this.userID,userType:"student"};this.axios.post("getcourse",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.books=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},be=he,pe=Object(u["a"])(be,ge,me,!1,null,"393a1af9",null),fe=pe.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-sidebar",{attrs:{id:"units-sidebar","header-class":"px-3 py-4",backdrop:"",right:"",shadow:""},scopedSlots:t._u([{key:"title",fn:function(){return[s("h4",{staticClass:"font-weight-bold mb-0"},[t._v("Course units")])]},proxy:!0}])},[t.units?s("ul",{staticClass:"p-0 pb-4 units"},t._l(t.units,(function(e,a){return s("li",{directives:[{name:"b-toggle",rawName:"v-b-toggle.units-sidebar",modifiers:{"units-sidebar":!0}}],key:a,on:{click:function(s){return t.setUnit(e)}}},[t._v(" "+t._s(e.title)+" ")])})),0):t._e()])},Ce=[],we={name:"units-sidebar",props:["units"],data:function(){return{selectedUnit:null,state:{loading:!0}}},methods:{setUnit:function(t){this.selectedUnit=t,this.$emit("unit-selected",t)}}},_e=we,xe=(s("e99d7"),Object(u["a"])(_e,ve,Ce,!1,null,"47795b73",null)),ye=xe.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100"},[s("b-row",{attrs:{"no-gutters":""}}),t.state.loading?s("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[s("AppLoading",{attrs:{type:"dark"}}),s("p",{staticClass:"text-center mt-3"},[t._v("Loading Quizes")])],1):t.quizes?s("b-row",{attrs:{"no-gutters":""}},t._l(t.quizes,(function(t,e){return s("one-quiz",{key:e,attrs:{quiz:t}})})),1):s("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Quizes available at the moment, try again later! ")])],1)},ke=[],Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-col",{attrs:{cols:"12",id:"quiz"}},[s("b-row",{attrs:{"no-gutters":"","align-v":"center"}},[s("b-col",[s("h6",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"mb-0"},[t._v(" "+t._s(t.quiz.title)+" ")])]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"text-reset text-decoration-none no-outline",attrs:{variant:"link"}},[s("b-icon-caret-down-square-fill")],1)],1)],1),s("b-collapse",{attrs:{id:t.collapseID}},[s("div",{staticClass:"border-top mb-4 mt-3"}),t.questions?s("app-quiz",{attrs:{questions:t.questions,quizID:t.quiz.QuizId}}):t._e(),s("b-row",{staticClass:"mt-3",attrs:{"no-gutters":"","align-h":"end"}},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:[collapseID]",arg:t.collapseID}],staticClass:"px-3",attrs:{variant:"dark"}},[t._v(" close ")])],1)],1)],1)},Ae=[],$e=s("82d7"),Se={name:"individual-quiz-component",props:{quiz:{type:Object,required:!0}},components:{AppQuiz:$e["a"]},data:function(){return{collapseID:Object(_t["a"])(),state:{loadingQuestions:!0},questions:null}},computed:{userID:function(){return this.$store.state.student.studentData.user_id}},beforeMount:function(){Array.isArray(this.questions)?this.state.loadingQuestions=!1:this.fetchQuestions()},methods:{fetchQuestions:function(){var t=this;this.state.loadingQuestions=!0;var e={action:"getQuestions",QuizId:this.quiz.QuizId};this.axios.post("quiz",e).then((function(e){console.log(e),t.questions=e.data,t.state.loadingQuestions=!1})).catch((function(e){console.log(e),t.state.loadingQuestions=!1}))}}},je=Se,ze=(s("f389"),Object(u["a"])(je,Ie,Ae,!1,null,"4ad29b40",null)),Ne=ze.exports,Le={name:"course-quiz-tab",components:{OneQuiz:Ne},data:function(){return{quizes:null,state:{loading:!0}}},computed:{userID:function(){return this.$store.state.student.studentData.user_id},courseID:function(){return this.$route.params.courseID}},beforeMount:function(){Array.isArray(this.quizez)?this.state.loading=!1:this.fetchQuizes()},methods:{fetchQuizes:function(){var t=this;this.state.loading=!0;var e={action:"getQuiz",subjectName:this.courseID,userId:this.userID,userType:"student"};this.axios.post("quiz",e).then((function(e){console.log(e),e.data&&e.data.length&&e.data.length>0&&(t.quizes=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},Ue=Le,qe=Object(u["a"])(Ue,De,ke,!1,null,"4d713486",null),Re=qe.exports,Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100"},[s("b-row",{attrs:{"no-gutters":""}}),t.state.loading?s("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[s("AppLoading",{attrs:{type:"dark"}}),s("p",{staticClass:"text-center mt-3"},[t._v("Loading videos")])],1):t.videos?s("b-list-group",t._l(t.videos,(function(e,a){return s("b-list-group-item",{key:a,staticClass:"d-flex align-items-center"},[s("b-col",{staticClass:"video"},[t._v(" "+t._s(e.title)+" ")]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"video-"+a,expression:"'video-' + i"}],staticClass:"px-3",attrs:{size:"sm",variant:"dark"}},[t._v(" Play ")])],1),s("b-modal",{attrs:{id:"video-"+a,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[s("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[s("b-embed",{attrs:{src:e.file,aspect:"16by9",controls:""}})],1)],1)})),1):s("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No videos available at the moment, try again later! ")])],1)},Te=[],Me={name:"course-videos-tab",data:function(){return{videos:null,state:{loading:!1}}},computed:{userID:function(){return this.$store.state.student.studentData.user_id},courseID:function(){return this.$route.params.courseID},courseUnit:function(){return this.$parent.selectedUnit}},beforeMount:function(){Array.isArray(this.videos)?this.state.loading=!1:this.fetchVideos()},methods:{fetchVideos:function(){var t=this;this.state.loading=!0;var e={action:"getVideos",subjectName:this.courseID,userId:this.userID,userType:"student"};this.axios.post("getcourse",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.videos=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},Ee=Me,Pe=Object(u["a"])(Ee,Oe,Te,!1,null,"29c405bc",null),Be=Pe.exports,Qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100"},[s("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[s("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchAssignments}},[t._v(" Refresh ")])],1),t.state.loading?s("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[s("AppLoading",{attrs:{type:"dark"}}),s("p",{staticClass:"text-center mt-3"},[t._v("Loading Assignments")])],1):t.assignments.length>0?s("b-list-group",t._l(t.assignments,(function(e,a){return s("b-list-group-item",{key:a,staticClass:"d-flex align-items-center"},[s("b-col",{staticClass:"book"},[t._v(" "+t._s(e.title)+" ")]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"assignment-"+a,expression:"'assignment-' + i"}],staticClass:"px-3",attrs:{size:"sm",variant:"dark"},on:{click:function(s){return t.submitAssignment(e)}}},[t._v(" Submit ")])],1)],1)})),1):s("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Assignments available at the moment, try again later! ")]),s("submit-assignment",{attrs:{classID:t.classID,assignment:t.selectedAssignment},on:{"assignment-added":t.fetchAssignments}})],1)},Fe=[],Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"student-submit-assignments-modal",title:"Submit Assignment","body-class":"pb-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[s("b-row",{attrs:{"no-gutters":"","align-v":"center","align-h":"end"}},[s("b-button",{staticClass:"px-3 mx-1",attrs:{variant:"dark"},on:{click:t.clearModal}},[t._v(" cancel ")]),s("b-button",{staticClass:"text-light px-2 ml-2",attrs:{variant:"primary",disabled:t.state.submittingAssignment},on:{click:t.submitForm}},[s("transition-group",{attrs:{name:"group-fade"}},[t.state.submittingAssignment?s("span",{key:"loading"},[s("AppLoading",{attrs:{size:"xs"}})],1):s("span",{key:"text"},[t._v("Add Assignment")])])],1)],1)]},proxy:!0}])},[s("b-form",{ref:"submitAssignmentForm",on:{submit:function(e){return e.preventDefault(),t.submitAssignment(e)}}},[s("b-form-group",{staticClass:"mb-4",attrs:{label:"Assignment Title","label-class":"h6"}},[s("b-form-input",{attrs:{value:t.title,trim:"",required:"",readonly:""}})],1),s("b-form-group",{attrs:{label:"Assignment File"}},[s("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".docx, .pdf, .ppt",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),s("b-form-group",{staticClass:"mb-0 px-1"},[s("b-button",{ref:"submitAssignmentBtn",staticClass:"d-none",attrs:{type:"submit"}})],1)],1)],1)},Ge=[],We={name:"student-submit-assignment-modal",props:["classID","assignment"],data:function(){return{state:{submittingAssignment:!1},file:null}},computed:{user:function(){return this.$store.state.teacher.data},title:function(){return this.assignment.title}},mounted:function(){},methods:{submitAssignment:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state.submittingAssignment=!0,s=new FormData,s.append("title",t.title),s.append("subject",t.user.classID),s.append("level",t.user.level),s.append("userId",t.user.user_id),s.append("file",t.file),e.prev=7,e.next=10,t.axios.post("submitAssign",s);case 10:a=e.sent,n=a.data,console.log(n),t.state.submittingAssignment=!1,n.image?(t.clearModal(),t.$emit("assignment-submitted"),t.$notify({title:"SUCCESS!",message:n.message||"Assignment submitted successfully.",status:"success"})):t.$notify({title:"ERROR!",message:n.message||"Something went wrong while submitting your assignment.",status:"danger"}),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](7),t.state.submittingAssignment=!1,console.log(e.t0),t.$notify({title:"ERROR!",message:"Failed to add assignment! try agin later.",status:"danger"});case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))()},submitForm:function(){this.$refs["submitAssignmentBtn"].click()},clearModal:function(){this.$bvModal.hide("student-submit-assignments-modal"),this.state.submittingAssignment=!1,this.file=null}}},He=We,Je=Object(u["a"])(He,Ve,Ge,!1,null,null,null),Ye=Je.exports,Ke={components:{SubmitAssignment:Ye},name:"course-assignment-tab",data:function(){return{assignments:[],selectedAssignment:{title:""},state:{loading:!1}}},computed:{user:function(){return this.$store.state.student.studentData},classID:function(){return this.$route.params.classID}},beforeMount:function(){this.fetchAssignments()},methods:{fetchAssignments:function(){var t=this;this.state.loading=!0;var e={action:"getAssignment",subjectName:this.user.subjectName,userId:this.user.user_id,userType:"student",level:this.user.level};this.axios.post("getSchoolItems",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.assignments=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))},submitAssignment:function(t){this.$set(this,"selectedAssignment",t),this.$bvModal.show("student-submit-assignments-modal")}}},Xe=Ke,Ze=Object(u["a"])(Xe,Qe,Fe,!1,null,"7d2f1dfb",null),ts=Ze.exports,es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"w-100"},[s("b-row",{staticClass:"mb-3",attrs:{"no-gutters":"","align-h":"end"}},[s("b-button",{staticClass:"ml-1",attrs:{variant:"dark"},on:{click:t.fetchNotes}},[t._v(" Refresh ")])],1),t.state.loading?s("b-row",{staticClass:"py-5 flex-column",attrs:{"no-gutters":"","align-h":"center"}},[s("AppLoading",{attrs:{type:"dark"}}),s("p",{staticClass:"text-center mt-3"},[t._v("Loading Notes")])],1):t.notes.length>0?s("b-list-group",t._l(t.notes,(function(e,a){return s("b-list-group-item",{key:a,staticClass:"d-flex align-items-center"},[s("b-col",{staticClass:"book"},[t._v(" "+t._s(e.title)+" ")]),s("b-col",{attrs:{cols:"auto"}},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"note-"+a,expression:"'note-' + i"}],staticClass:"px-3",attrs:{size:"sm",variant:"dark"}},[t._v(" Read ")])],1),s("b-modal",{attrs:{id:"note-"+a,"no-close-on-backdrop":"","no-close-on-esc":"","no-stacking":"","hide-footer":"",size:"xl","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-class":"p-0",centered:"",lazy:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[s("p",{staticClass:"small m-0"},[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[s("iframe",{staticStyle:{"min-height":"80vh"},attrs:{src:"https://docs.google.com/gview?url="+e.file+"&embedded=true",frameborder:"0",width:"100%",height:"100%"}})])],1)})),1):s("b-row",{staticClass:"py-5",attrs:{"no-gutters":"","align-h":"center"}},[t._v(" No Notes available at the moment, try again later! ")])],1)},ss=[],as={name:"course-note-tab",data:function(){return{notes:[],state:{loading:!1}}},computed:{user:function(){return this.$store.state.student.studentData},classID:function(){return this.$route.params.classID}},beforeMount:function(){this.fetchNotes()},methods:{fetchNotes:function(){var t=this;this.state.loading=!0;var e={action:"schoolNotes",subjectName:this.classID,userId:this.user.user_id,userType:"student",level:this.user.level};this.axios.post("getSchoolItems",e).then((function(e){console.log(e.data),e.data&&e.data.length&&e.data.length>0&&(t.notes=e.data),t.state.loading=!1})).catch((function(e){console.log(e),t.state.loading=!1}))}}},ns=as,os=Object(u["a"])(ns,es,ss,!1,null,"a560e550",null),is=os.exports,rs={name:"course-details-component",components:{Challenges:oe,Summary:de,Books:fe,UnitsSidebar:ye,Quiz:Re,Videos:Be,Assignments:ts,Notes:is},data:function(){return{selectedTabIndex:0,selectedUnit:null,tabs:["Challenges","Summary","Books","Quiz","Videos"],knownSchoolTabs:["Challenges","Summary","Books","Quiz","Videos","Assignments","Notes"],units:null,state:{loadingUnits:!0,unitsAvailable:!1}}},computed:{courseID:function(){return this.$route.params.courseID},showUnits:function(){return!!this.units},userID:function(){return this.$store.state.student.studentData.user_id},user:function(){return this.$store.state.student.studentData},shownTabs:function(){return"knownschool"==this.user.status?this.knownSchoolTabs:this.tabs}},beforeMount:function(){Array.isArray(this.units)?this.state.loadingUnits=!1:this.fetchUnits(),console.log(this.user.status)},methods:{fetchUnits:function(){var t=this;this.state.loadingUnits=!0,this.state.unitsAvailable=!1;var e={action:"getUnits",subjectName:this.courseID,userId:this.userID,userType:"student"};this.axios.post("getcourse",e).then((function(e){console.log(e),e.data&&e.data.length&&e.data.length>0&&(t.units=e.data,t.selectedUnit=e.data[0]),t.state.loadingUnits=!1,t.state.unitsAvailable=!0})).catch((function(e){console.log(e),t.state.loadingUnits=!1,t.state.unitsAvailable=!0}))},setTab:function(t){isNaN(t)||t!=this.selectedTabIndex&&this.$set(this,"selectedTabIndex",t)},setUnit:function(t){this.$set(this,"selectedUnit",t)}}},ls=rs,cs=(s("88402"),Object(u["a"])(ls,ct,ut,!1,null,"3cbc36b4",null)),us=cs.exports,ds=[{path:"/student",component:x,children:[{path:"",redirect:{name:"student-courses"},meta:{requireAuth:!0}},{path:"courses",name:"student-courses",component:U,meta:{requireAuth:!0}},{path:"chatrooms",name:"student-chatrooms",component:H,meta:{requireAuth:!0}},{path:"quizes",name:"student-quizes",component:E,meta:{requireAuth:!0}},{path:"course/:courseID",name:"student-course-details",component:us,meta:{requireAuth:!0}},{path:"profile",name:"student-profile",component:lt,meta:{requireAuth:!0}}]},{path:"/student/create-profile/:studentID",name:"create-student-profile",component:st,props:!0,meta:{requireAuth:!0}}];e["a"]=ds},1344:function(t,e,s){"use strict";var a=s("1f38"),n=s.n(a);n.a},"167c":function(t,e,s){},"1f38":function(t,e,s){},"2d08":function(t,e,s){"use strict";var a=s("7dca"),n=s.n(a);n.a},3363:function(t,e,s){},"3eb3":function(t,e,s){"use strict";var a=s("3363"),n=s.n(a);n.a},"56f6":function(t,e,s){"use strict";var a=s("9263a"),n=s.n(a);n.a},"5ba1":function(t,e,s){},"638d":function(t,e,s){},"63d6":function(t,e,s){"use strict";var a=s("87f4"),n=s.n(a);n.a},"6ab4":function(t,e,s){},"6b04":function(t,e,s){"use strict";e["a"]={namespaced:!0,state:function(){return{studentID:null,studentData:null,selectedCourse:null}},mutations:{setStudentID:function(t,e){t.studentID=e},setStudentData:function(t,e){t.studentData=e,console.log("data set")}},actions:{setStudentID:function(t,e){t.commit("setStudentID",e)},setStudentData:function(t,e){t.commit("setStudentData",e)}},getters:{}}},7527:function(t,e,s){},7792:function(t,e,s){"use strict";var a=s("7527"),n=s.n(a);n.a},"7dca":function(t,e,s){},"83ba":function(t,e,s){},"87f4":function(t,e,s){},88402:function(t,e,s){"use strict";var a=s("c9ac"),n=s.n(a);n.a},"9263a":function(t,e,s){},"9b1f":function(t,e,s){},"9e24":function(t,e,s){},c0b3:function(t,e,s){"use strict";var a=s("9e24"),n=s.n(a);n.a},c168:function(t,e,s){"use strict";var a=s("167c"),n=s.n(a);n.a},c3cd:function(t,e,s){"use strict";var a=s("83ba"),n=s.n(a);n.a},c9ac:function(t,e,s){},cce6:function(t,e,s){"use strict";var a=s("5ba1"),n=s.n(a);n.a},dbc5:function(t,e,s){"use strict";var a=s("0174"),n=s.n(a);n.a},e99d7:function(t,e,s){"use strict";var a=s("6ab4"),n=s.n(a);n.a},f389:function(t,e,s){"use strict";var a=s("638d"),n=s.n(a);n.a}}]);