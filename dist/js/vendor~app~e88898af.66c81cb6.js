(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor~app~e88898af"],{"0066":function(t,e,o){"use strict";o.d(e,"a",(function(){return P}));o("fb6a"),o("a9e3"),o("bf19");var n=o("d4ec"),i=o("bee2"),a=o("45eb"),r=o("7e84"),s=o("262e"),u=o("2caf"),c=o("6c92"),f=o("98ea"),l=o("9cf5"),h=o("ad6b"),g=o("dfe0"),d=o("f2ea"),P=function(t){Object(s["a"])(o,t);var e=Object(u["a"])(o);function o(t,i,a,r){var s;return Object(n["a"])(this,o),s=e.call(this,r),s.splitPosition=t.clone(),s.splitPosition.stickiness="toNext",s.howMany=i,s.insertionPosition=o.getInsertionPosition(t),s.insertionPosition.stickiness="toNone",s.graveyardPosition=a?a.clone():null,s.graveyardPosition&&(s.graveyardPosition.stickiness="toNext"),s}return Object(i["a"])(o,[{key:"clone",value:function(){var t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,e=new l["a"](t,[0]);return new f["a"](this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new d["a"]("split-operation-position-invalid",this);if(!t.parent)throw new d["a"]("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new d["a"]("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new d["a"]("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)Object(g["b"])(h["a"]._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var e=t._clone();Object(g["a"])(this.insertionPosition,e)}var o=new h["a"](l["a"]._createAt(t,this.splitPosition.offset),l["a"]._createAt(t,t.maxOffset));Object(g["b"])(o,this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=Object(a["a"])(Object(r["a"])(o.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t=this.insertionPosition.path.slice();return t.push(0),new l["a"](this.insertionPosition.root,t)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new h["a"](this.splitPosition,t)}}],[{key:"getInsertionPosition",value:function(t){var e=t.path.slice(0,-1);return e[e.length-1]++,new l["a"](t.root,e)}},{key:"fromJSON",value:function(t,e){var o=l["a"].fromJSON(t.splitPosition,e),n=l["a"].fromJSON(t.insertionPosition,e),i=t.graveyardPosition?l["a"].fromJSON(t.graveyardPosition,e):null,a=new this(o,t.howMany,i,t.baseVersion);return a.insertionPosition=n,a}},{key:"className",get:function(){return"SplitOperation"}}]),o}(c["a"])},"17e1":function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));o("d81d"),o("b0c0"),o("bf19");var n=o("b85c"),i=o("2909"),a=o("d4ec"),r=o("bee2"),s=o("45eb"),u=o("7e84"),c=o("262e"),f=o("2caf"),l=o("6c92"),h=o("9cf5"),g=o("a52e"),d=o("63d0"),P=o("dfe0"),v=o("5122"),p=o("a641"),y=o("f2ea"),m=function(t){Object(c["a"])(o,t);var e=Object(f["a"])(o);function o(t,n,i){var r;return Object(a["a"])(this,o),r=e.call(this,i),r.position=t.clone(),r.position.stickiness="toNone",r.nodes=new g["a"](Object(P["c"])(n)),r.shouldReceiveAttributes=!1,r}return Object(r["a"])(o,[{key:"clone",value:function(){var t=new g["a"](Object(i["a"])(this.nodes).map((function(t){return t._clone(!0)}))),e=new o(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,e=new h["a"](t,[0]);return new d["a"](this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new y["a"]("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var t=this.nodes;this.nodes=new g["a"](Object(i["a"])(t).map((function(t){return t._clone(!0)}))),Object(P["a"])(this.position,t)}},{key:"toJSON",value:function(){var t=Object(s["a"])(Object(u["a"])(o.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(t,e){var i,a=[],r=Object(n["a"])(t.nodes);try{for(r.s();!(i=r.n()).done;){var s=i.value;s.name?a.push(p["a"].fromJSON(s)):a.push(v["a"].fromJSON(s))}}catch(c){r.e(c)}finally{r.f()}var u=new o(h["a"].fromJSON(t.position,e),a,t.baseVersion);return u.shouldReceiveAttributes=t.shouldReceiveAttributes,u}},{key:"className",get:function(){return"InsertOperation"}}]),o}(l["a"])},"3f95":function(t,e,o){"use strict";o.d(e,"a",(function(){return v}));var n=o("d4ec"),i=o("bee2"),a=o("73f9"),r=o("17e1"),s=o("f4bc"),u=o("63d0"),c=o("869f"),f=o("6c92"),l=o("8e03"),h=o("6472"),g=o("0066"),d=o("98ea"),P={};P[a["a"].className]=a["a"],P[r["a"].className]=r["a"],P[s["a"].className]=s["a"],P[u["a"].className]=u["a"],P[c["a"].className]=c["a"],P[f["a"].className]=f["a"],P[l["a"].className]=l["a"],P[h["a"].className]=h["a"],P[g["a"].className]=g["a"],P[d["a"].className]=d["a"];var v=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,null,[{key:"fromJSON",value:function(t,e){return P[t.__className].fromJSON(t,e)}}]),t}()},"63d0":function(t,e,o){"use strict";o.d(e,"a",(function(){return P}));o("bf19");var n=o("d4ec"),i=o("bee2"),a=o("45eb"),r=o("7e84"),s=o("262e"),u=o("2caf"),c=o("6c92"),f=o("9cf5"),l=o("ad6b"),h=o("f2ea"),g=o("e47a"),d=o("dfe0"),P=function(t){Object(s["a"])(o,t);var e=Object(u["a"])(o);function o(t,i,a,r){var s;return Object(n["a"])(this,o),s=e.call(this,r),s.sourcePosition=t.clone(),s.sourcePosition.stickiness="toNext",s.howMany=i,s.targetPosition=a.clone(),s.targetPosition.stickiness="toNone",s}return Object(i["a"])(o,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent,o=this.sourcePosition.offset,n=this.targetPosition.offset;if(o+this.howMany>t.maxOffset)throw new h["a"]("move-operation-nodes-do-not-exist",this);if(t===e&&o<n&&n<o+this.howMany)throw new h["a"]("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Object(g["a"])(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var i=this.sourcePosition.path.length-1;if(this.targetPosition.path[i]>=o&&this.targetPosition.path[i]<o+this.howMany)throw new h["a"]("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){Object(d["b"])(l["a"]._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=Object(a["a"])(Object(r["a"])(o.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(t,e){var o=f["a"].fromJSON(t.sourcePosition,e),n=f["a"].fromJSON(t.targetPosition,e);return new this(o,t.howMany,n,t.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),o}(c["a"])},6472:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));o("bf19");var n=o("d4ec"),i=o("bee2"),a=o("45eb"),r=o("7e84"),s=o("262e"),u=o("2caf"),c=o("6c92"),f=o("f2ea"),l=function(t){Object(s["a"])(o,t);var e=Object(u["a"])(o);function o(t,i,a,r,s){var u;return Object(n["a"])(this,o),u=e.call(this,s),u.root=t,u.key=i,u.oldValue=a,u.newValue=r,u}return Object(i["a"])(o,[{key:"clone",value:function(){return new o(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new o(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new f["a"]("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new f["a"]("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new f["a"]("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=Object(a["a"])(Object(r["a"])(o.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(t,e){if(!e.getRoot(t.root))throw new f["a"]("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new o(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}]),o}(c["a"])},"6c92":function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o("d4ec"),i=o("bee2"),a=function(){function t(e){Object(n["a"])(this,t),this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return Object(i["a"])(t,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}}],[{key:"fromJSON",value:function(t){return new this(t.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),t}()},"720c":function(t,e,o){"use strict";o.d(e,"a",(function(){return g}));o("bf19");var n=o("d4ec"),i=o("bee2"),a=o("45eb"),r=o("7e84"),s=o("262e"),u=o("2caf"),c=o("6c92"),f=o("ad6b"),l=o("dfe0"),h=o("f2ea"),g=function(t){Object(s["a"])(o,t);var e=Object(u["a"])(o);function o(t,i){var a;return Object(n["a"])(this,o),a=e.call(this,null),a.sourcePosition=t.clone(),a.howMany=i,a}return Object(i["a"])(o,[{key:"toJSON",value:function(){var t=Object(a["a"])(Object(r["a"])(o.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new h["a"]("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){Object(l["d"])(f["a"]._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),o}(c["a"])},"73f9":function(t,e,o){"use strict";o.d(e,"a",(function(){return P}));o("bf19");var n=o("b85c"),i=o("d4ec"),a=o("bee2"),r=o("45eb"),s=o("7e84"),u=o("262e"),c=o("2caf"),f=o("6c92"),l=o("ad6b"),h=o("f2ea"),g=o("dfe0"),d=o("32e8"),P=function(t){Object(u["a"])(o,t);var e=Object(c["a"])(o);function o(t,n,a,r,s){var u;return Object(i["a"])(this,o),u=e.call(this,s),u.range=t.clone(),u.key=n,u.oldValue=void 0===a?null:a,u.newValue=void 0===r?null:r,u}return Object(a["a"])(o,[{key:"clone",value:function(){return new o(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new o(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=Object(r["a"])(Object(s["a"])(o.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new h["a"]("attribute-operation-range-not-flat",this);var t,e=Object(n["a"])(this.range.getItems({shallow:!0}));try{for(e.s();!(t=e.n()).done;){var o=t.value;if(null!==this.oldValue&&!Object(d["a"])(o.getAttribute(this.key),this.oldValue))throw new h["a"]("attribute-operation-wrong-old-value",this,{item:o,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&o.hasAttribute(this.key))throw new h["a"]("attribute-operation-attribute-exists",this,{node:o,key:this.key})}}catch(i){e.e(i)}finally{e.f()}}},{key:"_execute",value:function(){Object(d["a"])(this.oldValue,this.newValue)||Object(g["e"])(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(t,e){return new o(l["a"].fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]),o}(f["a"])},"869f":function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var n=o("d4ec"),i=o("bee2"),a=o("262e"),r=o("2caf"),s=o("6c92"),u=function(t){Object(a["a"])(o,t);var e=Object(r["a"])(o);function o(){return Object(n["a"])(this,o),e.apply(this,arguments)}return Object(i["a"])(o,[{key:"clone",value:function(){return new o(this.baseVersion)}},{key:"getReversed",value:function(){return new o(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]),o}(s["a"])},"8ab1":function(t,e,o){"use strict";o.d(e,"a",(function(){return k}));o("99af"),o("d81d"),o("fb6a"),o("a434"),o("b0c0"),o("4ec9"),o("d3b7"),o("3ca3"),o("10d1"),o("ddb0");var n=o("d4ec"),i=o("bee2"),a=o("2909"),r=o("b85c"),s=o("17e1"),u=o("73f9"),c=o("8e03"),f=o("f4bc"),l=o("63d0"),h=o("6472"),g=o("98ea"),d=o("0066"),P=o("869f"),v=o("ad6b"),p=o("9cf5"),y=o("e47a"),m=new Map;function w(t,e,o){var n=m.get(t);n||(n=new Map,m.set(t,n)),n.set(e,o)}function b(t,e){var o=m.get(t);return o&&o.has(e)?o.get(e):O}function O(t){return[t]}function _(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=b(t.constructor,e.constructor);try{return t=t.clone(),n(t,e,o)}catch(i){throw i}}function k(t,e,o){t=t.slice(),e=e.slice();var n=new M(o.document,o.useRelations,o.forceWeakRemove);n.setOriginalOperations(t),n.setOriginalOperations(e);var i=n.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:i};var s,u=new WeakMap,c=Object(r["a"])(t);try{for(c.s();!(s=c.n()).done;){var f=s.value;u.set(f,0)}}catch(N){c.e(N)}finally{c.f()}var l={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},h=0;while(h<t.length){var g,d,P=t[h],v=u.get(P);if(v!=e.length){var p=e[v],y=_(P,p,n.getContext(P,p,!0)),m=_(p,P,n.getContext(p,P,!1));n.updateRelation(P,p),n.setOriginalOperations(y,P),n.setOriginalOperations(m,p);var w,b=Object(r["a"])(y);try{for(b.s();!(w=b.n()).done;){var O=w.value;u.set(O,v+m.length)}}catch(N){b.e(N)}finally{b.f()}(g=t).splice.apply(g,[h,1].concat(Object(a["a"])(y))),(d=e).splice.apply(d,[v,1].concat(Object(a["a"])(m)))}else h++}if(o.padWithNoOps){var k=t.length-l.originalOperationsACount,B=e.length-l.originalOperationsBCount;S(t,B-k),S(e,k-B)}return R(t,l.nextBaseVersionB),R(e,l.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:i}}var M=function(){function t(e,o){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(n["a"])(this,t),this.originalOperations=new Map,this._history=e.history,this._useRelations=o,this._forceWeakRemove=!!i,this._relations=new Map}return Object(i["a"])(t,[{key:"setOriginalOperations",value:function(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=o?this.originalOperations.get(o):null,i=Object(r["a"])(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;this.originalOperations.set(a,n||a)}}catch(s){i.e(s)}finally{i.f()}}},{key:"updateRelation",value:function(t,e){switch(t.constructor){case l["a"]:switch(e.constructor){case g["a"]:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case l["a"]:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter");break}break;case d["a"]:switch(e.constructor){case g["a"]:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case l["a"]:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore");break}break;case g["a"]:switch(e.constructor){case g["a"]:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case d["a"]:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case f["a"]:var o=t.newRange;if(!o)return;switch(e.constructor){case l["a"]:var n=v["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany),i=n.containsPosition(o.start)||n.start.isEqual(o.start),a=n.containsPosition(o.end)||n.end.isEqual(o.end);!i&&!a||n.containsRange(o)||this._setRelation(t,e,{side:i?"left":"right",path:i?o.start.path.slice():o.end.path.slice()});break;case g["a"]:var r=o.start.isEqual(e.targetPosition),s=o.start.isEqual(e.deletionPosition),u=o.end.isEqual(e.deletionPosition),c=o.end.isEqual(e.sourcePosition);(r||s||u||c)&&this._setRelation(t,e,{wasInLeftElement:r,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:u,wasInRightElement:c});break}break}}},{key:"getContext",value:function(t,e,o){return{aIsStrong:o,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(t){var e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}},{key:"_getRelation",value:function(t,e){var o=this.originalOperations.get(e),n=this._history.getUndoneOperation(o);if(!n)return null;var i=this.originalOperations.get(t),a=this._relations.get(i);return a&&a.get(n)||null}},{key:"_setRelation",value:function(t,e,o){var n=this.originalOperations.get(t),i=this.originalOperations.get(e),a=this._relations.get(n);a||(a=new Map,this._relations.set(n,a)),a.set(i,o)}}]),t}();function R(t,e){var o,n=Object(r["a"])(t);try{for(n.s();!(o=n.n()).done;){var i=o.value;i.baseVersion=e++}}catch(a){n.e(a)}finally{n.f()}}function S(t,e){for(var o=0;o<e;o++)t.push(new P["a"](0))}function B(t,e,o){var n=t.nodes,i=n.getNode(0).getAttribute(e);if(i==o)return null;var a=new v["a"](t.position,t.position.getShiftedBy(t.howMany));return new u["a"](a,e,i,o,0)}function N(t,e){var o=v["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany),n=null,i=[];o.containsRange(t,!0)?n=t:t.start.hasSameParentAs(o.start)?(i=t.getDifference(o),n=t.getIntersection(o)):i=[t];var s,u=[],c=Object(r["a"])(i);try{for(c.s();!(s=c.n()).done;){var f=s.value;f=f._getTransformedByDeletion(e.sourcePosition,e.howMany);var l=e.getMovedRangeStart(),h=f.start.hasSameParentAs(l);f=f._getTransformedByInsertion(l,e.howMany,h),u.push.apply(u,Object(a["a"])(f))}}catch(g){c.e(g)}finally{c.f()}return n&&u.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),u}function T(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function A(t,e){for(var o=[],n=0;n<t.length;n++){var i=t[n],a=new l["a"](i.start,i.end.offset-i.start.offset,e,0);o.push(a);for(var r=n+1;r<t.length;r++)t[r]=t[r]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];e=e._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return o}w(u["a"],u["a"],(function(t,e,o){if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){var n=t.range.getDifference(e.range).map((function(e){return new u["a"](e,t.key,t.oldValue,t.newValue,0)})),i=t.range.getIntersection(e.range);return i&&o.aIsStrong&&n.push(new u["a"](i,e.key,e.newValue,t.newValue,0)),0==n.length?[new P["a"](0)]:n}return[t]})),w(u["a"],s["a"],(function(t,e){if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){var o=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes),n=o.map((function(e){return new u["a"](e,t.key,t.oldValue,t.newValue,t.baseVersion)}));if(e.shouldReceiveAttributes){var i=B(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),w(u["a"],g["a"],(function(t,e){var o=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&o.push(v["a"]._createFromPositionAndShift(e.graveyardPosition,1));var n=t.range._getTransformedByMergeOperation(e);return n.isCollapsed||o.push(n),o.map((function(e){return new u["a"](e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),w(u["a"],l["a"],(function(t,e){var o=N(t.range,e);return o.map((function(e){return new u["a"](e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),w(u["a"],d["a"],(function(t,e){if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){var o=t.clone();return o.range=new v["a"](e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,o]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),w(s["a"],u["a"],(function(t,e){var o=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){var n=B(t,e.key,e.newValue);n&&o.push(n)}return o})),w(s["a"],s["a"],(function(t,e,o){return t.position.isEqual(e.position)&&o.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]})),w(s["a"],l["a"],(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),w(s["a"],d["a"],(function(t,e){return t.position=t.position._getTransformedBySplitOperation(e),[t]})),w(s["a"],g["a"],(function(t,e){return t.position=t.position._getTransformedByMergeOperation(e),[t]})),w(f["a"],s["a"],(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]})),w(f["a"],f["a"],(function(t,e,o){if(t.name==e.name){if(!o.aIsStrong)return[new P["a"](0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),w(f["a"],g["a"],(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]})),w(f["a"],l["a"],(function(t,e,o){if(t.oldRange&&(t.oldRange=v["a"]._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(o.abRelation){var n=v["a"]._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==o.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=o.abRelation.path,t.newRange.end=n.end,[t];if("right"==o.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=n.start,t.newRange.end.path=o.abRelation.path,[t]}t.newRange=v["a"]._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),w(f["a"],d["a"],(function(t,e,o){if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(o.abRelation){var n=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?t.newRange.start=p["a"]._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!o.abRelation.wasInLeftElement&&(t.newRange.start=p["a"]._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasInRightElement?t.newRange.end=p["a"]._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?t.newRange.end=p["a"]._createAt(e.insertionPosition):t.newRange.end=n.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),w(g["a"],s["a"],(function(t,e){return t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]})),w(g["a"],g["a"],(function(t,e,o){if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(o.bWasUndone){var n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new p["a"](e.graveyardPosition.root,n),t.howMany=0,[t]}return[new P["a"](0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!o.bWasUndone&&"splitAtSource"!=o.abRelation){var i="$graveyard"==t.targetPosition.root.rootName,a="$graveyard"==e.targetPosition.root.rootName,r=i&&!a,s=a&&!i,u=s||!r&&o.aIsStrong;if(u){var c=e.targetPosition._getTransformedByMergeOperation(e),f=t.targetPosition._getTransformedByMergeOperation(e);return[new l["a"](c,t.howMany,f,0)]}return[new P["a"](0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&o.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),w(g["a"],l["a"],(function(t,e,o){var n=v["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!o.bWasUndone&&!o.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.sourcePosition)?[new P["a"](0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),w(g["a"],d["a"],(function(t,e,o){if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){var n=0!=e.howMany,i=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(n||i||"mergeTargetNotMoved"==o.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==o.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==o.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),w(l["a"],s["a"],(function(t,e){var o=v["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),n=o._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),w(l["a"],l["a"],(function(t,e,o){var n,i=v["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),s=v["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany),u=o.aIsStrong,c=!o.aIsStrong;if("insertBefore"==o.abRelation||"insertAfter"==o.baRelation?c=!0:"insertAfter"!=o.abRelation&&"insertBefore"!=o.baRelation||(c=!1),n=t.targetPosition.isEqual(e.targetPosition)&&c?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),T(t,e)&&T(e,t))return[e.getReversed()];var f=i.containsPosition(e.targetPosition);if(f&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),A([i],n);var l=s.containsPosition(t.targetPosition);if(l&&s.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),A([i],n);var h=Object(y["a"])(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==h||"extension"==h)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),A([i],n);"remove"!=t.type||"remove"==e.type||o.aWasUndone||o.forceWeakRemove?"remove"==t.type||"remove"!=e.type||o.bWasUndone||o.forceWeakRemove||(u=!1):u=!0;var g,d=[],p=i.getDifference(s),m=Object(r["a"])(p);try{for(m.s();!(g=m.n()).done;){var w=g.value;w.start=w.start._getTransformedByDeletion(e.sourcePosition,e.howMany),w.end=w.end._getTransformedByDeletion(e.sourcePosition,e.howMany);var b="same"==Object(y["a"])(w.start.getParentPath(),e.getMovedRangeStart().getParentPath()),O=w._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,b);d.push.apply(d,Object(a["a"])(O))}}catch(k){m.e(k)}finally{m.f()}var _=i.getIntersection(s);return null!==_&&u&&(_.start=_.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),_.end=_.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===d.length?d.push(_):1==d.length?s.start.isBefore(i.start)||s.start.isEqual(i.start)?d.unshift(_):d.push(_):d.splice(1,0,_)),0===d.length?[new P["a"](t.baseVersion)]:A(d,n)})),w(l["a"],d["a"],(function(t,e,o){var n=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=o.abRelation||(n=t.targetPosition._getTransformedBySplitOperation(e));var i=v["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=n,[t];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){var a=new v["a"](e.splitPosition,i.end);a=a._getTransformedBySplitOperation(e);var r=[new v["a"](i.start,e.splitPosition),a];return A(r,n)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==o.abRelation&&(n=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==o.abRelation&&(n=t.targetPosition);var s=i._getTransformedBySplitOperation(e),u=[s];if(e.graveyardPosition){var c=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);t.howMany>1&&c&&!o.aWasUndone&&u.push(v["a"]._createFromPositionAndShift(e.insertionPosition,1))}return A(u,n)})),w(l["a"],g["a"],(function(t,e,o){var n=v["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.sourcePosition))if("remove"!=t.type||o.forceWeakRemove){if(1==t.howMany)return o.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new P["a"](0)]}else if(!o.aWasUndone){var i=[],a=e.graveyardPosition.clone(),r=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(i.push(new l["a"](t.sourcePosition,t.howMany-1,t.targetPosition,0)),a=a._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));var s=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),u=new l["a"](a,1,s,0),c=u.getMovedRangeStart().path.slice();c.push(0);var f=new p["a"](u.targetPosition.root,c);r=r._getTransformedByMove(a,s,1);var h=new l["a"](r,e.howMany,f,0);return i.push(u),i.push(h),i}var g=v["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),d=g._getTransformedByMergeOperation(e);return t.sourcePosition=d.start,t.howMany=d.end.offset-d.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),w(c["a"],s["a"],(function(t,e){return t.position=t.position._getTransformedByInsertOperation(e),[t]})),w(c["a"],g["a"],(function(t,e){return t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])})),w(c["a"],l["a"],(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),w(c["a"],c["a"],(function(t,e,o){if(t.position.isEqual(e.position)){if(!o.aIsStrong)return[new P["a"](0)];t.oldName=e.newName}return[t]})),w(c["a"],d["a"],(function(t,e){var o=t.position.path,n=e.splitPosition.getParentPath();if("same"==Object(y["a"])(o,n)&&!e.graveyardPosition){var i=new c["a"](t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,i]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),w(h["a"],h["a"],(function(t,e,o){if(t.root===e.root&&t.key===e.key){if(!o.aIsStrong||t.newValue===e.newValue)return[new P["a"](0)];t.oldValue=e.newValue}return[t]})),w(d["a"],s["a"],(function(t,e){return t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=d["a"].getInsertionPosition(t.splitPosition),[t]})),w(d["a"],g["a"],(function(t,e,o){if(!t.graveyardPosition&&!o.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){var n=e.graveyardPosition.path.slice();n.push(0);var i=new p["a"](e.graveyardPosition.root,n),a=d["a"].getInsertionPosition(new p["a"](e.graveyardPosition.root,n)),r=new d["a"](i,0,null,0);return r.insertionPosition=a,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=d["a"].getInsertionPosition(t.splitPosition),t.graveyardPosition=r.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[r,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=d["a"].getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),w(d["a"],l["a"],(function(t,e,o){var n=v["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){var i=n.start.isEqual(t.graveyardPosition)||n.containsPosition(t.graveyardPosition);if(!o.bWasUndone&&i){var a=t.splitPosition._getTransformedByMoveOperation(e),r=t.graveyardPosition._getTransformedByMoveOperation(e),s=r.path.slice();s.push(0);var u=new p["a"](r.root,s),c=new l["a"](a,t.howMany,u,0);return[c]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){var f=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=f,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=d["a"].getInsertionPosition(t.splitPosition),[t]}var h=t.splitPosition.isEqual(e.targetPosition);return!h||"insertAtSource"!=o.baRelation&&"splitBefore"!=o.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=d["a"].getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=d["a"].getInsertionPosition(t.splitPosition),[t])})),w(d["a"],d["a"],(function(t,e,o){if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new P["a"](0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new P["a"](0)];if("splitBefore"==o.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){var n="$graveyard"==t.splitPosition.root.rootName,i="$graveyard"==e.splitPosition.root.rootName,a=n&&!i,r=i&&!n,s=r||!a&&o.aIsStrong;if(s){var u=[];return e.howMany&&u.push(new l["a"](e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&u.push(new l["a"](t.splitPosition,t.howMany,t.moveTargetPosition,0)),u}return[new P["a"](0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==o.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==o.baRelation){var c=e.insertionPosition.path.slice();c.push(0);var f=new p["a"](e.insertionPosition.root,c),h=new l["a"](t.insertionPosition,1,f,0);return[t,h]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=d["a"].getInsertionPosition(t.splitPosition),[t]}))},"8e03":function(t,e,o){"use strict";o.d(e,"a",(function(){return g}));o("b0c0"),o("bf19");var n=o("d4ec"),i=o("bee2"),a=o("45eb"),r=o("7e84"),s=o("262e"),u=o("2caf"),c=o("6c92"),f=o("a641"),l=o("f2ea"),h=o("9cf5"),g=function(t){Object(s["a"])(o,t);var e=Object(u["a"])(o);function o(t,i,a,r){var s;return Object(n["a"])(this,o),s=e.call(this,r),s.position=t,s.position.stickiness="toNext",s.oldName=i,s.newName=a,s}return Object(i["a"])(o,[{key:"clone",value:function(){return new o(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new o(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof f["a"]))throw new l["a"]("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new l["a"]("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){var t=this.position.nodeAfter;t.name=this.newName}},{key:"toJSON",value:function(){var t=Object(a["a"])(Object(r["a"])(o.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(t,e){return new o(h["a"].fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),o}(c["a"])},"98ea":function(t,e,o){"use strict";o.d(e,"a",(function(){return P}));o("fb6a"),o("a9e3"),o("bf19");var n=o("d4ec"),i=o("bee2"),a=o("45eb"),r=o("7e84"),s=o("262e"),u=o("2caf"),c=o("6c92"),f=o("0066"),l=o("9cf5"),h=o("ad6b"),g=o("dfe0"),d=o("f2ea"),P=function(t){Object(s["a"])(o,t);var e=Object(u["a"])(o);function o(t,i,a,r,s){var u;return Object(n["a"])(this,o),u=e.call(this,s),u.sourcePosition=t.clone(),u.sourcePosition.stickiness="toPrevious",u.howMany=i,u.targetPosition=a.clone(),u.targetPosition.stickiness="toNext",u.graveyardPosition=r.clone(),u}return Object(i["a"])(o,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),o=new l["a"](this.sourcePosition.root,e)._getTransformedByMergeOperation(this),n=new f["a"](t,this.howMany,this.graveyardPosition,this.baseVersion+1);return n.insertionPosition=o,n}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new d["a"]("merge-operation-source-position-invalid",this);if(!e.parent)throw new d["a"]("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new d["a"]("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent,e=h["a"]._createIn(t);Object(g["b"])(e,this.targetPosition),Object(g["b"])(h["a"]._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=Object(a["a"])(Object(r["a"])(o.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new l["a"](this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new h["a"](this.sourcePosition,t)}}],[{key:"fromJSON",value:function(t,e){var o=l["a"].fromJSON(t.sourcePosition,e),n=l["a"].fromJSON(t.targetPosition,e),i=l["a"].fromJSON(t.graveyardPosition,e);return new this(o,t.howMany,n,i,t.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),o}(c["a"])},"9cf5":function(t,e,o){"use strict";o.d(e,"a",(function(){return c})),o.d(e,"d",(function(){return f})),o.d(e,"b",(function(){return l})),o.d(e,"c",(function(){return h}));o("99af"),o("a630"),o("fb6a"),o("3ca3"),o("bf19");var n=o("2909"),i=o("d4ec"),a=o("bee2"),r=o("82af"),s=o("e47a"),u=o("f2ea"),c=(o("e800"),function(){function t(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(Object(i["a"])(this,t),!e.is("element")&&!e.is("documentFragment"))throw new u["a"]("model-position-root-invalid",e);if(!(o instanceof Array)||0===o.length)throw new u["a"]("model-position-path-incorrect-format",e,{path:o});e.is("rootElement")?o=o.slice():(o=[].concat(Object(n["a"])(e.getPath()),Object(n["a"])(o)),e=e.root),this.root=e,this.path=o,this.stickiness=a}return Object(a["a"])(t,[{key:"compareWith",value:function(t){if(this.root!=t.root)return"different";var e=Object(s["a"])(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var o=new r["a"](e);return o.skip(t),o.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(t){var e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(t){if(this.root!=t.root)return[];var e=Object(s["a"])(this.path,t.path),o="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,o)}},{key:"getCommonAncestor",value:function(t){var e=this.getAncestors(),o=t.getAncestors(),n=0;while(e[n]==o[n]&&e[n])n++;return 0===n?null:e[n-1]}},{key:"getShiftedBy",value:function(t){var e=this.clone(),o=e.offset+t;return e.offset=o<0?0:o,e}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isEqual",value:function(t){return"same"==this.compareWith(t)}},{key:"isTouching",value:function(e){var o=null,n=null,i=this.compareWith(e);switch(i){case"same":return!0;case"before":o=t._createAt(this),n=t._createAt(e);break;case"after":o=t._createAt(e),n=t._createAt(this);break;default:return!1}var a=o.parent;while(o.path.length+n.path.length){if(o.isEqual(n))return!0;if(o.path.length>n.path.length){if(o.offset!==a.maxOffset)return!1;o.path=o.path.slice(0,-1),a=a.parent,o.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}},{key:"is",value:function(t){return"position"===t||"model:position"===t}},{key:"hasSameParentAs",value:function(t){if(this.root!==t.root)return!1;var e=this.getParentPath(),o=t.getParentPath();return"same"==Object(s["a"])(e,o)}},{key:"getTransformedByOperation",value:function(e){var o;switch(e.type){case"insert":o=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(e);break;case"split":o=this._getTransformedBySplitOperation(e);break;case"merge":o=this._getTransformedByMergeOperation(e);break;default:o=t._createAt(this);break}return o}},{key:"_getTransformedByInsertOperation",value:function(t){return this._getTransformedByInsertion(t.position,t.howMany)}},{key:"_getTransformedByMoveOperation",value:function(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}},{key:"_getTransformedBySplitOperation",value:function(t){var e=t.movedRange,o=e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness;return o?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var o,n=e.movedRange,i=n.containsPosition(this)||n.start.isEqual(this);return i?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?t._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}},{key:"_getTransformedByDeletion",value:function(e,o){var n=t._createAt(this);if(this.root!=e.root)return n;if("same"==Object(s["a"])(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+o>this.offset)return null;n.offset-=o}}else if("prefix"==Object(s["a"])(e.getParentPath(),this.getParentPath())){var i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+o>this.path[i])return null;n.path[i]-=o}}return n}},{key:"_getTransformedByInsertion",value:function(e,o){var n=t._createAt(this);if(this.root!=e.root)return n;if("same"==Object(s["a"])(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=o);else if("prefix"==Object(s["a"])(e.getParentPath(),this.getParentPath())){var i=e.path.length-1;e.offset<=this.path[i]&&(n.path[i]+=o)}return n}},{key:"_getTransformedByMove",value:function(e,o,n){if(o=o._getTransformedByDeletion(e,n),e.isEqual(o))return t._createAt(this);var i=this._getTransformedByDeletion(e,n),a=null===i||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness;return a?this._getCombined(e,o):i._getTransformedByInsertion(o,n)}},{key:"_getCombined",value:function(e,o){var i=e.path.length-1,a=t._createAt(o);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[i]-e.offset,a.path=[].concat(Object(n["a"])(a.path),Object(n["a"])(this.path.slice(i+1))),a}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(t){this.path[this.path.length-1]=t}},{key:"parent",get:function(){for(var t=this.root,e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new u["a"]("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new u["a"]("model-position-path-incorrect",this,{position:this});return t}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return f(this,this.parent)}},{key:"nodeAfter",get:function(){var t=this.parent;return l(this,t,f(this,t))}},{key:"nodeBefore",get:function(){var t=this.parent;return h(this,t,f(this,t))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof t)return new t(e.root,e.path,e.stickiness);var i=e;if("end"==o)o=i.maxOffset;else{if("before"==o)return this._createBefore(i,n);if("after"==o)return this._createAfter(i,n);if(0!==o&&!o)throw new u["a"]("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new u["a"]("model-position-parent-incorrect",[this,e]);var a=i.getPath();return a.push(o),new this(i.root,a,n)}},{key:"_createAfter",value:function(t,e){if(!t.parent)throw new u["a"]("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}},{key:"_createBefore",value:function(t,e){if(!t.parent)throw new u["a"]("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}},{key:"fromJSON",value:function(e,o){if("$graveyard"===e.root){var n=new t(o.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!o.getRoot(e.root))throw new u["a"]("model-position-fromjson-no-root",o,{rootName:e.root});return new t(o.getRoot(e.root),e.path,e.stickiness)}}]),t}());function f(t,e){var o=e.getChild(e.offsetToIndex(t.offset));return o&&o.is("$text")&&o.startOffset<t.offset?o:null}function l(t,e,o){return null!==o?null:e.getChild(e.offsetToIndex(t.offset))}function h(t,e,o){return null!==o?null:e.getChild(e.offsetToIndex(t.offset)-1)}},dfe0:function(t,e,o){"use strict";o.d(e,"a",(function(){return l})),o.d(e,"d",(function(){return h})),o.d(e,"b",(function(){return g})),o.d(e,"e",(function(){return d})),o.d(e,"c",(function(){return P}));o("13d5"),o("a434");var n=o("b85c"),i=o("34b2"),a=o("5122"),r=o("2363"),s=o("ad6b"),u=o("db03"),c=o("a52e"),f=o("f2ea");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function l(t,e){e=P(e);var o=e.reduce((function(t,e){return t+e.offsetSize}),0),n=t.parent;p(t);var i=t.index;return n._insertChild(i,e),v(n,i+e.length),v(n,i),new s["a"](t,t.getShiftedBy(o))}function h(t){if(!t.isFlat)throw new f["a"]("operation-utils-remove-range-not-flat",this);var e=t.start.parent;p(t.start),p(t.end);var o=e._removeChildren(t.start.index,t.end.index-t.start.index);return v(e,t.start.index),o}function g(t,e){if(!t.isFlat)throw new f["a"]("operation-utils-move-range-not-flat",this);var o=h(t);return e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),l(e,o)}function d(t,e,o){p(t.start),p(t.end);var i,a=Object(n["a"])(t.getItems({shallow:!0}));try{for(a.s();!(i=a.n()).done;){var r=i.value,s=r.is("$textProxy")?r.textNode:r;null!==o?s._setAttribute(e,o):s._removeAttribute(e),v(s.parent,s.index)}}catch(u){a.e(u)}finally{a.f()}v(t.end.parent,t.end.index)}function P(t){var e=[];t instanceof Array||(t=[t]);for(var o=0;o<t.length;o++)if("string"==typeof t[o])e.push(new a["a"](t[o]));else if(t[o]instanceof r["a"])e.push(new a["a"](t[o].data,t[o].getAttributes()));else if(t[o]instanceof u["a"]||t[o]instanceof c["a"]){var s,f=Object(n["a"])(t[o]);try{for(f.s();!(s=f.n()).done;){var l=s.value;e.push(l)}}catch(P){f.e(P)}finally{f.f()}}else t[o]instanceof i["a"]&&e.push(t[o]);for(var h=1;h<e.length;h++){var g=e[h],d=e[h-1];g instanceof a["a"]&&d instanceof a["a"]&&y(g,d)&&(e.splice(h-1,2,new a["a"](d.data+g.data,d.getAttributes())),h--)}return e}function v(t,e){var o=t.getChild(e-1),n=t.getChild(e);if(o&&n&&o.is("$text")&&n.is("$text")&&y(o,n)){var i=new a["a"](o.data+n.data,o.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,i)}}function p(t){var e=t.textNode,o=t.parent;if(e){var n=t.offset-e.startOffset,i=e.index;o._removeChildren(i,1);var r=new a["a"](e.data.substr(0,n),e.getAttributes()),s=new a["a"](e.data.substr(n),e.getAttributes());o._insertChild(i,[r,s])}}function y(t,e){var o,i=t.getAttributes(),a=e.getAttributes(),r=Object(n["a"])(i);try{for(r.s();!(o=r.n()).done;){var s=o.value;if(s[1]!==e.getAttribute(s[0]))return!1;a.next()}}catch(u){r.e(u)}finally{r.f()}return a.next().done}},f4bc:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));o("b0c0"),o("bf19");var n=o("d4ec"),i=o("bee2"),a=o("45eb"),r=o("7e84"),s=o("262e"),u=o("2caf"),c=o("6c92"),f=o("ad6b"),l=function(t){Object(s["a"])(o,t);var e=Object(u["a"])(o);function o(t,i,a,r,s,u){var c;return Object(n["a"])(this,o),c=e.call(this,u),c.name=t,c.oldRange=i?i.clone():null,c.newRange=a?a.clone():null,c.affectsData=s,c._markers=r,c}return Object(i["a"])(o,[{key:"clone",value:function(){return new o(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new o(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=Object(a["a"])(Object(r["a"])(o.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(t,e){return new o(t.name,t.oldRange?f["a"].fromJSON(t.oldRange,e):null,t.newRange?f["a"].fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),o}(c["a"])}}]);