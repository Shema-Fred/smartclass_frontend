(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor~app~041bc801"],{"1ca1":function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 300 261.7" style="enable-background:new 0 0 300 261.7;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#FFFFFF;}\n\t.st1{fill:#EF4A5F;}\n\t.st2{fill:#C8202F;}\n</style>\n<path class="st0" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n<path class="st0" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n\tC91.6,257.7,90.9,257.7,90.2,257.7"/>\n<g>\n\t<g>\n\t\t<path class="st1" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n\t\t\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n\t\t\tC91.6,257.7,90.9,257.7,90.2,257.7"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path class="st2" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n\t\t\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n\t</g>\n</g>\n</svg>\n'},"27eb":function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 40.3 49.5" style="enable-background:new 0 0 40.3 49.5;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#A4CF61;}\n</style>\n<path class="st0" d="M39.2,12.1c0-1.9-1.1-3.6-2.7-4.4L24.5,0.9l0,0c-0.7-0.4-1.5-0.6-2.4-0.6c-0.9,0-1.7,0.2-2.4,0.6l0,0L2.3,10.8\n\tl0,0C0.9,11.7,0,13.2,0,14.9h0v19.6h0c0,1.7,0.9,3.3,2.3,4.1l0,0l17.4,9.9l0,0c0.7,0.4,1.5,0.6,2.4,0.6c0.9,0,1.7-0.2,2.4-0.6l0,0\n\tl12.2-6.9h0c1.5-0.8,2.6-2.5,2.6-4.3c0-2.7-2.2-4.9-4.9-4.9c-0.9,0-1.8,0.3-2.5,0.7l0,0l-9.7,5.6l-12.3-7V17.8l12.3-7l9.9,5.7l0,0\n\tc0.7,0.4,1.5,0.6,2.4,0.6C37,17,39.2,14.8,39.2,12.1"/>\n</svg>\n'},eebf:function(e,t,i){"use strict";i.d(t,"a",(function(){return A}));var n=i("109b"),o=i("3707"),r=i("79bf"),s=i("1339"),a=i("3ed2"),c=i("bae8"),d=i("2beb"),l=i("bf50"),m=i("6013"),g=i("b8b6"),u=i("1dae"),h=i("1331"),p=i("5a04"),f=i("f56d"),w=i("e5b7"),b=i("2049"),v=i("24b6"),x=i("652f");i("9cf5");class C extends m["a"]{constructor(e){const t=e.editorObject;"undefined"!=typeof t.config&&"undefined"!=typeof t.config.get("mathTypeParameters")&&(e.integrationParameters=t.config.get("mathTypeParameters")),super(e),this.integrationFolderName="ckeditor_wiris"}getLanguage(){const e=this.editorObject.config.get("language");return"object"===typeof e?e.hasOwnProperty("ui")?e.ui:"en":e}addEditorListeners(){const e=this.editorObject;"undefined"!=typeof e.config.wirislistenersdisabled&&e.config.wirislistenersdisabled||this.checkElement()}checkElement(){const e=this.editorObject,t=e.sourceElement;t.wirisActive||(this.setTarget(t),this.addEvents(),t.wirisActive=!0)}doubleClickHandler(e,t){if("img"==e.nodeName.toLowerCase()&&h["a"].containsClass(e,f["a"].get("imageClassName"))){"undefined"!=typeof t.stopPropagation?t.stopPropagation():t.returnValue=!1,this.core.getCustomEditors().disable();const i=e.getAttribute(f["a"].get("imageCustomEditorName"));i&&this.core.getCustomEditors().enable(i),this.core.editionProperties.temporalImage=e,this.openExistingFormulaEditor()}}getCorePath(){return null}callbackFunction(){super.callbackFunction(),this.addEditorListeners()}openNewFormulaEditor(){return this.core.editionProperties.selection=this.editorObject.editing.view.document.selection,super.openNewFormulaEditor()}insertMathml(e){return this.editorObject.model.change(t=>{const i=this.getCore(),n=t.createElement("mathml",{formula:e});if(i.editionProperties.isNewElement){if(!e)return;let i=this.core.editionProperties.selection||this.editorObject.editing.view.document.selection,o=this.editorObject.editing.mapper.toModelPosition(i.getLastPosition());if(t.insert(n,o),!i.isCollapsed)for(const e of i.getRanges())t.remove(this.editorObject.editing.mapper.toModelRange(e))}else{const o=i.editionProperties.temporalImage,r=this.editorObject.editing.view.domConverter.domToView(o).parent,s=this.editorObject.editing.mapper.toModelElement(r),a=this.editorObject.model.createPositionBefore(s);e&&t.insert(n,a),t.remove(s)}return n})}findText(e){let t,i=e;while(!t)t=this.editorObject.editing.mapper.toModelElement(this.editorObject.editing.view.domConverter.domToView(i)),i=i.parentElement;const n=this.editorObject.model.createRangeIn(t),o=Array.from(n.getItems());for(const r of o)if(r.is("textProxy")&&r.data==e.data.replace(String.fromCharCode(160)," "))return r.textNode}insertFormula(e,t,i,n){let o={};if(i)if("latex"==this.core.editMode)o.latex=v["a"].getLatexFromMathML(i),o.node=t.document.createTextNode("$$"+o.latex+"$$"),this.editorObject.model.change(e=>{const t=this.core.editionProperties.latexRange,i=this.findText(t.startContainer),n=this.findText(t.endContainer),r=e.createPositionAt(i.parent,i.startOffset+t.startOffset),s=e.createPositionAt(n.parent,n.startOffset+t.endOffset),a=e.createRange(r,s);e.remove(a),e.insertText("$$"+o.latex+"$$",i.getAttributes(),r)});else try{o.node=this.editorObject.editing.view.domConverter.viewToDom(this.editorObject.editing.mapper.toViewElement(this.insertMathml(i)),t.document)}catch(r){const e=r.toString();e.includes("CKEditorError: Cannot read property 'parent' of undefined")&&this.core.modalDialog.cancelAction()}else this.insertMathml("");return o}notifyWindowClosed(){this.editorObject.editing.view.focus()}}class E extends x["a"]{constructor(e){super(e)}execute(e={}){if(!e.hasOwnProperty("integration")||!(e.integration instanceof C))throw'Must pass a valid CKEditor5Integration instance as attribute "integration" of options';this.integration=e.integration,this.setEditor(),this.openEditor()}setEditor(){this.integration.core.getCustomEditors().disable()}openEditor(){const e=this._getSelectedImage();"undefined"!==typeof e&&null!==e&&e.classList.contains(WirisPlugin.Configuration.get("imageClassName"))?(this.integration.core.editionProperties.temporalImage=e,this.integration.openExistingFormulaEditor()):this.integration.openNewFormulaEditor()}_getSelectedImage(){const e=this.editor.editing.view.document.selection;if(e.isCollapsed||1!==e.rangeCount)return;const t=e.getFirstRange();let i;for(const n of t){if("span"!==n.item.name)return;i=n.item.getChild(0);break}return i?this.editor.editing.view.domConverter.mapViewToDom(i):void 0}}class y extends E{setEditor(){this.integration.core.getCustomEditors().enable("chemistry")}}var P=i("1ca1"),T=i.n(P),O=i("27eb"),j=i.n(O);class A extends n["a"]{static get requires(){return[l["a"]]}static get pluginName(){return"MathType"}init(){const e=this._addIntegration();this._addCommands(),this._addViews(e),this._addSchema(),this._addConverters(),this._exposeWiris()}_addIntegration(){const e=this.editor,t={};let i;return t.environment={},t.environment.editor="CKEditor5",t.environment.editorVersion="5.x",t.editorObject=e,t.serviceProviderProperties={},t.serviceProviderProperties.URI="https://www.wiris.net/demo/plugins/app",t.serviceProviderProperties.server="java",t.target=e.sourceElement,t.scriptName="bundle.js",t.managesLanguage=!0,t.target&&(i=new C(t),i.init(),i.listeners.fire("onTargetReady",{}),i.checkElement(),this.listenTo(e.editing.view.document,"click",(e,t)=>{2==t.domEvent.detail&&(i.doubleClickHandler(t.domTarget,t.domEvent),e.stop())},{priority:"highest"})),i}_addCommands(){const e=this.editor;e.commands.add("MathType",new E(e)),e.commands.add("ChemType",new y(e))}_addViews(e){const t=this.editor;t.ui.componentFactory.add("MathType",i=>{const n=new o["a"](i);return n.bind("isEnabled").to(t.commands.get("MathType"),"isEnabled"),n.set({label:"Insert a math equation - MathType",icon:T.a,tooltip:!0}),n.on("execute",()=>{t.execute("MathType",{integration:e})}),n}),t.ui.componentFactory.add("ChemType",i=>{const n=new o["a"](i);return n.bind("isEnabled").to(t.commands.get("ChemType"),"isEnabled"),n.set({label:"Insert a chemistry formula - ChemType",icon:j.a,tooltip:!0}),n.on("execute",()=>{t.execute("ChemType",{integration:e})}),n}),t.editing.view.addObserver(r["a"])}_addSchema(){const e=this.editor.model.schema;e.register("mathml",{allowWhere:"$text",isObject:!0,isInline:!0,allowAttributes:["formula"]})}_addConverters(){const e=this.editor;function t(e){const t=e.getChild(0);if(!t||"semantics"!==t.name)return!1;for(const i of t.getChildren())if("annotation"===i.name&&"LaTeX"===i.getAttribute("encoding"))return!0;return!1}function i(e,t){if(t.is("text"))return e.createText(t.data);if(t.is("element")){if(t.is("emptyElement"))return e.createEmptyElement(t.name,t.getAttributes());{const n=e.createContainerElement(t.name,t.getAttributes());for(const o of t.getChildren())e.insert(e.createPositionAt(n,"end"),i(e,o));return n}}throw new Exception("Given node has unsupported type.")}function n(e,{writer:t}){const n=new s["a"](t.document);let o=u["a"].endParseSaveMode(e.getAttribute("formula"));f["a"].get("saveHandTraces")||(o=b["a"].removeAnnotation(o,"application/json"));const r=n.toView(o).getChild(0);return i(t,r)}function o(e,{writer:t}){const i=t.createContainerElement("span",{class:"ck-math-widget"}),n=r(e,{writer:t});return t.insert(t.createPositionAt(i,0),n),Object(d["g"])(i,t)}function r(t,{writer:i}){const n=new s["a"](i.document),o=t.getAttribute("formula"),r=u["a"].initParse(o,e.config.get("language")),a=n.toView(r).getChild(0);return i.createEmptyElement("img",a.getAttributes())}e.conversion.for("upcast").elementToElement({view:{name:"span",classes:"ck-math-widget"},model:(e,t)=>{const i=b["a"].safeXmlDecode(e.getChild(0).getAttribute("data-mathml"));return t.createElement("mathml",{formula:i})}}),e.data.upcastDispatcher.on("element:math",(i,n,o)=>{const{consumable:r,writer:s}=o,d=n.viewItem;if(!r.test(d,{name:!0}))return;let l=t(d);const m=new a["a"](e.editing.view.document),g=new c["a"](e.editing.view.document),h=g.createDocumentFragment(d.getChildren()),p=[...d.getAttributes()].map(([e,t])=>` ${e}="${t}"`).join("");let f=m.toData(h)||"";f=`<math${p}>${f}</math>`;const w=l?s.createText(u["a"].initParse(f,e.config.get("language"))):s.createElement("mathml",{formula:f}),b=o.splitToAllowedParent(w,n.modelCursor);if(!b)return;o.writer.insert(w,b.position),r.consume(d,{name:!0});const v=o.getSplitParts(w);n.modelRange=s.createRange(o.writer.createPositionBefore(w),o.writer.createPositionAfter(v[v.length-1])),b.cursorParent?n.modelCursor=o.writer.createPositionAt(b.cursorParent,0):n.modelCursor=n.modelRange.end}),e.conversion.for("editingDowncast").elementToElement({model:"mathml",view:o}),e.conversion.for("dataDowncast").elementToElement({model:"mathml",view:n}),e.editing.mapper.on("viewToModelPosition",Object(d["i"])(e.model,e=>e.hasClass("ck-math-widget")))}_exposeWiris(){window.WirisPlugin={Core:g["a"],Parser:u["a"],Image:p["a"],MathML:b["a"],Util:h["a"],Configuration:f["a"],Listeners:w["a"],IntegrationModel:m["a"],Latex:v["a"]}}}}}]);