(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor~app~243dd144"],{1805:function(e,t){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>'},"18ea":function(e,t,n){},2260:function(e,t,n){},"2e91":function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return k})),n.d(t,"n",(function(){return p})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return y}));n("4de4"),n("7db0"),n("a630"),n("fb6a"),n("b0c0"),n("4ec9"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0");var i=n("3835"),r=n("2909"),a=n("b85c"),o=n("ff1a"),s=n("82af");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function l(e){return function(t,n,i){var r=i.consumable;if(r.test(n.item,"insert")&&r.test(n.item,"attribute:listType")&&r.test(n.item,"attribute:listIndent")){r.consume(n.item,"insert"),r.consume(n.item,"attribute:listType"),r.consume(n.item,"attribute:listIndent");var a=n.item,s=Object(o["b"])(a,i);Object(o["d"])(a,s,i,e)}}}function c(e){return function(t,n,i){var r=i.mapper.toViewPosition(n.position),s=r.getLastMatchingPosition((function(e){return!e.item.is("element","li")})),l=s.nodeAfter,c=i.writer;c.breakContainer(c.createPositionBefore(l)),c.breakContainer(c.createPositionAfter(l));var u=l.parent,f=u.previousSibling,d=c.createRangeOn(u),h=c.remove(d);f&&f.nextSibling&&Object(o["e"])(c,f,f.nextSibling);var v=i.mapper.toModelElement(l);A(v.getAttribute("listIndent")+1,n.position,d.start,l,i,e);var b,m=Object(a["a"])(c.createRangeIn(h).getItems());try{for(m.s();!(b=m.n()).done;){var g=b.value;i.mapper.unbindViewElement(g)}}catch(k){m.e(k)}finally{m.f()}t.stop()}}function u(e,t,n){if(n.consumable.consume(t.item,"attribute:listType")){var i=n.mapper.toViewElement(t.item),r=n.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));var a=i.parent,o="numbered"==t.attributeNewValue?"ol":"ul";r.rename(o,a)}}function f(e,t,n){var i=n.mapper.toViewElement(t.item),r=i.parent,s=n.writer;Object(o["e"])(s,r,r.nextSibling),Object(o["e"])(s,r.previousSibling,r);var l,c=Object(a["a"])(t.item.getChildren());try{for(c.s();!(l=c.n()).done;){var u=l.value;n.consumable.consume(u,"insert")}}catch(f){c.e(f)}finally{c.f()}}function d(e){return function(t,n,i){if(i.consumable.consume(n.item,"attribute:listIndent")){var r=i.mapper.toViewElement(n.item),s=i.writer;s.breakContainer(s.createPositionBefore(r)),s.breakContainer(s.createPositionAfter(r));var l=r.parent,c=l.previousSibling,u=s.createRangeOn(l);s.remove(u),c&&c.nextSibling&&Object(o["e"])(s,c,c.nextSibling),A(n.attributeOldValue+1,n.range.start,u.start,r,i,e),Object(o["d"])(n.item,r,i,e);var f,d=Object(a["a"])(n.item.getChildren());try{for(d.s();!(f=d.n()).done;){var h=f.value;i.consumable.consume(h,"insert")}}catch(v){d.e(v)}finally{d.f()}}}}function h(e,t,n){if("listItem"!=t.item.name){var i=n.mapper.toViewPosition(t.range.start),r=n.writer,a=[];while("ul"==i.parent.name||"ol"==i.parent.name){if(i=r.breakContainer(i),"li"!=i.parent.name)break;var s=i,l=r.createPositionAt(i.parent,"end");if(!s.isEqual(l)){var c=r.remove(r.createRange(s,l));a.push(c)}i=r.createPositionAfter(i.parent)}if(a.length>0){for(var u=0;u<a.length;u++){var f=i.nodeBefore,d=r.insert(i,a[u]);if(i=d.end,u>0){var h=Object(o["e"])(r,f,f.nextSibling);h&&h.parent==f&&i.offset--}}Object(o["e"])(r,i.nodeBefore,i.nodeAfter)}}}function v(e,t,n){var i=n.mapper.toViewPosition(t.position),r=i.nodeBefore,a=i.nodeAfter;Object(o["e"])(n.writer,r,a)}function b(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){var i=n.writer,r=i.createElement("listItem"),a=I(t.viewItem);i.setAttribute("listIndent",a,r);var o=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";if(i.setAttribute("listType",o,r),!n.safeInsert(r,t.modelCursor))return;var s=_(r,t.viewItem.getChildren(),n);t.modelRange=i.createRange(t.modelCursor,s),n.updateConversionResult(r,t)}}function m(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var i=Array.from(t.viewItem.getChildren()),r=0,a=i;r<a.length;r++){var o=a[r],s=!(o.is("element","li")||j(o));s&&o._remove()}}function g(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;var i,o=Object(r["a"])(t.viewItem.getChildren()),s=!1,l=!0,c=Object(a["a"])(o);try{for(c.s();!(i=c.n()).done;){var u=i.value;s&&!j(u)&&u._remove(),u.is("$text")?(l&&(u._data=u.data.replace(/^\s+/,"")),u.nextSibling&&!j(u.nextSibling)||(u._data=u.data.replace(/\s+$/,""))):j(u)&&(s=!0),l=!1}}catch(f){c.e(f)}finally{c.f()}}}function k(e){return function(t,n){if(!n.isPhantom){var i=n.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){var r,o=n.mapper.toViewElement(i),s=o.getAncestors().find(j),l=e.createPositionAt(o,0).getWalker(),c=Object(a["a"])(l);try{for(c.s();!(r=c.n()).done;){var u=r.value;if("elementStart"==u.type&&u.item.is("element","li")){n.viewPosition=u.previousPosition;break}if("elementEnd"==u.type&&u.item==s){n.viewPosition=u.nextPosition;break}}}catch(f){c.e(f)}finally{c.f()}}}}}function p(e){return function(t,n){var i=n.viewPosition,r=i.parent,a=n.mapper;if("ul"==r.name||"ol"==r.name){if(i.isAtEnd){var o=a.toModelElement(i.nodeBefore),s=a.getModelLength(i.nodeBefore);n.modelPosition=e.createPositionBefore(o).getShiftedBy(s)}else{var l=a.toModelElement(i.nodeAfter);n.modelPosition=e.createPositionBefore(l)}t.stop()}else if("li"==r.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){var c=a.toModelElement(r),u=1,f=i.nodeBefore;while(f&&j(f))u+=a.getModelLength(f),f=f.previousSibling;n.modelPosition=e.createPositionBefore(c).getShiftedBy(u),t.stop()}}}function w(e,t){var n,i=e.document.differ.getChanges(),r=new Map,o=!1,s=Object(a["a"])(i);try{for(s.s();!(n=s.n()).done;){var l=n.value;if("insert"==l.type&&"listItem"==l.name)g(l.position);else if("insert"==l.type&&"listItem"!=l.name){if("$text"!=l.name){var c=l.position.nodeAfter;c.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",c),o=!0),c.hasAttribute("listType")&&(t.removeAttribute("listType",c),o=!0),c.hasAttribute("listStyle")&&(t.removeAttribute("listStyle",c),o=!0);var u,f=Object(a["a"])(Array.from(e.createRangeIn(c)).filter((function(e){return e.item.is("element","listItem")})));try{for(f.s();!(u=f.n()).done;){var d=u.value;g(d.previousPosition)}}catch(w){f.e(w)}finally{f.f()}}var h=l.position.getShiftedBy(l.length);g(h)}else"remove"==l.type&&"listItem"==l.name?g(l.position):("attribute"==l.type&&"listIndent"==l.attributeKey||"attribute"==l.type&&"listType"==l.attributeKey)&&g(l.range.start)}}catch(w){s.e(w)}finally{s.f()}var v,b=Object(a["a"])(r.values());try{for(b.s();!(v=b.n()).done;){var m=v.value;k(m),p(m)}}catch(w){b.e(w)}finally{b.f()}return o;function g(e){var t=e.nodeBefore;if(t&&t.is("element","listItem")){var n=t;if(r.has(n))return;for(var i=n.previousSibling;i&&i.is("element","listItem");i=n.previousSibling)if(n=i,r.has(n))return;r.set(t,n)}else{var a=e.nodeAfter;a&&a.is("element","listItem")&&r.set(a,a)}}function k(e){var n=0,i=null;while(e&&e.is("element","listItem")){var r=e.getAttribute("listIndent");if(r>n){var a=void 0;null===i?(i=r-n,a=n):(i>r&&(i=r),a=r-i),t.setAttribute("listIndent",a,e),o=!0}else i=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function p(e){var n=[],i=null;while(e&&e.is("element","listItem")){var r=e.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){var a=n[r];e.getAttribute("listType")!=a&&(t.setAttribute("listType",a,e),o=!0)}else n[r]=e.getAttribute("listType");i=e,e=e.nextSibling}}}function y(e,t){var n,r=Object(i["a"])(t,2),a=r[0],o=r[1],s=a.is("documentFragment")?a.getChild(0):a;if(n=o?this.createSelection(o):this.document.selection,s&&s.is("element","listItem")){var l=n.getFirstPosition(),c=null;if(l.parent.is("element","listItem")?c=l.parent:l.nodeBefore&&l.nodeBefore.is("element","listItem")&&(c=l.nodeBefore),c){var u=c.getAttribute("listIndent");if(u>0)while(s&&s.is("element","listItem"))s._setAttribute("listIndent",s.getAttribute("listIndent")+u),s=s.nextSibling}}}function _(e,t,n){var i,r=n.writer,o=n.schema,s=r.createPositionAfter(e),l=Object(a["a"])(t);try{for(l.s();!(i=l.n()).done;){var c=i.value;if("ul"==c.name||"ol"==c.name)s=n.convertItem(c,s).modelCursor;else{var u=n.convertItem(c,r.createPositionAt(e,"end")),f=u.modelRange.start.nodeAfter,d=f&&f.is("element")&&!o.checkChild(e,f.name);d&&(e=u.modelCursor.parent.is("element","listItem")?u.modelCursor.parent:O(u.modelCursor),s=r.createPositionAfter(e))}}}catch(h){l.e(h)}finally{l.f()}return s}function O(e){var t,n=new s["a"]({startPosition:e});do{t=n.next()}while(!t.value.item.is("element","listItem"));return t.value.item}function A(e,t,n,i,a,s){var l,c=Object(o["c"])(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),u=a.mapper,f=a.writer,d=c?c.getAttribute("listIndent"):null;if(c)if(d==e){var h=u.toViewElement(c).parent;l=f.createPositionAfter(h)}else{var v=s.createPositionAt(c,"end");l=u.toViewPosition(v)}else l=n;l=Object(o["f"])(l);for(var b=0,m=Object(r["a"])(i.getChildren());b<m.length;b++){var g=m[b];j(g)&&(l=f.move(f.createRangeOn(g),l).end,Object(o["e"])(f,g,g.nextSibling),Object(o["e"])(f,g.previousSibling,g))}}function j(e){return e.is("element","ol")||e.is("element","ul")}function I(e){var t=0,n=e.parent;while(n){if(n.is("element","li"))t++;else{var i=n.previousSibling;i&&i.is("element","li")&&t++}n=n.parent}return t}},"356b":function(e,t,n){},4476:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return k}));n("4160"),n("4fad"),n("ac1f"),n("466d"),n("5319"),n("159b");var i=n("3835"),r=n("0e40"),a=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,o=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,s=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,l=/^((\w+:(\/{2,})?)|(\W))/i,c="Ctrl+K";function u(e){return e.is("attributeElement")&&!!e.getCustomProperty("link")}function f(e,t){var n=t.writer,i=n.createAttributeElement("a",{href:e},{priority:5});return n.setCustomProperty("link",!0,i),i}function d(e){return e=String(e),h(e)?e:"#"}function h(e){var t=e.replace(a,"");return t.match(o)}function v(e,t){var n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach((function(e){return e.label&&n[e.label]&&(e.label=n[e.label]),e})),t}function b(e){var t=[];if(e)for(var n=0,a=Object.entries(e);n<a.length;n++){var o=Object(i["a"])(a[n],2),s=o[0],l=o[1],c=Object.assign({},l,{id:"link".concat(Object(r["a"])(s))});t.push(c)}return t}function m(e,t){return!!e&&(e.is("element","image")&&t.checkAttribute("image","linkHref"))}function g(e){return s.test(e)}function k(e,t){var n=g(e)?"mailto:":t,i=!!n&&!l.test(e);return e&&i?n+e:e}},5689:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("a630"),n("b0c0"),n("3ca3");var i=n("b85c"),r=n("d4ec"),a=n("bee2"),o=n("262e"),s=n("2caf"),l=n("652f"),c=n("0b65"),u=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,i){var a;return Object(r["a"])(this,n),a=t.call(this,e),a._indentBy="forward"==i?1:-1,a}return Object(a["a"])(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,r=Array.from(n.selection.getSelectedBlocks());t.change((function(t){var n=r[r.length-1],a=n.nextSibling;while(a&&"listItem"==a.name&&a.getAttribute("listIndent")>n.getAttribute("listIndent"))r.push(a),a=a.nextSibling;e._indentBy<0&&(r=r.reverse());var o,s=Object(i["a"])(r);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l.getAttribute("listIndent")+e._indentBy;c<0?t.rename(l,"paragraph"):t.setAttribute("listIndent",c,l)}}catch(u){s.e(u)}finally{s.f()}e.fire("_executeCleanup",r)}))}},{key:"_checkEnabled",value:function(){var e=Object(c["a"])(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),i=e.previousSibling;while(i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=t){if(i.getAttribute("listIndent")==t)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}]),n}(l["a"])},"6fa7":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),s=n("109b"),l=n("82ae"),c=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new l["a"](e)),e.commands.add("outdent",new l["a"](e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),n}(s["a"]),u=n("3707"),f=n("7e51"),d=n.n(f),h=n("cbe6"),v=n.n(h),b=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?d.a:v.a,r="ltr"==t.uiLanguageDirection?v.a:d.a;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),r)}},{key:"_defineButton",value:function(e,t,n){var i=this,r=this.editor;r.ui.componentFactory.add(e,(function(a){var o=r.commands.get(e),s=new u["a"](a);return s.set({label:t,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),i.listenTo(s,"execute",(function(){r.execute(e),r.editing.view.focus()})),s}))}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),n}(s["a"]),m=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[c,b]}}]),n}(s["a"])},"77bd":function(e,t){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'},"7e51":function(e,t){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>'},8068:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),s=n("109b"),l=n("d7d3"),c=(n("7db0"),n("a630"),n("3ca3"),n("45eb")),u=n("7e84"),f=n("79bf"),d=n("4476"),h=n("164f"),v=n("901d"),b=n("3707"),m=(n("99af"),n("4160"),n("d81d"),n("13d5"),n("b0c0"),n("159b"),n("b85c")),g=n("2909"),k=n("940e"),p=n("3493"),w=n("9a87"),y=n("18b6"),_=n("2e1f"),O=n("ab1f"),A=n("768b"),j=n("0d02"),I=n("91db"),V=n("18ce"),S=n.n(V),B=n("8ef8"),E=n.n(B),T=(n("18ea"),n("7946"),function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(e,r,a){var o;Object(i["a"])(this,n),o=t.call(this,e);var s=e.t;o.focusTracker=new A["a"],o.keystrokes=new I["a"],o.urlInputView=o._createUrlInput(a),o.saveButtonView=o._createButton(s("Save"),S.a,"ck-button-save"),o.saveButtonView.type="submit",o.cancelButtonView=o._createButton(s("Cancel"),E.a,"ck-button-cancel","cancel"),o._manualDecoratorSwitches=o._createManualDecoratorSwitches(r),o.children=o._createFormChildren(r.manualDecorators),o._focusables=new p["a"],o._focusCycler=new j["a"]({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var l=["ck","ck-link-form","ck-responsive-form"];return r.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),o.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:o.children}),o}return Object(r["a"])(n,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(e,t){return e[t.name]=t.isOn,e}),{})}},{key:"render",value:function(){var e=this;Object(c["a"])(Object(u["a"])(n.prototype),"render",this).call(this),Object(O["a"])({view:this});var t=[this.urlInputView].concat(Object(g["a"])(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]);t.forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://",t=this.locale.t,n=new y["a"](this.locale,_["a"]);return n.label=t("Link URL"),n.fieldView.placeholder=e+"example.com",n}},{key:"_createButton",value:function(e,t,n,i){var r=new b["a"](this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}},{key:"_createManualDecoratorSwitches",value:function(e){var t,n=this,i=this.createCollection(),r=Object(m["a"])(e.manualDecorators);try{var a=function(){var r=t.value,a=new w["a"](n.locale);a.set({name:r.id,label:r.label,withText:!0}),a.bind("isOn").toMany([r,e],"value",(function(e,t){return void 0===t&&void 0===e?r.defaultValue:e})),a.on("execute",(function(){r.set("value",!a.isOn)})),i.add(a)};for(r.s();!(t=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return i}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();if(t.add(this.urlInputView),e.length){var n=new k["a"];n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]),n}(k["a"])),P=n("1805"),x=n.n(P),C=n("2609"),H=n.n(C),D=(n("2260"),function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(e){var r;Object(i["a"])(this,n),r=t.call(this,e);var a=e.t;return r.focusTracker=new A["a"],r.keystrokes=new I["a"],r.previewButtonView=r._createPreviewButton(),r.unlinkButtonView=r._createButton(a("Unlink"),x.a,"unlink"),r.editButtonView=r._createButton(a("Edit link"),H.a,"edit"),r.set("href"),r._focusables=new p["a"],r._focusCycler=new j["a"]({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[r.previewButtonView,r.editButtonView,r.unlinkButtonView]}),r}return Object(r["a"])(n,[{key:"render",value:function(){var e=this;Object(c["a"])(Object(u["a"])(n.prototype),"render",this).call(this);var t=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];t.forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var i=new b["a"](this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.delegate("execute").to(this,n),i}},{key:"_createPreviewButton",value:function(){var e=new b["a"](this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(function(e){return e&&Object(d["d"])(e)})),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(function(e){return e||n("This link has no URL")})),e.bind("isEnabled").to(this,"href",(function(e){return!!e})),e.template.tag="a",e.template.eventListeners={},e}}]),n}(k["a"])),F=n("77bd"),L=n.n(F),R="link-ui",U=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(f["a"]),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(h["a"]),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:R,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:R,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){Object(c["a"])(Object(u["a"])(n.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var e=this,t=this.editor,n=new D(t.locale),i=t.commands.get("link"),r=t.commands.get("unlink");return n.bind("href").to(i,"value"),n.editButtonView.bind("isEnabled").to(i),n.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(n,"edit",(function(){e._addFormView()})),this.listenTo(n,"unlink",(function(){t.execute("unlink"),e._hideUI()})),n.keystrokes.set("Esc",(function(t,n){e._hideUI(),n()})),n.keystrokes.set(d["a"],(function(t,n){e._addFormView(),n()})),n}},{key:"_createFormView",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=t.config.get("link.defaultProtocol"),r=new T(t.locale,n,i);return r.urlInputView.fieldView.bind("value").to(n,"value"),r.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),r.saveButtonView.bind("isEnabled").to(n),this.listenTo(r,"submit",(function(){var n=r.urlInputView.fieldView.element.value,a=Object(d["b"])(n,i);t.execute("link",a,r.getDecoratorSwitchesState()),e._closeFormView()})),this.listenTo(r,"cancel",(function(){e._closeFormView()})),r.keystrokes.set("Esc",(function(t,n){e._closeFormView(),n()})),r}},{key:"_createToolbarLinkButton",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=t.t;t.keystrokes.set(d["a"],(function(t,i){i(),n.isEnabled&&e._showUI(!0)})),t.ui.componentFactory.add("link",(function(t){var r=new b["a"](t);return r.isEnabled=!0,r.label=i("Link"),r.icon=L.a,r.keystroke=d["a"],r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(n,"isEnabled"),r.bind("isOn").to(n,"value",(function(e){return!!e})),e.listenTo(r,"execute",(function(){return e._showUI(!0)})),r}))}},{key:"_enableUserBalloonInteractions",value:function(){var e=this,t=this.editor.editing.view.document;this.listenTo(t,"click",(function(){var t=e._getSelectedLinkElement();t&&e._showUI()})),this.editor.keystrokes.set("Tab",(function(t,n){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,n){e._isUIVisible&&(e._hideUI(),n())})),Object(v["a"])({emitter:this.formView,activator:function(){return e._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return e._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var e=this.editor,t=e.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=t.value||""}}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}},{key:"_startUpdatingUI",value:function(){var e=this,t=this.editor,n=t.editing.view.document,i=this._getSelectedLinkElement(),r=o(),a=function(){var t=e._getSelectedLinkElement(),n=o();i&&!t||!i&&n!==r?e._hideUI():e._isUIVisible&&e._balloon.updatePosition(e._getBalloonPositionData()),i=t,r=n};function o(){return n.selection.focus.getAncestors().reverse().find((function(e){return e.is("element")}))}this.listenTo(t.ui,"update",a),this.listenTo(this._balloon,"change:visibleView",a)}},{key:"_getBalloonPositionData",value:function(){var e=this.editor.editing.view,t=this.editor.model,n=e.document,i=null;if(t.markers.has(R)){var r=Array.from(this.editor.editing.mapper.markerNameToElements(R)),a=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));i=e.domConverter.viewRangeToDom(a)}else{var o=this._getSelectedLinkElement(),s=n.selection.getFirstRange();i=o?e.domConverter.mapViewToDom(o):e.domConverter.viewRangeToDom(s)}return{target:i}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return M(t.getFirstPosition());var n=t.getFirstRange().getTrimmed(),i=M(n.start),r=M(n.end);return i&&i==r&&e.createRangeIn(i).getTrimmed().isEqual(n)?i:null}},{key:"_showFakeVisualSelection",value:function(){var e=this.editor.model;e.change((function(t){var n=e.document.selection.getFirstRange();if(e.markers.has(R))t.updateMarker(R,{range:n});else if(n.start.isAtEnd){var i=e.document.selection.focus,r=z(n,i,t);t.addMarker(R,{usingOperation:!1,affectsData:!1,range:r})}else t.addMarker(R,{usingOperation:!1,affectsData:!1,range:n})}))}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has(R)&&e.change((function(e){e.removeMarker(R)}))}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){var e=this._balloon.visibleView;return e==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[h["a"]]}},{key:"pluginName",get:function(){return"LinkUI"}}]),n}(s["a"]);function M(e){return e.getAncestors().find((function(e){return Object(d["g"])(e)}))}function z(e,t,n){var i=[e.start.path[0]+1,0],r=n.createPositionFromPath(e.start.root,i,"toNext"),a=n.createRange(r,e.end);return a.start.path[0]>e.end.path[0]?n.createRange(t):r.isAtStart&&r.isAtEnd?z(a,t,n):a}n("4d63"),n("ac1f"),n("25f0"),n("18a5");var N=n("c16b"),q=n("e2ed"),$=4,K=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})))$","i"),J=2,W=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document.selection;n.on("change:range",(function(){e.isEnabled=!n.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var e=this,t=this.editor,n=new N["a"](t.model,(function(e){if(G(e)){var t=Q(e.substr(0,e.length-1));return t?{url:t}:void 0}})),i=t.plugins.get("Input");n.on("matched:data",(function(n,r){var a=r.batch,o=r.range,s=r.url;if(i.isInput(a)){var l=o.end.getShiftedBy(-1),c=l.getShiftedBy(-s.length),u=t.model.createRange(c,l);e._applyAutoLink(s,u)}})),n.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,i=t.commands.get("enter");i&&i.on("execute",(function(){var t=n.document.selection.getFirstPosition();if(t.parent.previousSibling){var i=n.createRangeIn(t.parent.previousSibling);e._checkAndApplyAutoLinkOnRange(i)}}))}},{key:"_enableShiftEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,i=t.commands.get("shiftEnter");i&&i.on("execute",(function(){var t=n.document.selection.getFirstPosition(),i=n.createRange(n.createPositionAt(t.parent,0),t.getShiftedBy(-1));e._checkAndApplyAutoLinkOnRange(i)}))}},{key:"_checkAndApplyAutoLinkOnRange",value:function(e){var t=this.editor.model,n=Object(q["a"])(e,t),i=n.text,r=n.range,a=Q(i);if(a){var o=t.createRange(r.end.getShiftedBy(-a.length),r.end);this._applyAutoLink(a,o)}}},{key:"_applyAutoLink",value:function(e,t){var n=this,i=this.editor.model;this.isEnabled&&X(t,i)&&i.enqueueChange((function(i){var r=n.editor.config.get("link.defaultProtocol"),a=Object(d["b"])(e,r);i.setAttribute("linkHref",a,t)}))}}],[{key:"pluginName",get:function(){return"AutoLink"}}]),n}(s["a"]);function G(e){return e.length>$&&" "===e[e.length-1]&&" "!==e[e.length-2]}function Q(e){var t=K.exec(e);return t?t[J]:null}function X(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Y=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,null,[{key:"requires",get:function(){return[l["a"],U,W]}},{key:"pluginName",get:function(){return"Link"}}]),n}(s["a"])},cbe6:function(e,t){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>'},d7d3:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n("4de4"),n("4160"),n("18a5"),n("159b");var i=n("b85c"),r=n("3835"),a=n("d4ec"),o=n("bee2"),s=n("262e"),l=n("2caf"),c=n("109b"),u=n("4df9"),f=n("2d93"),d=n("1181"),h=n("b281"),v=n("35ad"),b=(n("99af"),n("fb6a"),n("652f")),m=n("89a8"),g=n("b286"),k=n("67b9"),p=n("0b65"),w=(n("7db0"),n("a630"),n("b0c0"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),function(){function e(){Object(a["a"])(this,e),this._definitions=new Set}return Object(o["a"])(e,[{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t._definitions.add(e)})):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(t){t.on("attribute:linkHref",(function(t,n,r){if(r.consumable.test(n.item,"attribute:linkHref")){var a,o=r.writer,s=o.document.selection,l=Object(i["a"])(e._definitions);try{for(l.s();!(a=l.n()).done;){var c=a.value,u=o.createAttributeElement("a",c.attributes,{priority:5});o.setCustomProperty("link",!0,u),c.callback(n.attributeNewValue)?n.item.is("selection")?o.wrap(s.getFirstRange(),u):o.wrap(r.mapper.toViewRange(n.range),u):o.unwrap(r.mapper.toViewRange(n.range),u)}}catch(f){l.e(f)}finally{l.f()}}}),{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var e=this;return function(t){t.on("attribute:linkHref:image",(function(t,n,a){var o,s=a.mapper.toViewElement(n.item),l=Array.from(s.getChildren()).find((function(e){return"a"===e.name})),c=Object(i["a"])(e._definitions);try{for(c.s();!(o=c.n()).done;){var u=o.value,f=Object(g["a"])(u.attributes);if(u.callback(n.attributeNewValue)){var d,h=Object(i["a"])(f);try{for(h.s();!(d=h.n()).done;){var v=Object(r["a"])(d.value,2),b=v[0],m=v[1];"class"===b?a.writer.addClass(m,l):a.writer.setAttribute(b,m,l)}}catch(O){h.e(O)}finally{h.f()}}else{var k,p=Object(i["a"])(f);try{for(p.s();!(k=p.n()).done;){var w=Object(r["a"])(k.value,2),y=w[0],_=w[1];"class"===y?a.writer.removeClass(_,l):a.writer.removeAttribute(y,l)}}catch(O){p.e(O)}finally{p.f()}}}}catch(O){c.e(O)}finally{c.f()}}))}}},{key:"length",get:function(){return this._definitions.size}}]),e}()),y=n("4476"),_=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(e){var i;return Object(a["a"])(this,n),i=t.call(this,e),i.manualDecorators=new k["a"],i.automaticDecorators=new w,i}return Object(o["a"])(n,[{key:"restoreManualDecoratorStates",value:function(){var e,t=Object(i["a"])(this.manualDecorators);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.value=this._getDecoratorStateFromModel(n.id)}}catch(r){t.e(r)}finally{t.f()}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=Object(p["a"])(t.selection.getSelectedBlocks());Object(y["f"])(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.selection.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref"));var r,a=Object(i["a"])(this.manualDecorators);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(s){a.e(s)}finally{a.f()}}},{key:"execute",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.editor.model,a=r.document.selection,o=[],s=[];for(var l in n)n[l]?o.push(l):s.push(l);r.change((function(n){if(a.isCollapsed){var l=a.getFirstPosition();if(a.hasAttribute("linkHref")){var c=Object(m["a"])(l,"linkHref",a.getAttribute("linkHref"),r);n.setAttribute("linkHref",e,c),o.forEach((function(e){n.setAttribute(e,!0,c)})),s.forEach((function(e){n.removeAttribute(e,c)})),n.setSelection(n.createPositionAfter(c.end.nodeBefore))}else if(""!==e){var u=Object(g["a"])(a.getAttributes());u.set("linkHref",e),o.forEach((function(e){u.set(e,!0)}));var f=n.createText(e,u);r.insertContent(f,l),n.setSelection(n.createPositionAfter(f))}["linkHref"].concat(o,s).forEach((function(e){n.removeSelectionAttribute(e)}))}else{var d,h=r.schema.getValidRanges(a.getRanges(),"linkHref"),v=[],b=Object(i["a"])(a.getSelectedBlocks());try{for(b.s();!(d=b.n()).done;){var k=d.value;r.schema.checkAttribute(k,"linkHref")&&v.push(n.createRangeOn(k))}}catch(I){b.e(I)}finally{b.f()}var p,w=v.slice(),y=Object(i["a"])(h);try{for(y.s();!(p=y.n()).done;){var _=p.value;t._isRangeToUpdate(_,v)&&w.push(_)}}catch(I){y.e(I)}finally{y.f()}var O,A=Object(i["a"])(w);try{var j=function(){var t=O.value;n.setAttribute("linkHref",e,t),o.forEach((function(e){n.setAttribute(e,!0,t)})),s.forEach((function(e){n.removeAttribute(e,t)}))};for(A.s();!(O=A.n()).done;)j()}catch(I){A.e(I)}finally{A.f()}}}))}},{key:"_getDecoratorStateFromModel",value:function(e){var t=this.editor.model,n=t.document,i=Object(p["a"])(n.selection.getSelectedBlocks());return Object(y["f"])(i,t.schema)?i.getAttribute(e):n.selection.getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,t){var n,r=Object(i["a"])(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.containsRange(e))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}}]),n}(b["a"]),O=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=Object(p["a"])(t.selection.getSelectedBlocks());Object(y["f"])(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}},{key:"execute",value:function(){var e=this.editor,t=this.editor.model,n=t.document.selection,r=e.commands.get("link");t.change((function(e){var a,o=n.isCollapsed?[Object(m["a"])(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:n.getRanges(),s=Object(i["a"])(o);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(e.removeAttribute("linkHref",l),r){var c,u=Object(i["a"])(r.manualDecorators);try{for(u.s();!(c=u.n()).done;){var f=c.value;e.removeAttribute(f.id,l)}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){s.e(d)}finally{s.f()}}))}}]),n}(b["a"]),A=n("d4e1"),j=n("644e"),I=function e(t){var n=t.id,i=t.label,r=t.attributes,o=t.defaultValue;Object(a["a"])(this,e),this.id=n,this.set("value"),this.defaultValue=o,this.label=i,this.attributes=r};Object(j["a"])(I,A["a"]);var V=n("84c3"),S=(n("356b"),"ck-link_selected"),B="automatic",E="manual",T=/^(https?:)?\/\//,P=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(e){var i;return Object(a["a"])(this,n),i=t.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),i}return Object(o["a"])(n,null,[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[f["a"],h["a"],v["a"]]}}]),Object(o["a"])(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:y["c"]}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Object(y["c"])(Object(y["d"])(e),t)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),e.commands.add("link",new _(e)),e.commands.add("unlink",new O(e));var t=Object(y["e"])(e.t,Object(y["h"])(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter((function(e){return e.mode===B}))),this._enableManualDecorators(t.filter((function(e){return e.mode===E})));var n=e.plugins.get(f["a"]);n.registerAttribute("linkHref"),Object(d["a"])(e,"linkHref","a",S),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=t.commands.get("link"),i=n.automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:B,callback:function(e){return T.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(e),i.length&&t.conversion.for("downcast").add(i.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){if(e.length){var t=this.editor,n=t.commands.get("link"),i=n.manualDecorators;e.forEach((function(e){t.model.schema.extend("$text",{allowAttributes:e.id}),i.add(new I(e)),t.conversion.for("downcast").attributeToElement({model:e.id,view:function(t,n){var r=n.writer;if(t){var a=i.get(e.id).attributes,o=r.createAttributeElement("a",a,{priority:5});return r.setCustomProperty("link",!0,o),o}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:i.get(e.id).attributes},model:{key:e.id}})}))}}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var e=this.editor,t=e.model,n=t.document.selection,i=e.commands.get("link");this.listenTo(t,"insertContent",(function(){var e=n.anchor.nodeBefore,r=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&e&&e.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||t.change((function(e){x(e,i.manualDecorators)})))}),{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor,t=e.commands.get("link");e.editing.view.addObserver(u["a"]);var n=!1;this.listenTo(e.editing.view.document,"mousedown",(function(){n=!0})),this.listenTo(e.editing.view.document,"selectionChange",(function(){if(n){n=!1;var i=e.model.document.selection;if(i.isCollapsed&&i.hasAttribute("linkHref")){var r=i.getFirstPosition(),a=Object(m["a"])(r,"linkHref",i.getAttribute("linkHref"),e.model);(r.isTouching(a.start)||r.isTouching(a.end))&&e.model.change((function(e){x(e,t.manualDecorators)}))}}}))}},{key:"_enableTypingOverLink",value:function(){var e,t,n=this.editor,a=n.editing.view;this.listenTo(a.document,"delete",(function(){t=!0}),{priority:"high"}),this.listenTo(n.model,"deleteContent",(function(){var i=n.model.document.selection;i.isCollapsed||(t?t=!1:H(n)&&C(n.model)&&(e=i.getAttributes()))}),{priority:"high"}),this.listenTo(n.model,"insertContent",(function(a,o){var s=Object(r["a"])(o,1),l=s[0];t=!1,H(n)&&e&&(n.model.change((function(t){var n,a=Object(i["a"])(e);try{for(a.s();!(n=a.n()).done;){var o=Object(r["a"])(n.value,2),s=o[0],c=o[1];t.setAttribute(s,c,l)}}catch(u){a.e(u)}finally{a.f()}})),e=null)}),{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view,r=e.commands.get("link"),a=!1,o=!1;this.listenTo(i.document,"delete",(function(e,t){o=t.domEvent.keyCode===V["f"].backspace}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){a=!1;var e=n.getFirstPosition(),i=n.getAttribute("linkHref");if(i){var r=Object(m["a"])(e,"linkHref",i,t);a=r.containsPosition(e)||r.end.isEqual(e)}}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){o&&(o=!1,a||e.model.enqueueChange((function(e){x(e,r.manualDecorators)})))}),{priority:"low"})}}]),n}(c["a"]);function x(e,t){e.removeSelectionAttribute("linkHref");var n,r=Object(i["a"])(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.removeSelectionAttribute(a.id)}}catch(o){r.e(o)}finally{r.f()}}function C(e){var t=e.document.selection,n=t.getFirstPosition(),i=t.getLastPosition(),r=n.nodeAfter;if(!r)return!1;if(!r.is("$text"))return!1;if(!r.hasAttribute("linkHref"))return!1;var a=i.textNode||i.nodeBefore;if(r===a)return!0;var o=Object(m["a"])(n,"linkHref",r.getAttribute("linkHref"),e);return o.containsRange(e.createRange(n,i),!0)}function H(e){var t=e.plugins.get("Input");return t.isInput(e.model.change((function(e){return e.batch})))}}}]);