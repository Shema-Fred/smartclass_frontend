(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor~app~a9b469e1"],{"0bf6":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=n("109b"),u=(n("13d5"),n("b0c0"),n("652f")),s=n("beb5"),l=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(e,i){var r;return Object(a["a"])(this,n),r=t.call(this,e),r.defaultStyle=!1,r.styles=i.reduce((function(e,t){return e[t.name]=t,t.isDefault&&(r.defaultStyle=t.name),e}),{}),r}return Object(i["a"])(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Object(s["d"])(e),e)if(e.hasAttribute("imageStyle")){var t=e.getAttribute("imageStyle");this.value=!!this.styles[t]&&t}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(e){var t=this,n=e.value,a=this.editor.model,i=a.document.selection.getSelectedElement();a.change((function(e){t.styles[n].isDefault?e.removeAttribute("imageStyle",i):e.setAttribute("imageStyle",n,i)}))}}]),n}(u["a"]),d=(n("4de4"),n("b85c")),f=n("0b65");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function m(e){return function(t,n,a){if(a.consumable.consume(n.item,t.name)){var i=b(n.attributeNewValue,e),r=b(n.attributeOldValue,e),o=a.mapper.toViewElement(n.item),c=a.writer;r&&c.removeClass(r.className,o),i&&c.addClass(i.className,o)}}}function g(e){var t=e.filter((function(e){return!e.isDefault}));return function(e,n,a){if(n.modelRange){var i=n.viewItem,r=Object(f["a"])(n.modelRange.getItems());if(a.schema.checkAttribute(r,"imageStyle")){var o,c=Object(d["a"])(t);try{for(c.s();!(o=c.n()).done;){var u=o.value;a.consumable.consume(i,{classes:u.className})&&a.writer.setAttribute("imageStyle",u.name,r)}}catch(s){c.e(s)}finally{c.f()}}}}}function b(e,t){var n,a=Object(d["a"])(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.name===e)return i}}catch(r){a.e(r)}finally{a.f()}}n("d81d");var h=n("660d"),v=n.n(h),p=n("1a1b"),y=n.n(p),O=n("0524"),j=n.n(O),w=n("0db1"),k=n.n(w),A=n("f2ea"),E={full:{name:"full",title:"Full size image",icon:v.a,isDefault:!0},side:{name:"side",title:"Side image",icon:k.a,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:y.a,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:j.a,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:k.a,className:"image-style-align-right"}},C={full:v.a,left:y.a,right:k.a,center:j.a};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(_)}function _(e){if("string"==typeof e){var t=e;E[t]?e=Object.assign({},E[t]):(Object(A["c"])("image-style-not-found",{name:t}),e={name:t})}else if(E[e.name]){var n=E[e.name],a=Object.assign({},e);for(var i in n)Object.prototype.hasOwnProperty.call(e,i)||(a[i]=n[i]);e=a}return"string"==typeof e.icon&&C[e.icon]&&(e.icon=C[e.icon]),e}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var x=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.data,a=e.editing;e.config.define("image.styles",["full","side"]);var i=S(e.config.get("image.styles"));t.extend("image",{allowAttributes:"imageStyle"});var r=m(i);a.downcastDispatcher.on("attribute:imageStyle:image",r),n.downcastDispatcher.on("attribute:imageStyle:image",r),n.upcastDispatcher.on("element:figure",g(i),{priority:"low"}),e.commands.add("imageStyle",new l(e,i))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),n}(c["a"]),I=n("3707"),T=(n("7201"),function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e,t=this.editor,n=t.config.get("image.styles"),a=V(S(n),this.localizedDefaultStylesTitles),i=Object(d["a"])(a);try{for(i.s();!(e=i.n()).done;){var r=e.value;this._createButton(r)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_createButton",value:function(e){var t=this,n=this.editor,a="imageStyle:".concat(e.name);n.ui.componentFactory.add(a,(function(a){var i=n.commands.get("imageStyle"),r=new I["a"](a);return r.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(i,"isEnabled"),r.bind("isOn").to(i,"value",(function(t){return t===e.name})),t.listenTo(r,"execute",(function(){n.execute("imageStyle",{value:e.name}),n.editing.view.focus()})),r}))}},{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),n}(c["a"]));function V(e,t){var n,a=Object(d["a"])(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;t[i.title]&&(i.title=t[i.title])}}catch(r){a.e(r)}finally{a.f()}return e}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var N=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"requires",get:function(){return[x,T]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),n}(c["a"])},"233a":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=n("109b"),u=(n("7db0"),n("b0c0"),n("b85c")),s=n("beb5"),l=n("232a"),d=n("2beb");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function f(e,t){return function(n){var a=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,a),Object(l["a"])({view:e,element:a,text:t}),Object(d["h"])(a,n)}}function m(e){var t,n=Object(u["a"])(e.getChildren());try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a&&a.is("element","caption"))return a}}catch(i){n.e(i)}finally{n.f()}return null}function g(e){var t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("image")?{name:!0}:null}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var b=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,a=t.model.schema,i=t.data,r=t.editing,o=t.t;a.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer((function(t){return e._insertMissingModelCaptionElement(t)})),t.conversion.for("upcast").elementToElement({view:g,model:"caption"});var c=function(e){return e.createContainerElement("figcaption")};i.downcastDispatcher.on("insert:caption",h(c,!1));var u=f(n,o("Enter image caption"));r.downcastDispatcher.on("insert:caption",h(u)),r.downcastDispatcher.on("insert",this._fixCaptionVisibility((function(e){return e.item})),{priority:"high"}),r.downcastDispatcher.on("remove",this._fixCaptionVisibility((function(e){return e.position.parent})),{priority:"high"}),n.document.registerPostFixer((function(t){return e._updateCaptionVisibility(t)}))}},{key:"_updateCaptionVisibility",value:function(e){var t,n=this.editor.editing.mapper,a=this._lastSelectedCaption,i=this.editor.model.document.selection,r=i.getSelectedElement();if(r&&r.is("element","image")){var o=m(r);t=n.toViewElement(o)}var c=i.getFirstPosition(),u=p(c.parent);if(u&&(t=n.toViewElement(u)),t)return a?(a===t||(y(a,e),this._lastSelectedCaption=t),O(t,e)):(this._lastSelectedCaption=t,O(t,e));if(a){var s=y(a,e);return this._lastSelectedCaption=null,s}return!1}},{key:"_fixCaptionVisibility",value:function(e){var t=this;return function(n,a,i){var r=e(a),o=p(r),c=t.editor.editing.mapper,u=i.writer;if(o){var s=c.toViewElement(o);s&&(o.childCount?u.removeClass("ck-hidden",s):u.addClass("ck-hidden",s))}}}},{key:"_insertMissingModelCaptionElement",value:function(e){var t,n=this.editor.model,a=n.document.differ.getChanges(),i=[],r=Object(u["a"])(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;if("insert"==o.type&&"$text"!=o.name){var c=o.position.nodeAfter;if(c.is("element","image")&&!m(c)&&i.push(c),!c.is("element","image")&&c.childCount){var s,l=Object(u["a"])(n.createRangeIn(c).getItems());try{for(l.s();!(s=l.n()).done;){var d=s.value;d.is("element","image")&&!m(d)&&i.push(d)}}catch(h){l.e(h)}finally{l.f()}}}}}catch(h){r.e(h)}finally{r.f()}for(var f=0,g=i;f<g.length;f++){var b=g[f];e.appendElement("caption",b)}return!!i.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),n}(c["a"]);function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a,i){var r=a.item;if((r.childCount||t)&&Object(s["d"])(r.parent)){if(!i.consumable.consume(a.item,"insert"))return;var o=i.mapper.toViewElement(a.range.start.parent),c=e(i.writer),u=i.writer;r.childCount||u.addClass("ck-hidden",c),v(c,a.item,o,i)}}}function v(e,t,n,a){var i=a.writer.createPositionAt(n,"end");a.writer.insert(i,e),a.mapper.bindElements(t,e)}function p(e){var t=e.getAncestors({includeSelf:!0}),n=t.find((function(e){return"caption"==e.name}));return n&&n.parent&&"image"==n.parent.name?n:null}function y(e,t){return!e.childCount&&!e.hasClass("ck-hidden")&&(t.addClass("ck-hidden",e),!0)}function O(e,t){return!!e.hasClass("ck-hidden")&&(t.removeClass("ck-hidden",e),!0)}n("c44c");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var j=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"requires",get:function(){return[b]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),n}(c["a"])},"290f":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=n("109b"),u=n("35ad"),s=(n("ac1f"),n("1276"),n("652f")),l=n("b85c"),d=(n("96cf"),regeneratorRuntime.mark(f));
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function f(e,t){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=Object(l["a"])(t),r.prev=1,n.s();case 3:if((a=n.n()).done){r.next=10;break}if(i=a.value,!i||!e.getAttributeProperties(i[0]).copyOnEnter){r.next=8;break}return r.next=8,i;case 8:r.next=3;break;case 10:r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](1),n.e(r.t0);case 15:return r.prev=15,n.f(),r.finish(15);case 18:case"end":return r.stop()}}),d,null,[[1,12,15,18]])}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var m=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(a){g(e.editor.model,a,n.selection,t.schema),e.fire("afterExecute",{writer:a})}))}}]),n}(s["a"]);function g(e,t,n,a){var i=n.isCollapsed,r=n.getFirstRange(),o=r.start.parent,c=r.end.parent;if(a.isLimit(o)||a.isLimit(c))i||o!=c||e.deleteContent(n);else if(i){var u=f(t.model.schema,n.getAttributes());b(t,r.start),t.setSelectionAttribute(u)}else{var s=!(r.start.isAtStart&&r.end.isAtEnd),l=o==c;e.deleteContent(n,{leaveUnmerged:s}),s&&(l?b(t,n.focus):t.setSelection(c,0))}}function b(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}var h=n("edea"),v=n("6896"),p=n("84c3"),y=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(e){var i;Object(a["a"])(this,n),i=t.call(this,e);var r=i.document;return r.on("keydown",(function(e,t){var n;i.isEnabled&&t.keyCode==p["f"].enter&&(r.once("enter",(function(e){return n=e}),{priority:"highest"}),r.fire("enter",new v["a"](r,t.domEvent,{isSoft:t.shiftKey})),n&&n.stop.called&&e.stop())})),i}return Object(i["a"])(n,[{key:"observe",value:function(){}}]),n}(h["a"]),O=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;t.addObserver(y),e.commands.add("enter",new m(e)),this.listenTo(n,"enter",(function(n,a){a.preventDefault(),a.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),n}(c["a"]),j=(n("18a5"),function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(a){k(t,a,n.selection),e.fire("afterExecute",{writer:a})}))}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.isEnabled=w(e.schema,t.selection)}}]),n}(s["a"]));function w(e,t){if(t.rangeCount>1)return!1;var n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;var a=t.getFirstRange(),i=a.start.parent,r=a.end.parent;return!E(i,e)&&!E(r,e)||i===r}function k(e,t,n){var a=n.isCollapsed,i=n.getFirstRange(),r=i.start.parent,o=i.end.parent,c=r==o;if(a){var u=f(e.schema,n.getAttributes());A(e,t,i.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(u)}else{var s=!(i.start.isAtStart&&i.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:s}),c?A(e,t,n.focus):s&&t.setSelection(o,0)}}function A(e,t,n){var a=t.createElement("softBreak");e.insertContent(a,n),t.setSelection(a,"after")}function E(e,t){return!e.is("rootElement")&&(t.isLimit(e)||E(e.parent,t))}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var C=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.conversion,a=e.editing.view,i=a.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:function(e,t){var n=t.writer;return n.createEmptyElement("br")}}),a.addObserver(y),e.commands.add("shiftEnter",new j(e)),this.listenTo(i,"enter",(function(t,n){n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),n}(c["a"]),S=n("3604"),_=n("0cfa"),x=n("8b59"),I=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"requires",get:function(){return[u["a"],O,S["a"],C,_["a"],x["a"]]}},{key:"pluginName",get:function(){return"Essentials"}}]),n}(c["a"])},3879:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'},"39a0":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=n("109b"),u=n("b6ab"),s=n("bf50"),l=n("652f"),d=n("beb5"),f=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Object(d["d"])(e),Object(d["d"])(e)&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection.getSelectedElement();t.change((function(t){t.setAttribute("alt",e.newValue,n)}))}}]),n}(l["a"]),m=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new f(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),n}(c["a"]),g=n("45eb"),b=n("7e84"),h=n("3707"),v=n("901d"),p=(n("4160"),n("159b"),n("940e")),y=n("3493"),O=n("18b6"),j=n("2e1f"),w=n("ab1f"),k=n("91db"),A=n("768b"),E=n("0d02"),C=n("18ce"),S=n.n(C),_=n("8ef8"),x=n.n(_),I=(n("6649"),n("7946"),function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(e){var i;Object(a["a"])(this,n),i=t.call(this,e);var r=i.locale.t;return i.focusTracker=new A["a"],i.keystrokes=new k["a"],i.labeledInput=i._createLabeledInputView(),i.saveButtonView=i._createButton(r("Save"),S.a,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(r("Cancel"),x.a,"ck-button-cancel","cancel"),i._focusables=new y["a"],i._focusCycler=new E["a"]({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[i.labeledInput,i.saveButtonView,i.cancelButtonView]}),i}return Object(i["a"])(n,[{key:"render",value:function(){var e=this;Object(g["a"])(Object(b["a"])(n.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),Object(w["a"])({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)}))}},{key:"_createButton",value:function(e,t,n,a){var i=new h["a"](this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),a&&i.delegate("execute").to(this,a),i}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new O["a"](this.locale,j["a"]);return t.label=e("Text alternative"),t.fieldView.placeholder=e("Text alternative"),t}}]),n}(p["a"])),T=n("164f"),V=n("546e"),N=n.n(V),B=n("ec02");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function F(e){var t=e.plugins.get("ContextualBalloon");if(Object(d["a"])(e.editing.view.document.selection)){var n=P(e);t.updatePosition(n)}}function P(e){var t=e.editing.view,n=B["a"].defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var D=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){Object(g["a"])(Object(b["a"])(n.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("imageTextAlternative",(function(a){var i=t.commands.get("imageTextAlternative"),r=new h["a"](a);return r.set({label:n("Change image text alternative"),icon:N.a,tooltip:!0}),r.bind("isEnabled").to(i,"isEnabled"),e.listenTo(r,"execute",(function(){e._showForm()})),r}))}},{key:"_createForm",value:function(){var e=this,t=this.editor,n=t.editing.view,a=n.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new I(t.locale),this._form.render(),this.listenTo(this._form,"submit",(function(){t.execute("imageTextAlternative",{newValue:e._form.labeledInput.fieldView.element.value}),e._hideForm(!0)})),this.listenTo(this._form,"cancel",(function(){e._hideForm(!0)})),this._form.keystrokes.set("Esc",(function(t,n){e._hideForm(!0),n()})),this.listenTo(t.ui,"update",(function(){Object(d["a"])(a.selection)?e._isVisible&&F(t):e._hideForm(!0)})),Object(v["a"])({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._balloon.view.element],callback:function(){return e._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:P(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select()}}},{key:"_hideForm",value:function(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[T["a"]]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),n}(c["a"]),R=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"requires",get:function(){return[m,D]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),n}(c["a"]),H=(n("92bd"),function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"requires",get:function(){return[u["a"],s["a"],R]}},{key:"pluginName",get:function(){return"Image"}}]),n}(c["a"]));
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */},"56b3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=n("109b"),u=n("beb5"),s=n("53dd"),l=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(s["a"]);n.register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:u["a"]})}}],[{key:"requires",get:function(){return[s["a"]]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),n}(c["a"])},"5f69":function(e,t,n){},6649:function(e,t,n){},7201:function(e,t,n){},7212:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=n("109b"),u=(n("4de4"),n("a630"),n("a15b"),n("d81d"),n("3ca3"),n("ab51"));n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function s(e){var t=e.map((function(e){return e.replace("+","\\+")}));return new RegExp("^image\\/(".concat(t.join("|"),")$"))}function l(e){return new Promise((function(t,n){var a=e.getAttribute("src");fetch(a).then((function(e){return e.blob()})).then((function(e){var n=f(e,a),i=n.replace("image/",""),r="image.".concat(i),o=new File([e],r,{type:n});t(o)})).catch(n)}))}function d(e){return!(!e.is("element","img")||!e.getAttribute("src"))&&(e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g))}function f(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}var m=n("1414"),g=n.n(m),b=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.ui.componentFactory.add("imageUpload",(function(n){var a=new u["a"](n),i=e.commands.get("imageUpload"),r=e.config.get("image.upload.types"),o=s(r);return a.set({acceptedType:r.map((function(e){return"image/".concat(e)})).join(","),allowMultipleFiles:!0}),a.buttonView.set({label:t("Insert image"),icon:g.a,tooltip:!0}),a.buttonView.bind("isEnabled").to(i),a.on("done",(function(t,n){var a=Array.from(n).filter((function(e){return o.test(e.type)}));a.length&&e.execute("imageUpload",{file:a})})),a}))}}],[{key:"pluginName",get:function(){return"ImageUploadUI"}}]),n}(c["a"]),h=(n("b0c0"),n("b85c")),v=n("32ea"),p=n("3879"),y=n.n(p),O=n("beb5"),j=(n("8030"),n("bcf9"),n("5f69"),function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(e){var i;return Object(a["a"])(this,n),i=t.call(this,e),i.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(y.a),i}return Object(i["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor;t.editing.downcastDispatcher.on("attribute:uploadStatus:image",(function(){return e.uploadStatusChange.apply(e,arguments)}))}},{key:"uploadStatusChange",value:function(e,t,n){var a=this.editor,i=t.item,r=i.getAttribute("uploadId");if(n.consumable.consume(t.item,e.name)){var o=a.plugins.get(v["a"]),c=r?t.attributeNewValue:null,u=this.placeholder,s=a.editing.mapper.toViewElement(i),l=n.writer;if("reading"==c)return w(s,l),void A(u,s,l);if("uploading"==c){var d=o.loaders.get(r);return w(s,l),void(d?(E(s,l),C(s,l,d,a.editing.view),N(s,l,d)):A(u,s,l))}"complete"==c&&o.loaders.get(r)&&_(s,l,a.editing.view),S(s,l),E(s,l),k(s,l)}}}]),n}(c["a"]));function w(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function k(e,t){t.removeClass("ck-appear",e)}function A(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);var a=Object(O["b"])(t);a.getAttribute("src")!==e&&n.setAttribute("src",e,a),T(t,"placeholder")||n.insert(n.createPositionAfter(a),I(n))}function E(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),V(e,t,"placeholder")}function C(e,t,n,a){var i=x(t);t.insert(t.createPositionAt(e,"end"),i),n.on("change:uploadedPercent",(function(e,t,n){a.change((function(e){e.setStyle("width",n+"%",i)}))}))}function S(e,t){V(e,t,"progressBar")}function _(e,t,n){var a=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),a),setTimeout((function(){n.change((function(e){return e.remove(e.createRangeOn(a))}))}),3e3)}function x(e){var t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}function I(e){var t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}function T(e,t){var n,a=Object(h["a"])(e.getChildren());try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.getCustomProperty(t))return i}}catch(r){a.e(r)}finally{a.f()}}function V(e,t,n){var a=T(e,n);a&&t.remove(t.createRangeOn(a))}function N(e,t,n){if(n.data){var a=Object(O["b"])(e);t.setAttribute("src",n.data,a)}}n("99af"),n("caad"),n("b64b"),n("2532");var B=n("aaa8"),F=n("35ad"),P=n("bae8"),D=n("59a6"),R=n("652f"),H=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement(),t=e&&"image"===e.name||!1;this.isEnabled=Object(O["e"])(this.editor.model)||t}},{key:"execute",value:function(e){var t=this.editor,n=t.model,a=t.plugins.get(v["a"]);n.change((function(t){var i,r=Array.isArray(e.file)?e.file:[e.file],o=Object(h["a"])(r);try{for(o.s();!(i=o.n()).done;){var c=i.value;U(t,n,a,c)}}catch(u){o.e(u)}finally{o.f()}}))}}]),n}(R["a"]);function U(e,t,n,a){var i=n.createLoader(a);i&&Object(O["c"])(e,t,{uploadId:i.id})}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var q=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(e){var i;return Object(a["a"])(this,n),i=t.call(this,e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),i}return Object(i["a"])(n,null,[{key:"requires",get:function(){return[v["a"],B["a"],F["a"]]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),Object(i["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,a=t.model.schema,i=t.conversion,r=t.plugins.get(v["a"]),o=s(t.config.get("image.upload.types"));a.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new H(t)),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(function(e,n){if(!L(n.dataTransfer)){var a=Array.from(n.dataTransfer.files).filter((function(e){return!!e&&o.test(e.type)})),i=n.targetRanges.map((function(e){return t.editing.mapper.toModelRange(e)}));t.model.change((function(n){n.setSelection(i),a.length&&(e.stop(),t.model.enqueueChange("default",(function(){t.execute("imageUpload",{file:a})})))}))}})),this.listenTo(t.plugins.get(F["a"]),"inputTransformation",(function(e,n){var a=Array.from(t.editing.view.createRangeIn(n.content)).filter((function(e){return d(e.item)&&!e.item.getAttribute("uploadProcessed")})).map((function(e){return{promise:l(e.item),imageElement:e.item}}));if(a.length){var i,o=new P["a"](t.editing.view.document),c=Object(h["a"])(a);try{for(c.s();!(i=c.n()).done;){var u=i.value;o.setAttribute("uploadProcessed",!0,u.imageElement);var s=r.createLoader(u.promise);s&&(o.setAttribute("src","",u.imageElement),o.setAttribute("uploadId",s.id,u.imageElement))}}catch(f){c.e(f)}finally{c.f()}}})),t.editing.view.document.on("dragover",(function(e,t){t.preventDefault()})),n.on("change",(function(){var a,i=n.differ.getChanges({includeChangesInGraveyard:!0}),o=Object(h["a"])(i);try{for(o.s();!(a=o.n()).done;){var c=a.value;if("insert"==c.type&&"$text"!=c.name){var u,s=c.position.nodeAfter,l="$graveyard"==c.position.root.rootName,d=Object(h["a"])(M(t,s));try{for(d.s();!(u=d.n()).done;){var f=u.value,m=f.getAttribute("uploadId");if(m){var g=r.loaders.get(m);g&&(l?g.abort():"idle"==g.status&&e._readAndUpload(g,f))}}}catch(b){d.e(b)}finally{d.f()}}}}catch(b){o.e(b)}finally{o.f()}}))}},{key:"_readAndUpload",value:function(e,t){var n=this,a=this.editor,i=a.model,r=a.locale.t,o=a.plugins.get(v["a"]),c=a.plugins.get(B["a"]);return i.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","reading",t)})),e.read().then((function(){var n=e.upload();if(D["a"].isSafari){var r=a.editing.mapper.toViewElement(t),o=Object(O["b"])(r);a.editing.view.once("render",(function(){if(o.parent){var e=a.editing.view.domConverter.mapViewToDom(o.parent);if(e){var t=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=t}}}))}return i.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","uploading",t)})),n})).then((function(e){i.enqueueChange("transparent",(function(a){a.setAttributes({uploadStatus:"complete",src:e.default},t),n._parseAndSetSrcsetAttributeOnImage(e,t,a)})),u()})).catch((function(n){if("error"!==e.status&&"aborted"!==e.status)throw n;"error"==e.status&&n&&c.showWarning(n,{title:r("Upload failed"),namespace:"upload"}),u(),i.enqueueChange("transparent",(function(e){e.remove(t)}))}));function u(){i.enqueueChange("transparent",(function(e){e.removeAttribute("uploadId",t),e.removeAttribute("uploadStatus",t)})),o.destroyLoader(e)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(e,t,n){var a=0,i=Object.keys(e).filter((function(e){var t=parseInt(e,10);if(!isNaN(t))return a=Math.max(a,t),!0})).map((function(t){return"".concat(e[t]," ").concat(t,"w")})).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:a},t)}}]),n}(c["a"]);function L(e){return Array.from(e.types).includes("text/html")&&""!==e.getData("text/html")}function M(e,t){return Array.from(e.model.createRangeOn(t)).filter((function(e){return e.item.is("element","image")})).map((function(e){return e.item}))}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var $=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[q,b,j]}}]),n}(c["a"])},8030:function(e,t,n){},"8b25":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=(n("45fc"),n("b85c")),u=n("109b"),s=n("f61b"),l=(n("4de4"),n("a630"),n("caad"),n("b0c0"),n("2532"),n("3ca3"),n("652f")),d=n("0b65"),f=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(e,i){var r;return Object(a["a"])(this,n),r=t.call(this,e),r.modelElements=i,r}return Object(i["a"])(n,[{key:"refresh",value:function(){var e=this,t=Object(d["a"])(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((function(n){return m(t,n,e.editor.model.schema)}))}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document,a=e.value;t.change((function(e){var i,r=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return m(e,a,t.schema)})),o=Object(c["a"])(r);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.is("element",a)||e.rename(u,a)}}catch(s){o.e(s)}finally{o.f()}}))}}]),n}(l["a"]);function m(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}var g=n("5bfb"),b="paragraph",h=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(e){var i;return Object(a["a"])(this,n),i=t.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),i}return Object(i["a"])(n,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),Object(i["a"])(n,[{key:"init",value:function(){var e,t=this.editor,n=t.config.get("heading.options"),a=[],i=Object(c["a"])(n);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.model!==b&&(t.model.schema.register(r.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(r),a.push(r.model))}}catch(o){i.e(o)}finally{i.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new f(t,a))}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(function(t,a){var i=e.model.document.selection.getFirstPosition().parent,r=n.some((function(e){return i.is("element",e.model)}));r&&!i.is("element",b)&&0===i.childCount&&a.writer.rename(i,b)}))}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:g["a"].get("low")+1})}}],[{key:"requires",get:function(){return[s["a"]]}}]),n}(u["a"]),v=n("6a40"),p=n("ceea");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */n("d81d");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function y(e){var t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}var O=n("67b9"),j=(n("8b56"),function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,a=y(t),i=n("Choose heading"),r=n("Heading");t.ui.componentFactory.add("heading",(function(n){var o,u={},s=new O["a"],l=t.commands.get("heading"),d=t.commands.get("paragraph"),f=[l],m=Object(c["a"])(a);try{var g=function(){var e=o.value,t={type:"button",model:new v["a"]({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(d,"value"),t.model.set("commandName","paragraph"),f.push(d)):(t.model.bind("isOn").to(l,"value",(function(t){return t===e.model})),t.model.set({commandName:"heading",commandValue:e.model})),s.add(t),u[e.model]=e.title};for(m.s();!(o=m.n()).done;)g()}catch(h){m.e(h)}finally{m.f()}var b=Object(p["c"])(n);return Object(p["a"])(b,s),b.buttonView.set({isOn:!1,withText:!0,tooltip:r}),b.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),b.bind("isEnabled").toMany(f,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),b.buttonView.bind("label").to(l,"value",d,"value",(function(e,t){var n=e||t&&"paragraph";return u[n]?u[n]:i})),e.listenTo(b,"execute",(function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),b}))}}]),n}(u["a"])),w=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"requires",get:function(){return[h,j]}},{key:"pluginName",get:function(){return"Heading"}}]),n}(u["a"])},"8b56":function(e,t,n){},"92bd":function(e,t,n){},b6ab:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("d4ec"),i=n("bee2"),r=n("262e"),o=n("2caf"),c=n("109b"),u=n("edea"),s=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"observe",value:function(e){var t=this;this.listenTo(e,"load",(function(e,n){var a=n.target;t.checkShouldIgnoreEventFromTarget(a)||"IMG"==a.tagName&&t._fireEvents(n)}),{useCapture:!0})}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}]),n}(u["a"]),l=(n("b0c0"),n("0b65")),d=n("beb5");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function f(){return function(t){t.on("element:figure",e)};function e(e,t,n){if(n.consumable.test(t.viewItem,{name:!0,classes:"image"})){var a=Object(d["b"])(t.viewItem);if(a&&a.hasAttribute("src")&&n.consumable.test(a,{name:!0})){var i=n.convertItem(a,t.modelCursor),r=Object(l["a"])(i.modelRange.getItems());r&&(n.convertChildren(t.viewItem,r),n.updateConversionResult(r,t))}}}}function m(){return function(t){t.on("attribute:srcset:image",e)};function e(e,t,n){if(n.consumable.consume(t.item,e.name)){var a=n.writer,i=n.mapper.toViewElement(t.item),r=Object(d["b"])(i);if(null===t.attributeNewValue){var o=t.attributeOldValue;o.data&&(a.removeAttribute("srcset",r),a.removeAttribute("sizes",r),o.width&&a.removeAttribute("width",r))}else{var c=t.attributeNewValue;c.data&&(a.setAttribute("srcset",c.data,r),a.setAttribute("sizes","100vw",r),c.width&&a.setAttribute("width",c.width,r))}}}}function g(e){return function(n){n.on("attribute:".concat(e,":image"),t)};function t(e,t,n){if(n.consumable.consume(t.item,e.name)){var a=n.writer,i=n.mapper.toViewElement(t.item),r=Object(d["b"])(i);a.setAttribute(t.attributeKey,t.attributeNewValue||"",r)}}}var b=n("b85c"),h=n("652f"),v=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"refresh",value:function(){this.isEnabled=Object(d["e"])(this.editor.model)}},{key:"execute",value:function(e){var t=this.editor.model;t.change((function(n){var a,i=Array.isArray(e.source)?e.source:[e.source],r=Object(b["a"])(i);try{for(r.s();!(a=r.n()).done;){var o=a.value;Object(d["c"])(n,t,{src:o})}}catch(c){r.e(c)}finally{r.f()}}))}}]),n}(h["a"]),p=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,a=e.conversion;e.editing.view.addObserver(s),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),a.for("dataDowncast").elementToElement({model:"image",view:function(e,t){var n=t.writer;return y(n)}}),a.for("editingDowncast").elementToElement({model:"image",view:function(e,t){var a=t.writer;return Object(d["f"])(y(a),a,n("image widget"))}}),a.for("downcast").add(g("src")).add(g("alt")).add(m()),a.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(e,t){var n=t.writer;return n.createElement("image",{src:e.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(f()),e.commands.add("imageInsert",new v(e))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),n}(c["a"]);function y(e){var t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}},bcf9:function(e,t,n){},beb5:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return f}));n("99af"),n("a623"),n("7db0");var a=n("2909"),i=n("b85c"),r=n("2beb");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function o(e,t,n){return t.setCustomProperty("image",!0,e),Object(r["g"])(e,t,{label:a});function a(){var t=f(e),a=t.getAttribute("alt");return a?"".concat(a," ").concat(n):n}}function c(e){return!!e.getCustomProperty("image")&&Object(r["e"])(e)}function u(e){var t=e.getSelectedElement();return t&&c(t)?t:null}function s(e){return!!e&&e.is("element","image")}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.createElement("image",n),i=Object(r["c"])(t.document.selection,t);t.insertContent(a,i),a.parent&&e.setSelection(a,"on")}function d(e){var t=e.schema,n=e.document.selection;return m(n,t,e)&&!g(n,t)&&b(n)}function f(e){var t,n=[],r=Object(i["a"])(e.getChildren());try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o),o.is("element")&&n.push.apply(n,Object(a["a"])(o.getChildren()))}}catch(c){r.e(c)}finally{r.f()}return n.find((function(e){return e.is("element","img")}))}function m(e,t,n){var a=h(e,n);return t.checkChild(a,"image")}function g(e,t){var n=e.getSelectedElement();return n&&t.isObject(n)}function b(e){return Object(a["a"])(e.focus.getAncestors()).every((function(e){return!e.is("element","image")}))}function h(e,t){var n=Object(r["c"])(e,t),a=n.parent;return a.isEmpty&&!a.is("element","$root")?a.parent:a}},c44c:function(e,t,n){}}]);